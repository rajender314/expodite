<div class="orders">
  <div>
    <mat-horizontal-stepper #stepper>
      <mat-step-header></mat-step-header>

      <mat-step>
        <div *ngIf="!fetchingData">
          <mat-toolbar class="inner-detail-toolbar" id="order-toolbar">
            <div class="inv-back" (click)="backToOrders(stepper)">
              <mat-icon class="back-to-orders">arrow_back</mat-icon>
            </div>
            <img [src]="images.small_icon" />
            <span
              class="title"
              *ngIf="!clientPermission"
              title="{{ orders.selectedOrder.order_no }}"
              >{{ orders.selectedOrder.order_no }}</span
            >
            <span
              class="title"
              *ngIf="clientPermission"
              title="{{ orders.selectedOrder.po_nbr }}"
              >{{ orders.selectedOrder.po_nbr }}</span
            >
            <div
              class="order-detail-status"
              [ngStyle]="{ background: orders.selectedOrder.status_color_code }"
            >
              {{ selectedOrderStatus }}
            </div>
            <span fxFlex></span>
            <!-- {{orders.selectedOrder.orders_types_id}}
                        {{blockContent}}
                        {{disableCancel}}
                        {{factoryPermission}}
                        {{orders.selectedOrder.orders_types_id}} -->
            <span class="order-date"
              >Client Name:
              <b>{{ orders.selectedOrder.client_name }}</b>
            </span>
            <span class="vertical-divider"></span>
            <span class="order-date"
              >Order Date:
              <b>{{ orders.selectedOrder.date_added }}</b>
            </span>
            <span class="vertical-divider"></span>

            <button
              mat-button
              class="cancel-order-button"
              [disableRipple]="true"
              *ngIf="
                disableCancel != undefined &&
                !(orders.selectedOrder.orders_types_id == '5') &&
                blockContent &&
                !disableCancel &&
                factoryPermission &&
                !(orders.selectedOrder.orders_types_id == '4')
              "
              (click)="cancelAllOrder()"
            >
              Cancel this Order
            </button>
            <button
              mat-button
              class="cancel-order-button"
              [disableRipple]="true"
              *ngIf="
                disableCancel != undefined &&
                disableCancel &&
                blockContent &&
                factoryPermission &&
                !(orders.selectedOrder.orders_types_id == '4')
              "
              (click)="deliverOrder()"
            >
              Mark as Delivered
            </button>
            <button
              mat-button
              class="cancel-order-button"
              [disableRipple]="true"
              *ngIf="
                selectedOrderStatus == 'Delivered' ||
                selectedOrderStatus == 'Mail Sent'
              "
              (click)="deliverOrder()"
            >
              Delivery Info
            </button>
            <!-- *ngIf="orders.shipping_data.shipping_id" -->
            <!-- orders.shipping_data.link_url -->
            <button
              mat-button
              class="cancel-order-button"
              *ngIf="factoryPermission && !clientPermission"
              [disabled]="
                sendDocumentMails == false || selectedOrderStatus == 'Cancelled'
              "
              [disableRipple]="true"
              (click)="sendMails()"
            >
              Email Documents
            </button>
            <!--hiding for now not working -->
            <!-- <span class="vertical-divider"></span> -->

            <!-- <button mat-button class="order-download" *ngIf="factoryPermission && !clientPermission"
              [disabled]="downloadStatus == false" [disableRipple]="true" (click)="orderDownload()">
              <img [src]='images.download_order' title="order download">
              <span class="download-order-text">Download All Documents</span>
            </button> -->
            <!-- <a href="generateCoaPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                            <button mat-icon-button>
                                <img [src]='images.download_arrow' title="Download">
                            </button>
                        </a> -->
            <!-- (click)="orderDownload()" -->
          </mat-toolbar>
          <div
            class="inner-detail-container"
            id="innerDetailContent"
            fxLayout="row"
          >
            <div class="side-nav">
              <mat-list class="inner-detail-list">
                <!-- <ng-container *ngFor="let item of docsList.standardLinks">
                                    <mat-list-item class="inactive-tab" *ngIf="item.selected" title={{item.name}} (click)="this[item.function]()"
                                        [class.active]="(activeTab== item.class)">
                                        <mat-icon mat-list-icon>
                                            <img src={{item.imgSrc}} alt={{item.name}}>
                                        </mat-icon>
                                        <h4 mat-line>{{item.name}}</h4>
                                    </mat-list-item>
                                </ng-container> -->
                <mat-list-item
                  class="inactive-tab"
                  title="Activity"
                  (click)="moveToActivity()"
                  [class.active]="activeTab == 'activity'"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #ef5350"
                  >
                    <img [src]="images.activity_small" title="Activity" />
                  </mat-icon>
                  <h4 mat-line>Activity</h4>
                </mat-list-item>

                <mat-list-item
                  class="inactive-tab"
                  title="Order Details"
                  (click)="moveToDetails()"
                  [class.active]="activeTab == 'details'"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #f07e0a"
                  >
                    <img
                      [src]="images.orders_small"
                      style="position: relative; top: 3px"
                      title="Order Details"
                    />
                  </mat-icon>
                  <h4 mat-line>Order Details</h4>
                </mat-list-item>

                <!-- Hiding for aapl feature -->
                <!-- <mat-list-item class="inactive-tab" title="{{commercialName}}" (click)="moveToSalesInvoice()"
                  *ngIf="factoryPermission && !clientPermission"
                  [ngClass]="{'active':activeTab=='salescontract || commercialinvoice',
                  'no-details': (orders.selectedOrder.orders_types_id =='1' || orders.selectedOrder.orders_types_id =='2'||orders.selectedOrder.orders_types_id =='5')}">
                  <mat-icon mat-list-icon class="post_ship_icon icon-menu" style="background-color: #f07e0a;">
                    <img [src]='images.orders_small' style="position: relative; top: 1px;" title="{{commercialName}}">
                  </mat-icon>
                  <h4 mat-line>{{commercialName}}</h4>

                </mat-list-item> -->

                <mat-list-item
                  class="inactive-tab"
                  title="Packing Details"
                  *ngIf="!isSampleDocs"
                  (click)="moveToPackaging()"
                  [ngClass]="{
                    active: activeTab == 'packaging',
                    'no-details':
                      orders.selectedOrder.orders_types_id < 10 &&
                      orders.selectedOrder.orders_types_id != '4' &&
                      orders.selectedOrder.orders_types_id != '6'
                  }"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #8b5729"
                  >
                    <img
                      [src]="images.pkgDetails_small"
                      title="Packing Details"
                    />
                  </mat-icon>
                  <h4 mat-line>Packing Details</h4>
                </mat-list-item>
                <!-- <mat-list-item class="inactive-tab" title="Packing Details LUT" *ngIf="!isSampleDocs "
                  (click)="moveToPackagingLut()"
                  [ngClass]="{'active':activeTab=='packagingLut','no-details':orders.packageOrders.invStatus !='2'}">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #8b5729">
                    <img [src]='images.pkgDetails_small' title="Packing Details LUT">
                  </mat-icon>
                  <h4 mat-line>Packing Details LUT</h4>
                </mat-list-item> -->
                <!-- <mat-list-item class="inactive-tab" *ngIf="!isSampleDocs " (click)="moveToPrimaryPackage()"
                  [ngClass]="{'active':activeTab=='primary-packaging','no-details':orders.packageOrders.invStatus !='2'}">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #8b5729">
                    <img [src]='images.pkgDetails_small' title="Primary Packing Details">
                  </mat-icon>
                  <h4 mat-line>Primary Packing Details</h4>
                </mat-list-item> -->

                <mat-list-item
                  class="inactive-tab"
                  title="COA"
                  (click)="moveToCoa()"
                  *ngIf="!isMerchantExporter"
                  [ngClass]="{
                    active: activeTab == 'coa',
                    'no-details': orders.packageOrders.invStatus != '2'
                  }"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #55a2aa"
                  >
                    <img
                      [src]="images.coa_small"
                      title="COA"
                      style="position: relative; top: 1px"
                    />
                  </mat-icon>
                  <h4 mat-line>COA</h4>
                </mat-list-item>
                <mat-list-item
                  class="inactive-tab"
                  title="Freight and Logistics for Customs Passing"
                  (click)="moveToFreight()"
                  *ngIf="factoryPermission"
                  [ngClass]="{
                    active: activeTab == 'freight',
                    'no-details':
                      this.orders.selectedOrder.orders_types_id < 11 &&
                      this.orders.selectedOrder.orders_types_id != '4' &&
                      this.orders.selectedOrder.orders_types_id != '6'
                  }"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #679136"
                  >
                    <img
                      [src]="images.shippingDetails_small"
                      title="Freight and Logistics for Customs Passing"
                    />
                  </mat-icon>
                  <h4 mat-line>Freight and Logistics for Customs Passing</h4>
                </mat-list-item>
                <mat-list-item
                  class="inactive-tab"
                  title="Other Order Details"
                  (click)="moveToOtherOrder()"
                  *ngIf="factoryPermission"
                  [ngClass]="{
                    active: activeTab == 'otherOrder',
                    'no-details':
                      this.orders.selectedOrder.orders_types_id < 12 &&
                      this.orders.selectedOrder.orders_types_id != '4' &&
                      this.orders.selectedOrder.orders_types_id != '6' &&
                      !saveFreight
                  }"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #679136"
                  >
                    <img
                      [src]="images.shippingDetails_small"
                      title="Other Order Details"
                    />
                  </mat-icon>
                  <h4 mat-line>Other Order Details</h4>
                </mat-list-item>

                <mat-list-item
                  class="inactive-tab"
                  title="Shipping Details"
                  (click)="moveToShipping()"
                  *ngIf="factoryPermission"
                  [ngClass]="{
                    active: activeTab == 'shipping',
                    'no-details': !customDocs
                  }"
                >
                  <mat-icon
                    mat-list-icon
                    class="icon-menu"
                    style="background: #679136"
                  >
                    <img
                      [src]="images.shippingDetails_small"
                      title="Shipping Details"
                    />
                  </mat-icon>
                  <h4 mat-line>Shipping Details</h4>
                </mat-list-item>
                <mat-list-item
                  class="inactive-tab"
                  title="OtherCost"
                  (click)="moveToOtherCosts()"
                  *ngIf="factoryPermission"
                  [ngClass]="{
                    active: activeTab == 'othercosts',
                    'no-details':
                      orders.selectedOrder.orders_types_id != '14' &&
                      orders.selectedOrder.orders_types_id != '4' &&
                      orders.selectedOrder.orders_types_id != '6'
                  }"
                >
                  <mat-icon mat-list-icon class="icon-menu">
                    <img [src]="images.other_cost_icon" title="OtherCost" />
                  </mat-icon>
                  <h4 mat-line>Other Costs</h4>
                </mat-list-item>
                <mat-list-item
                  class="inactive-tab"
                  title="OtherCost"
                  (click)="moveToExportForm()"
                  *ngIf="factoryPermission"
                  [ngClass]="{
                    active: activeTab == 'exportregister',
                    'no-details':
                      orders.selectedOrder.orders_types_id != '14' &&
                      orders.selectedOrder.orders_types_id != '4' &&
                      orders.selectedOrder.orders_types_id != '6'
                  }"
                >
                  <mat-icon mat-list-icon class="icon-menu">
                    <img
                      [src]="images.export_register"
                      title="exportRegister"
                    />
                  </mat-icon>
                  <h4 mat-line>Export Register</h4>
                </mat-list-item>
                <mat-list
                  class="shipment_section"
                  style="padding-top: 0"
                  *ngIf="isSampleDocs"
                >
                  <mat-list-item
                    class="inactive-tab"
                    title="Non Hazardous Certificate"
                    *ngIf="factoryPermission && !clientPermission"
                    (click)="moveToNonHazardous()"
                    [ngClass]="{
                      active: activeTab == 'nonHazardous',
                      'no-details': orders.packageOrders.invStatus != '2'
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Non Hazardous Certificate"
                      />
                    </mat-icon>
                    <h4 mat-line title="Non Hazardous Certificate">
                      Non Hazardous Certificate
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Declaration"
                    (click)="moveToDeclaration()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{
                      active: activeTab == 'Declaration',
                      'no-details': orders.packageOrders.invStatus != '2'
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="Declaration" />
                    </mat-icon>
                    <h4 mat-line>Declaration</h4>
                  </mat-list-item>
                </mat-list>
              </mat-list>

              <mat-divider class="divider"></mat-divider>
              <mat-list
                class="shipment_section inv_hover"
                style="padding-top: 0"
              >
                <mat-expansion-panel
                  class="shipment_panel"
                  *ngIf="
                    factoryPermission && !clientPermission && !isSampleDocs
                  "
                >
                  <mat-expansion-panel-header
                    [collapsedHeight]="'40px'"
                    [expandedHeight]="'40px'"
                  >
                    <mat-list-item
                      class="inactive-tab shipping_item inv_hover"
                      [ngClass]="{
                        active: activeTab == 'invoice',
                        'no-details': !customDocs
                      }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #f07e0a"
                      >
                        <img
                          [src]="images.orders_small"
                          style="position: relative; top: 1px"
                          title="Custom Documents"
                        />
                      </mat-icon>
                      <h4 mat-line class="shipment_title">Documents</h4>
                    </mat-list-item>
                  </mat-expansion-panel-header>
                  <ng-container>
                    <mat-list-item
                      class="inactive-tab"
                      title="Export Invoice"
                      (click)="moveToExportInvoice()"
                      *ngIf="
                        factoryPermission && !clientPermission && is_automech
                      "
                      [ngClass]="{
                        active: activeTab == 'export-invoice',
                        'no-details': !customDocs
                      }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #f07e0a"
                      >
                        <img
                          [src]="images.orders_small"
                          style="position: relative; top: 1px"
                          title="Export Invoice"
                        />
                      </mat-icon>
                      <h4 mat-line>Export Invoice</h4>
                    </mat-list-item>
                    <mat-list-item
                      class="inactive-tab"
                      title="{{
                        isMerchantExporter ? 'Customs Invoice' : ' Tax Invoice'
                      }} "
                      (click)="moveToTaxInvoice()"
                      *ngIf="factoryPermission && !clientPermission"
                      [ngClass]="{
                        active: activeTab == 'tax-invoice',
                        'no-details': !customDocs
                      }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #f07e0a"
                      >
                        <img
                          [src]="images.orders_small"
                          style="position: relative; top: 1px"
                          title="{{
                            isMerchantExporter
                              ? 'Customs Invoice'
                              : ' Tax Invoice'
                          }}  "
                        />
                      </mat-icon>
                      <h4 mat-line>
                        {{
                          isMerchantExporter
                            ? "Customs Invoice"
                            : " Tax Invoice"
                        }}
                      </h4>
                    </mat-list-item>
                    <mat-list-item
                      class="inactive-tab"
                      title="{{
                        isMerchantExporter ? 'Tax Invoice' : ' IGST Invoice'
                      }}"
                      (click)="moveToIGSTInvoice()"
                      *ngIf="factoryPermission && !clientPermission"
                      [ngClass]="{
                        active: activeTab == 'igst-invoice',
                        'no-details': !customDocs
                      }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #f07e0a"
                      >
                        <img
                          [src]="images.orders_small"
                          style="position: relative; top: 1px"
                          title="{{
                            isMerchantExporter ? 'Tax Invoice' : ' IGST Invoice'
                          }}"
                        />
                      </mat-icon>
                      <h4 mat-line>
                        {{
                          isMerchantExporter ? "Tax Invoice" : " IGST Invoice"
                        }}
                      </h4>
                    </mat-list-item>
                  </ng-container>
                </mat-expansion-panel>
              </mat-list>
              <!--Adc documents-->
              <mat-list
                class="shipment_section inv_hover"
                style="padding-top: 0"
                *ngIf="displayAdc && !is_automech"
              >
                <mat-expansion-panel
                  class="shipment_panel"
                  *ngIf="
                    factoryPermission && !clientPermission && !isSampleDocs
                  "
                >
                  <mat-expansion-panel-header
                    [collapsedHeight]="'40px'"
                    [expandedHeight]="'40px'"
                  >
                    <mat-list-item
                      class="inactive-tab shipping_item inv_hover"
                      [ngClass]="{
                        active: activeTab == 'adcdocuments',
                        'no-details': !preShipDocs
                      }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #f07e0a"
                      >
                        <img
                          [src]="images.orders_small"
                          style="position: relative; top: 1px"
                          title="Custom Documents"
                        />
                      </mat-icon>
                      <h4 mat-line class="shipment_title">ADC Documents</h4>
                    </mat-list-item>
                  </mat-expansion-panel-header>
                  <ng-container>
                    <mat-list-item
                      class="inactive-tab"
                      title="ADC Sheet"
                      (click)="moveToAdcSheetAdcDocs()"
                      *ngIf="factoryPermission && !clientPermission"
                      [ngClass]="{
                        active: activeTab == 'AdcsheetAdcDocs',
                        'no-details': !preShipDocs
                      }"
                    >
                      <mat-icon mat-list-icon>
                        <img [src]="images.pdf_download" title="ADC Sheet" />
                      </mat-icon>
                      <h4 mat-line>ADC Sheet</h4>
                    </mat-list-item>
                    <mat-list-item
                      class="inactive-tab"
                      title="ADC Declration"
                      (click)="moveTonoadcdecl()"
                      *ngIf="factoryPermission && !clientPermission"
                      [ngClass]="{
                        active: activeTab == 'AdcDecl',
                        'no-details': !preShipDocs
                      }"
                    >
                      <mat-icon mat-list-icon>
                        <img
                          [src]="images.pdf_download"
                          title="ADC Declration"
                        />
                      </mat-icon>
                      <h4 mat-line>ADC Declaration</h4>
                    </mat-list-item>
                    <mat-list-item
                      class="inactive-tab"
                      title="NDPS Declaration"
                      (click)="moveToNdpsdecl()"
                      *ngIf="factoryPermission && !clientPermission"
                      [ngClass]="{
                        active: activeTab == 'NdpsDeclration',
                        'no-details': !preShipDocs
                      }"
                    >
                      <mat-icon mat-list-icon>
                        <img
                          [src]="images.pdf_download"
                          title="NDPS Declaration"
                        />
                      </mat-icon>
                      <h4 mat-line>NDPS Declaration</h4>
                    </mat-list-item>
                    <mat-list-item
                      class="inactive-tab"
                      title="Non DGR"
                      (click)="moveToNonDgr()"
                      *ngIf="
                        factoryPermission &&
                        !clientPermission &&
                        displayAdcNonHaz
                      "
                      [ngClass]="{
                        active: activeTab == 'nondgr',
                        'no-details': !preShipDocs
                      }"
                    >
                      <mat-icon mat-list-icon>
                        <img [src]="images.pdf_download" title="Non DGR" />
                      </mat-icon>
                      <h4 mat-line>Non DGR</h4>
                    </mat-list-item>
                    <mat-list-item
                      class="inactive-tab"
                      title="Non DGR"
                      (click)="moveToDGR()"
                      *ngIf="
                        factoryPermission && !clientPermission && displayAdcHaz
                      "
                      [ngClass]="{
                        active: activeTab == 'Dgrdecl',
                        'no-details': !preShipDocs
                      }"
                    >
                      <mat-icon mat-list-icon>
                        <img [src]="images.pdf_download" title="Non DGR" />
                      </mat-icon>
                      <h4 mat-line>DGR</h4>
                    </mat-list-item>
                  </ng-container>
                </mat-expansion-panel>
              </mat-list>
              <mat-list class="shipment_section" style="padding-top: 0">
                <mat-expansion-panel
                  class="shipment_panel"
                  *ngIf="
                    factoryPermission && !clientPermission && !isSampleDocs
                  "
                >
                  <mat-expansion-panel-header
                    [collapsedHeight]="'40px'"
                    [expandedHeight]="'40px'"
                  >
                    <mat-list-item
                      class="inactive-tab shipping_item"
                      [ngClass]="{ 'no-details-grp': !preShipDocs }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #f07e0a"
                      >
                        <img
                          [src]="images.orders_small"
                          style="position: relative; top: 1px"
                          title="Pre-Shipping Documents"
                        />
                      </mat-icon>
                      <h4 mat-line class="shipment_title">
                        Pre-Shipping Documents
                      </h4>
                    </mat-list-item>
                  </mat-expansion-panel-header>
                  <!-- <ng-container *ngFor="let item of docsList.preShip">
                                        <mat-list-item class="inactive-tab" *ngIf="item.selected" title={{item.name}} (click)="this[item.function]()"
                                            [class.active]="(activeTab== item.class)" [class.no-details]="orders.packageOrders.invStatus !='2'">
                                            <mat-icon mat-list-icon>
                                                <img src={{item.imgSrc}} alt={{item.name}}>
                                            </mat-icon>
                                            <h4 mat-line>{{item.name}}</h4>
                                        </mat-list-item>
                                    </ng-container> -->
                  <mat-list-item
                    class="inactive-tab"
                    title="MSDS For"
                    (click)="moveToMsdsForm()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showMSDS
                    "
                    [ngClass]="{
                      active: activeTab == 'msdsForm',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="MSDS For" />
                    </mat-icon>
                    <h4 mat-line>MSDS Form</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="ICTT - DECLARATION"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      is_ictt &&
                      !is_automech &&
                      showICTT
                    "
                    (click)="moveToIcttForm()"
                    [ngClass]="{
                      active: activeTab == 'ictt',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="ICTT - DECLARATION"
                      />
                    </mat-icon>
                    <h4 mat-line title="ICTT - DECLARATION">
                      ICTT - DECLARATION
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Non Hazardous Certificate"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showNonHaz
                    "
                    (click)="moveToNonHazardous()"
                    [ngClass]="{
                      active: activeTab == 'nonHazardous',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Non Hazardous Certificate"
                      />
                    </mat-icon>
                    <h4 mat-line title="Non Hazardous Certificate">
                      Non Hazardous Certificate
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Form SDF"
                    (click)="moveToFormSdf()"
                    *ngIf="factoryPermission && !clientPermission && showSDF"
                    [ngClass]="{
                      active: activeTab == 'Formsdf',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="Form SDF" />
                    </mat-icon>
                    <h4 mat-line>Form SDF</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Export Value Declaration"
                    *ngIf="factoryPermission && !clientPermission && showEVD"
                    (click)="moveToExportValue()"
                    [ngClass]="{
                      active: activeTab == 'Exportvalue',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Export Value Declaration"
                      />
                    </mat-icon>
                    <h4 mat-line title="Export Value Declaration">
                      Export Value Declaration
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Declaration"
                    (click)="moveToDeclaration()"
                    *ngIf="factoryPermission && !clientPermission && showDec"
                    [ngClass]="{
                      active: activeTab == 'Declaration',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="Declaration" />
                    </mat-icon>
                    <h4 mat-line>Declaration</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Self Seal Certificate"
                    (click)="moveToSelfSeal()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      is_automech &&
                      showSSC
                    "
                    [ngClass]="{
                      active: activeTab == 'selfsealcr',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Self Seal Certificate"
                      />
                    </mat-icon>
                    <h4 mat-line>Self Sealing Certificate</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Shipper's Letter"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showSSL
                    "
                    (click)="moveToShipperLetter()"
                    [ngClass]="{
                      active: activeTab == 'Shippersletter',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Shipper's Letter"
                      />
                    </mat-icon>
                    <h4 mat-line>Shipper's Letter</h4>
                  </mat-list-item>

                  <mat-list-item
                    class="inactive-tab"
                    title="ADC Sheet"
                    (click)="moveToAdcSheet()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      displayAdc &&
                      !is_automech &&
                      showADC
                    "
                    [ngClass]="{
                      active: activeTab == 'Adcsheet',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="ADC Sheet" />
                    </mat-icon>
                    <h4 mat-line>ADC Sheet</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Declaration for Incentive"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showDFI
                    "
                    (click)="moveToIncentive()"
                    [ngClass]="{
                      active: activeTab == 'Incentivedeclaration',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Declaration for Incentive"
                      />
                    </mat-icon>
                    <h4 mat-line title="Declaration for Incentive">
                      Declaration for Incentive
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Scomat Declaration"
                    (click)="moveToScomat()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      displayNonScomet &&
                      showSD
                    "
                    [ngClass]="{
                      active: activeTab == 'Scomatdeclaration',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Scomat Declaration"
                      />
                    </mat-icon>
                    <h4 mat-line title="Scomet Declaration">
                      Non Scomet Declaration
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Non Scomat"
                    (click)="moveTonoScometdecl()"
                    *ngIf="
                      factoryPermission && !clientPermission && displayScomet
                    "
                    [ngClass]="{
                      active: activeTab == 'Nonscometdecl',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Non Scomet Declaration"
                      />
                    </mat-icon>
                    <h4 mat-line>Scomet Declaration</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Fema Decloration"
                    (click)="moveToFEMADeclration()"
                    *ngIf="factoryPermission && !clientPermission && showFEMA"
                    [ngClass]="{
                      active: activeTab == 'FEMADeclration',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Fema Decloration"
                      />
                    </mat-icon>
                    <h4 mat-line>FEMA Declaration</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Self Sealed Container"
                    (click)="moveToDetailedSealedContainer()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      is_aapl &&
                      showSSCON
                    "
                    [ngClass]="{
                      active: activeTab == 'SealedContainer',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Self Sealed Container"
                      />
                    </mat-icon>
                    <h4 mat-line>Self Sealed Container</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="CHA Letter"
                    (click)="moveToChaLetter()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      is_aapl &&
                      showCHA
                    "
                    [ngClass]="{
                      active: activeTab == 'ChaLetter',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="CHA Letter" />
                    </mat-icon>
                    <h4 mat-line>CHA Letter</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="RodTep"
                    (click)="moveToRodTep()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      is_aapl &&
                      showRODTEP
                    "
                    [ngClass]="{
                      active: activeTab == 'RodTep',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="RodTep" />
                    </mat-icon>
                    <h4 mat-line>RodTep Declaration</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="VGM"
                    (click)="moveToVGM()"
                    *ngIf="factoryPermission && !clientPermission && showVGMD"
                    [ngClass]="{
                      active: activeTab == 'VGM',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="VGM" />
                    </mat-icon>
                    <h4 mat-line>VGM</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Shipping Instructions Draft"
                    (click)="moveToSIDraft()"
                    *ngIf="factoryPermission && !clientPermission && showSID"
                    [ngClass]="{
                      active: activeTab == 'SIDraft',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Shipping Instructions Draft"
                      />
                    </mat-icon>
                    <h4 mat-line>Shipping Instructions Draft</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Package List"
                    (click)="moveToPackage()"
                    *ngIf="factoryPermission && !clientPermission && is_aapl"
                    [ngClass]="{
                      active: activeTab == 'PostPackage',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="Package List" />
                    </mat-icon>
                    <h4 mat-line>Packing List</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Turn Over Declaration"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showTOD
                    "
                    (click)="moveToConcern()"
                    [ngClass]="{
                      active: activeTab == 'Concern',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Turn Over Declaration"
                      />
                    </mat-icon>
                    <h4 mat-line title="Turn Over Declaration">
                      Turn Over Declaration
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="AD Code"
                    (click)="moveToAdcode()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showADCode
                    "
                    [ngClass]="{
                      active: activeTab == 'Adcode',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="AD Code" />
                    </mat-icon>
                    <h4 mat-line title="AD Code">AD Code</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="LUT"
                    (click)="moveToLut()"
                    *ngIf="
                      factoryPermission &&
                      showDocuments &&
                      !clientPermission &&
                      !is_automech
                    "
                    [ngClass]="{
                      active: activeTab == 'Lut',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="LUT" />
                    </mat-icon>
                    <h4 mat-line title="LUT">LUT</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="IEC"
                    (click)="moveToIec()"
                    *ngIf="
                      factoryPermission &&
                      showDocuments &&
                      !clientPermission &&
                      !is_automech
                    "
                    [ngClass]="{
                      active: activeTab == 'Iec',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="IEC" />
                    </mat-icon>
                    <h4 mat-line title="IEC">IEC</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="SSI"
                    (click)="moveToSsi()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showSSI
                    "
                    [ngClass]="{
                      active: activeTab == 'Ssi',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="SSI" />
                    </mat-icon>
                    <h4 mat-line title="SSI">SSI</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="UNIT"
                    (click)="moveToUnit()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_automech &&
                      showCHK
                    "
                    [ngClass]="{
                      active: activeTab == 'Unit',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="UNIT" />
                    </mat-icon>
                    <h4 mat-line title="UNIT">Check List</h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Self-Sealed Report"
                    (click)="moveToSealed()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      is_sealed_report &&
                      !is_automech &&
                      showSSR
                    "
                    [ngClass]="{
                      active: activeTab == 'SealedReport',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Self-Sealed Report"
                      />
                    </mat-icon>
                    <h4 mat-line title="Self-Sealed Report">
                      Self-Sealed Report
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="DRAFT BL"
                    (click)="moveToDraftBl()"
                    *ngIf="
                      factoryPermission &&
                      !clientPermission &&
                      !is_sso &&
                      !is_automech &&
                      showDBL
                    "
                    [ngClass]="{
                      active: activeTab == 'DraftBl',
                      'no-details': !preShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="DRAFT BL" />
                    </mat-icon>
                    <h4 mat-line title="DRAFT BL">DRAFT BL</h4>
                  </mat-list-item>
                </mat-expansion-panel>
              </mat-list>
              <mat-list
                class="shipment_section post_document_section"
                style="padding-top: 0"
              >
                <mat-expansion-panel
                  class="shipment_panel"
                  *ngIf="
                    factoryPermission && !clientPermission && !isSampleDocs
                  "
                >
                  <mat-expansion-panel-header
                    [collapsedHeight]="'40px'"
                    [expandedHeight]="'40px'"
                  >
                    <mat-list-item
                      class="inactive-tab shipping_item"
                      [ngClass]="{ 'no-details-grp': !postShipDocs }"
                    >
                      <mat-icon
                        mat-list-icon
                        class="post_ship_icon icon-menu"
                        style="background-color: #1f8080"
                      >
                        <img
                          [src]="images.invoice_small"
                          style="position: relative; top: -1px"
                          title="Post-Shipping Documents"
                        />
                      </mat-icon>
                      <h4 mat-line class="shipment_title">
                        Post-Shipping Documents
                      </h4>
                    </mat-list-item>
                  </mat-expansion-panel-header>
                  <!-- <ng-container *ngFor="let item of docsList.postShip">
                                        <mat-list-item class="inactive-tab" *ngIf="item.selected" title={{item.name}} (click)="this[item.function]()"
                                            [class.active]="(activeTab== item.class)" [class.no-details]="orders.selectedOrder.orders_types_id != '14' && orders.selectedOrder.orders_types_id != 14 && orders.selectedOrder.orders_types_id != '6''">
                                            <mat-icon mat-list-icon>
                                                <img src={{item.imgSrc}} alt={{item.name}}>
                                            </mat-icon>
                                            <h4 mat-line>{{item.name}}</h4>
                                        </mat-list-item>
                                    </ng-container> -->

                  <mat-list-item
                    class="inactive-tab"
                    title="Commercial Invoice"
                    (click)="moveToPostCommercialInvoice()"
                    *ngIf="factoryPermission && !clientPermission && is_aapl"
                    [ngClass]="{
                      active: activeTab == 'postCommercialInvoice',
                      'no-details': !postShipDocs
                    }"
                  >
                    <mat-icon
                      mat-list-icon
                      class="post_ship_icon icon-menu"
                      style="background-color: #f07e0a"
                      ><img
                        [src]="images.orders_small"
                        style="position: relative; top: 1px"
                        title="Export Invoice"
                      />
                    </mat-icon>
                    <h4 mat-line>
                      <!-- {{
                        commercialInvoiceData?.is_composite
                          ? "Joint"
                          : "Commercial"
                      }} -->
                      Commercial Invoice
                      <span *ngIf="originFileAttachments.length"
                        >({{ originFileAttachments.length }})</span
                      >
                    </h4>
                  </mat-list-item>

                  <mat-list-item
                    class="inactive-tab"
                    title="Country of Origin"
                    (click)="moveToOrigin()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{
                      active: activeTab == 'origin',
                      'no-details': !postShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img
                        [src]="images.pdf_download"
                        title="Country of Origin"
                      />
                    </mat-icon>
                    <h4 mat-line>
                      Country of Origin
                      <span *ngIf="originFileAttachments.length"
                        >({{ originFileAttachments.length }})</span
                      >
                    </h4>
                  </mat-list-item>
                  <mat-list-item
                    class="inactive-tab"
                    title="Insurance"
                    (click)="moveToInsurance()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{
                      active: activeTab == 'insurance',
                      'no-details': !postShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="Insurance" />
                    </mat-icon>
                    <h4 mat-line>
                      Insurance
                      <span *ngIf="insuranceAttachments.length"
                        >({{ insuranceAttachments.length }})</span
                      >
                    </h4>
                  </mat-list-item>

                  <mat-list-item
                    class="inactive-tab"
                    title="Shipping Bill"
                    (click)="moveToAirway()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{
                      active: activeTab == 'airway',
                      'no-details': !postShipDocs
                    }"
                  >
                    <mat-icon mat-list-icon>
                      <img [src]="images.pdf_download" title="Shipping Bill" />
                    </mat-icon>
                    <h4 mat-line>
                      Shipping Bill
                      <span *ngIf="airwayAttachments.length"
                        >({{ airwayAttachments.length }})</span
                      >
                    </h4>
                  </mat-list-item>
                </mat-expansion-panel>
              </mat-list>

              <mat-divider class="divider"></mat-divider>

              <div
                fxLayout="column"
                class="image-upload uploader-ui-section"
                *ngIf="factoryPermission"
                [class.not-allowed]="pointerEvent"
              >
                <p class="label-title">
                  Other Documents
                  <span
                    class="upload-inform"
                    *ngIf="
                      !(orders.selectedOrder.orders_types_id == '5') &&
                      blockContent
                    "
                  >
                    <mat-icon
                      class="mat-icon material-icons"
                      role="img"
                      aria-hidden="true"
                      title="Valid File Types: jpg, jpeg, pdf, png, doc, docx. File Size: Upto 5MB"
                      >info</mat-icon
                    >
                  </span>
                </p>
                <div
                  *ngIf="!clientPermission"
                  ng2FileDrop
                  [ngClass]="{ 'file-over': hasDropZoneOver }"
                  (fileOver)="fileOverBase($event)"
                  (onFileDrop)="fileDrop($event)"
                  [uploader]="uploader"
                  class="file-zone"
                  [ngClass]="{
                    disableClass: selectedOrderStatus == 'Delivered',
                    'events-none': selectedOrderStatus == 'Delivered'
                  }"
                >
                  <input
                    id="upload-attachments"
                    type="file"
                    ng2FileSelect
                    [uploader]="uploader"
                    [ngClass]="{
                      disableClass: selectedOrderStatus == 'Delivered',
                      'events-none': selectedOrderStatus == 'Delivered'
                    }"
                    (change)="fileSelected($event)"
                    [hidden]="true"
                    multiple
                  />
                  <div class="pdf-upload layout-column">
                    <div class="upload-block">
                      <!-- <span class="title">Other Documents</span> -->
                    </div>
                    <label
                      for="upload-attachments"
                      *ngIf="
                        !(orders.selectedOrder.orders_types_id == '5') &&
                        blockContent
                      "
                    >
                      <span
                        class="upload-btn"
                        [ngClass]="{
                          disableClass: selectedOrderStatus == 'Delivered',
                          'events-none': selectedOrderStatus == 'Delivered'
                        }"
                        (click)="setImageUrl($event)"
                      >
                        <mat-icon
                          class="mat-icon material-icons"
                          role="img"
                          aria-hidden="true"
                        >
                          add</mat-icon
                        >
                        <span>Upload</span>
                      </span>
                    </label>
                  </div>
                  <p class="no-docs" *ngIf="!attachments.length">
                    No Documents Uploaded
                  </p>
                </div>
                <div class="images">
                  <mat-list
                    class="other-docs-images"
                    *ngIf="attachments.length"
                  >
                    <mat-list-item
                      class="images-list"
                      *ngFor="let file of attachments; let i = index"
                      (click)="moveToOtherdocs(file)"
                    >
                      <span class="upload-image">
                        <img
                          class="list-upload"
                          [src]="images.fileupload_pdf"
                        />
                      </span>
                      <span
                        class="upload-name"
                        title="{{ file.original_name }}"
                      >
                        <a [href]="file.link_url" target="_blank">{{
                          file.original_name
                        }}</a>
                      </span>
                      <span fxFlex></span>
                      <mat-icon
                        class="delete-upload"
                        *ngIf="blockContent"
                        [class.disableClass]="
                          selectedOrderStatus == 'Delivered' ||
                          selectedOrderStatus == 'Cancelled'
                        "
                        [class.events-none]="
                          selectedOrderStatus == 'Delivered' ||
                          selectedOrderStatus == 'Cancelled'
                        "
                        (click)="deleteAttachment(i, file)"
                        title="Delete"
                        >delete</mat-icon
                      >
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div>
            <div
              fxFlex
              class="inner-detail-content order-detail-content"
              id="printAll"
              #scrollContainer
              (scroll)="scrollOrdersContainer($event)"
            >
              <div class="app-container order-form-view">
                <div class="activity-container" #activity>
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img
                        class="logo-img"
                        [src]="images.activity_small"
                        title="Activity"
                      />
                      <span>Activity Log</span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status">
                      <mat-list
                        *ngFor="
                          let activity of orders.activityDetails.activityLog
                        "
                      >
                        <mat-list-item class="activity-list">
                          <div class="activity-progress today-activity"></div>
                          <div class="activity-details">
                            <span class="activity-name">
                              {{ activity.name }}
                            </span>
                            <span>{{ activity.date_added }}</span>
                          </div>
                        </mat-list-item>
                      </mat-list>
                    </div>
                  </div>
                </div>
                <div [class]="details.print ? 'print' : 'no-print'">
                  <div
                    class="order-inner-container"
                    #details
                    [class.collapse]="!show"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]="images.ordersIcon_o" />
                      <span>Order Details</span>
                      <span fxFlex></span>
                      <div *ngIf="viewActivityLogIcon">
                        <button
                          mat-icon-button
                          class="action-orderbtn"
                          (click)="openActivityModal('order_details')"
                        >
                          <img
                            [src]="images.activity_log_icon"
                            title="Activity Log"
                          />
                        </button>
                      </div>
                      <a
                        *ngIf="
                          !clientPermission &&
                          orders.selectedOrder.status != 'Cancelled'
                        "
                        target="_blank"
                        [ngClass]="{
                          'events-none':
                            orders.selectedOrder.status == 'Cancelled'
                        }"
                        href="generate_pdf?id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button class="action-orderbtn">
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        *ngIf="orders.selectedOrder.status != 'Cancelled'"
                        href="generate_pdf?id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                        [ngClass]="{
                          'events-none':
                            orders.selectedOrder.status == 'Cancelled'
                        }"
                      >
                        <button mat-icon-button class="action-orderbtn">
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggle()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="show"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!show"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="show">
                      <div
                        class="address-container"
                        fxLayout="row"
                        style="min-height: 400px"
                      >
                        <div class="shipper-secction" fxFlex="33">
                          <h4 class="gray-title">SHIPPER</h4>
                          <div
                            class="address-inner-content"
                            *ngIf="orders.selectedOrder.status == 'Placed'"
                          >
                            The shipper address will be updated once the order
                            is accepted.
                          </div>
                          <div
                            class="address-inner-content text-capitalized"
                            *ngIf="orders.selectedOrder.status != 'Placed'"
                          >
                            <b>{{ orders.companyShpAddrDt.ksm_address1 }}</b>
                            <p style="margin: 0px">
                              {{ orders.companyShpAddrDt.ksm_address2 }}
                            </p>
                            <p style="margin: 0px">
                              {{ orders.companyShpAddrDt?.ksm_address3 }}
                            </p>
                            <p style="margin: 0px">
                              {{ orders.companyShpAddrDt?.ksm_address4 }}
                            </p>
                            <p style="margin: 0px">
                              {{ orders.companyShpAddrDt.ksm_city }} -
                              {{ orders.companyShpAddrDt.ksm_postal_code }}
                            </p>
                            <p style="margin: 0px">
                              {{ orders.companyShpAddrDt.ksm_state }}
                            </p>
                            <p style="margin: 0px">
                              {{ orders.companyShpAddrDt.ksm_countrty }}
                            </p>
                          </div>
                          <!-- <button
                            mat-button
                            class="cancel-order-button change-shipper"
                            [class.disableClass]="
                              hideShipperAddress &&
                              orders.selectedOrder.status != 'Received'
                            "
                            [class.events-none]="
                              hideShipperAddress &&
                              orders.selectedOrder.status != 'Received'
                            "
                            [disabled]="
                              orders.selectedOrder.orders_types_id == '5' ||
                              (hideShipperAddress &&
                                orders.selectedOrder.status != 'Received')
                            "
                            [disableRipple]="true"
                            *ngIf="
                              blockContent &&
                              factoryPermission &&
                              orders.selectedOrder.status != 'In-transit' &&
                              orders.selectedOrder.status != 'Cancelled' &&
                              orders.selectedOrder.status != 'Delivered'
                            "
                            (click)="changeAddress()"
                          >
                            <mat-icon>mode_edit</mat-icon>Change Shipper Address
                          </button> -->
                          <!--changing for aapl automech -->
                          <button
                            mat-button
                            class="cancel-order-button change-shipper"
                            [disabled]="
                              orders.selectedOrder.orders_types_id != '1' &&
                              orders.selectedOrder.orders_types_id != '10' &&
                              orders.selectedOrder.orders_types_id != '9'
                            "
                            [class.disableClass]="
                              orders.selectedOrder.orders_types_id != '1' &&
                              orders.selectedOrder.orders_types_id != '10' &&
                              orders.selectedOrder.orders_types_id != '9'
                            "
                            [class.events-none]="
                              orders.selectedOrder.orders_types_id != '1' &&
                              orders.selectedOrder.orders_types_id != '10' &&
                              orders.selectedOrder.orders_types_id != '9'
                            "
                            *ngIf="blockContent && factoryPermission"
                            (click)="changeAddress()"
                          >
                            <mat-icon>mode_edit</mat-icon>Change Shipper Address
                          </button>
                          <div class="instructions">
                            <span
                              title="{{
                                orders.selectedOrder.special_instructions
                              }}"
                              *ngIf="
                                orders.selectedOrder.special_instructions &&
                                factoryPermission &&
                                !clientPermission
                              "
                              >Special Instructions:
                              <b>{{
                                orders.selectedOrder.special_instructions
                              }}</b>
                            </span>
                          </div>
                          <div class="instructions">
                            <span
                              title="{{
                                orders.selectedOrder.special_instructions
                              }}"
                              *ngIf="
                                orders.selectedOrder.dispatch_date &&
                                factoryPermission &&
                                !clientPermission
                              "
                            >
                              Dispatch Date:
                              <b>{{
                                orders.selectedOrder.dispatch_date
                                  | date : "MMM dd, yyyy"
                              }}</b>
                            </span>
                          </div>
                          <div class="instructions">
                            <span
                              title="{{
                                orders.selectedOrder.special_instructions
                              }}"
                              *ngIf="factoryPermission && !clientPermission"
                              >Expected Delivery Date:
                              <b>{{
                                orders.selectedOrder.delivery_date
                                  | date : "MMM dd, yyyy"
                              }}</b>
                            </span>
                          </div>
                        </div>
                        <div class="vertical-divider"></div>
                        <div fxFlex="33" class="order-billing">
                          <div class="shipper-secction">
                            <h4 class="gray-title">BILL TO PARTY</h4>
                            <p class="shippers-text shipper-hdng">
                              {{ orders.billingAddr.company_name }}
                            </p>
                            <div class="address-inner-content">
                              <b class="bill-address">{{
                                orders.billingAddr.bill_address1
                              }}</b>
                              <p class="bill-address text-capitalized">
                                {{ orders.billingAddr.bill_address2 }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.billingAddr?.bill_address3 }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.billingAddr?.bill_address4 }}
                              </p>
                              <p
                                class="bill-address text-capitalized"
                                *ngIf="
                                  orders.billingAddr.bill_city ||
                                  orders.billingAddr.bill_postal_code
                                "
                              >
                                {{ orders.billingAddr.bill_city }} -
                                {{ orders.billingAddr.bill_postal_code }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.billingAddr.bill_state }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.billingAddr.bill_countrty }}
                              </p>
                            </div>
                          </div>
                          <div class="shipper-secction mt_30">
                            <h4 class="gray-title">SHIP TO PARTY</h4>
                            <p class="shippers-text shipper-hdng">
                              {{ orders.shippingAddr.company_name }}
                            </p>
                            <div class="address-inner-content">
                              <b class="bill-address">{{
                                orders.shippingAddr.ship_address1
                              }}</b>
                              <p class="bill-address text-capitalized">
                                {{ orders.shippingAddr.ship_address2 }}
                              </p>
                              <p class="bill-address">
                                {{ orders.shippingAddr?.ship_address3 }}
                              </p>
                              <p class="bill-address">
                                {{ orders.shippingAddr?.ship_address4 }}
                              </p>
                              <p
                                class="bill-address text-capitalized"
                                *ngIf="
                                  orders.shippingAddr.ship_city ||
                                  orders.shippingAddr.ship_postal_code
                                "
                              >
                                {{ orders.shippingAddr.ship_city }} -
                                {{ orders.shippingAddr.ship_postal_code }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.shippingAddr.ship_state }}
                              </p>
                              <p class="bill-address">
                                {{ orders.shippingAddr.ship_countrty }}
                              </p>
                            </div>
                          </div>
                          <div
                            class="shipper-secction mt_30"
                            *ngIf="showNotifyAddress"
                          >
                            <h4 class="gray-title">NOTIFY TO PARTY</h4>
                            <p class="shippers-text shipper-hdng">
                              {{ orders.notifyAddr.company_name }}
                            </p>
                            <div class="address-inner-content">
                              <b class="bill-address">{{
                                orders.notifyAddr.notify_address1
                              }}</b>
                              <p class="bill-address text-capitalized">
                                {{ orders.notifyAddr.notify_address2 }}
                              </p>
                              <p class="bill-address">
                                {{ orders.notifyAddr?.notify_address4 }}
                              </p>
                              <p class="bill-address">
                                {{ orders.notifyAddr?.notify_address3 }}
                              </p>

                              <p
                                class="bill-address text-capitalized"
                                *ngIf="
                                  orders.notifyAddr.notify_city ||
                                  orders.notifyAddr.notify_postal_code
                                "
                              >
                                {{ orders.notifyAddr.notify_city }} -
                                {{ orders.notifyAddr.notify_postal_code }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.notifyAddr.notify_state }}
                              </p>
                              <p class="bill-address text-capitalized">
                                {{ orders.notifyAddr.notify_country }}
                              </p>
                            </div>
                          </div>
                          <!-- <div class="po-date">
                                                        <span>PO DATE :</span>
                                                        <div class="custom-date-container date_po">
                                                            <input class="datepicker" (focus)="openCalendar(picker4)" readonly="true" (click)="openCalendar(picker4)" [(ngModel)]="orders.selectedOrder.po_date"
                                                                [matDatepicker]="picker4" placeholder="Date">
                                                            <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker4 startView="year"></mat-datepicker>
                                                        </div>
                                                    </div> -->
                          <!-- <div class="po-date">
                                                        <p (keydown)="savePoDate($event)">
                                                            <span>PO Date - </span>
                                                                <span
                                                                  contenteditable="true">{{orders.selectedOrder.po_date}}</span>
                                                            </p>
                                                    </div> -->
                        </div>
                        <div
                          fxFlex
                          class="order-po-container"
                          *ngIf="!is_automech"
                        >
                          <div class="order-po">
                            <!-- <a
                              *ngIf="orders.selectedOrder.image"
                              href="{{ orders.selectedOrder.po_url }}"
                              target="_blank"
                              class="po-img"
                            >
                              <img
                                class="logo-img"
                                [src]="orders.selectedOrder.image"
                              />
                            </a> -->
                            <!-- *ngIf="!orders.selectedOrder.image" -->
                            <a class="no-img">
                              <img class="logo-img" [src]="images.file_pdf" />
                            </a>
                            <div class="po-numbheader">
                              <p (keydown)="changePoNo($event)">
                                <span>PO No - </span>
                                <!-- !((orders.selectedOrder.status ==
                                                                  'Cancelled') || (orders.selectedOrder.status ==
                                                                  'In-transit') || (orders.selectedOrder.status ==
                                                                  'Delivered')) -->

                                <span
                                  class="editable-cell"
                                  contenteditable="true"
                                  *ngIf="
                                    orders.selectedOrder.status !=
                                      'In-transit' &&
                                    orders.selectedOrder.status !=
                                      'Cancelled' &&
                                    orders.selectedOrder.status !=
                                      'Delivered' &&
                                    factoryPermission &&
                                    adminUser
                                  "
                                >
                                  {{ orders.selectedOrder.po_nbr }}</span
                                >
                                <span>{{ errormes }}</span>
                                <span
                                  contenteditable="false"
                                  *ngIf="
                                    orders.selectedOrder.status ==
                                      'In-transit' ||
                                    orders.selectedOrder.status ==
                                      'Cancelled' ||
                                    orders.selectedOrder.status ==
                                      'Delivered' ||
                                    !factoryPermission ||
                                    !adminUser
                                  "
                                  >{{ orders.selectedOrder.po_nbr }}</span
                                >
                              </p>
                            </div>
                          </div>
                          <div class="po-date">
                            <mat-form-field
                              class="custom-deliveryDate custom-deliveryDatePo"
                              floatLabel="never"
                              style="position: relative; bottom: 21px"
                            >
                              <label class="custom-labeldate po-date"
                                >PO Date</label
                              >
                              <input
                                matInput
                                class="datepicker"
                                (focus)="openCalendar(picker2)"
                                (click)="openCalendar(picker2)"
                                [disabled]="
                                  orders.selectedOrder.status == 'In-transit' ||
                                  orders.selectedOrder.status == 'Cancelled' ||
                                  orders.selectedOrder.status == 'Delivered' ||
                                  !factoryPermission ||
                                  !adminUser
                                "
                                [(ngModel)]="po_date2"
                                [matDatepicker]="picker2"
                                placeholder="PO Date"
                                readonly
                                (dateChange)="savePoDate()"
                              />
                              <mat-datepicker-toggle
                                class="mat-picker"
                                matSuffix
                                [for]="picker2"
                              >
                              </mat-datepicker-toggle>
                              <mat-datepicker
                                #picker2
                                startView="year"
                              ></mat-datepicker>
                            </mat-form-field>
                            <!-- <p (keydown)="savePoDate($event)">
                                                            <span>PO Date : </span>
                                                            <span class="editable-cell" contenteditable="true"
                                                                *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && factoryPermission && adminUser)">{{orders.selectedOrder.po_date}}</span>
                                                            <span contenteditable="false"
                                                                *ngIf="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' || orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser)">{{orders.selectedOrder.po_date}}</span>
                                                        </p> -->
                          </div>
                        </div>
                      </div>
                      <div fxLayout="row">
                        <div class="orders-table">
                          <mat-table
                            #table
                            [dataSource]="orders.productsData"
                            style="margin-bottom: 0px"
                          >
                            <ng-container matColumnDef="order_product_id">
                              <mat-header-cell
                                *matHeaderCellDef
                                class="justify-left p-8 w-50"
                              >
                                Item
                              </mat-header-cell>
                              <mat-cell
                                *matCellDef="let element"
                                class="justify-left w-50"
                              >
                                {{ element.index }}
                              </mat-cell>
                            </ng-container>
                            <ng-container
                              matColumnDef="po_nbr"
                              *ngIf="is_automech"
                            >
                              <mat-header-cell
                                *matHeaderCellDef
                                class="justify-left p-8 w-150"
                              >
                                PO No.
                              </mat-header-cell>
                              <mat-cell
                                *matCellDef="let element"
                                style="word-break: break-word"
                                class="justify-left w-150"
                              >
                                <div class="quantity-value po-nbr">
                                  <!-- <div class="valuess7"> -->
                                  <!-- {{ element.po_nbr }} -->
                                  <input
                                    #orderDetailEditInput
                                    *ngIf="
                                      is_automech &&
                                      editOrdersPONo ===
                                        element?.order_product_id
                                    "
                                    (keyup)="
                                      saveEditQuntity(
                                        $event,
                                        'pono',
                                        element.index
                                      )
                                    "
                                    [ngStyle]="{
                                      border:
                                        editOrdersPONo ===
                                        element?.order_product_id
                                          ? '1px solid #075da8'
                                          : 'none'
                                    }"
                                    class="edit-hover-qty-orders charges"
                                    oninput="javascript:if (!/^\d*$/.test(this.value)) this.value = this.value.replace(/\D/g,'');"
                                    onpaste="javascript:event.preventDefault();"
                                    [(ngModel)]="element.po_nbr"
                                    (blur)="
                                      onBlur($event, element?.order_product_id)
                                    "
                                  />
                                  <span
                                    *ngIf="
                                      editOrdersPONo !==
                                      element?.order_product_id
                                    "
                                    >{{
                                      element.po_nbr ? element.po_nbr : "--"
                                    }}</span
                                  >
                                  <!-- {{ element.product_quantity }} -->
                                  <!-- </div> -->
                                  <mat-icon
                                    *ngIf="
                                      editOrdersPONo !==
                                      element.order_product_id
                                    "
                                    class="edit-icon-estimate"
                                    (mousedown)="
                                      editQuntity(
                                        'pono',
                                        element.order_product_id
                                      )
                                    "
                                    >edit</mat-icon
                                  >

                                  <mat-icon
                                    *ngIf="
                                      editOrdersPONo ===
                                      element.order_product_id
                                    "
                                    (mousedown)="changePonbr(element, $event)"
                                    class="mat-circle-check close-circle-icons-order"
                                    style="font-size: 24px"
                                    >check_circle_outline</mat-icon
                                  >
                                  <mat-icon
                                    *ngIf="
                                      editOrdersPONo ===
                                      element.order_product_id
                                    "
                                    class="close-conversion close-circle-icons-order"
                                    (click)="closeEdit()"
                                    style="font-size: 24px"
                                    >highlight_off</mat-icon
                                  >
                                  <!-- </div> -->
                                  <!-- <mat-icon class="edit-icon-estimate"
                                    >edit</mat-icon
                                  > -->
                                </div>
                              </mat-cell>
                            </ng-container>
                            <ng-container
                              matColumnDef="product_name"
                              *ngIf="is_automech"
                            >
                              <mat-header-cell
                                *matHeaderCellDef
                                [ngClass]="
                                  is_automech
                                    ? 'justify-left p-8 w-150'
                                    : 'justify-left p-8 w-200'
                                "
                              >
                                Part No.
                              </mat-header-cell>
                              <mat-cell
                                *matCellDef="let element"
                                [ngClass]="
                                  is_automech
                                    ? 'justify-left w-150'
                                    : 'justify-left w-200'
                                "
                                style="word-break: break-word"
                                >{{ element.product_name }}
                                <!-- <div
                                  style="
                                    display: flex;
                                    align-items: center;
                                    gap: 10%;
                                  "
                                >
                                  <a
                                    style="cursor: pointer"
                                    class="click"
                                    title="Preview"
                                    (click)="
                                      openPreview(
                                        dummyObject,
                                        1,
                                        'product_image'
                                      )
                                    "
                                  >
                                    <img
                                      class="logo-img"
                                      style="width: 60px"
                                      [src]="dummyObject.src"
                                    />
                                  </a>
                                  <div>{{ element.product_name }}</div>
                                </div> -->
                              </mat-cell>
                            </ng-container>
                            <ng-container
                              matColumnDef="product_name"
                              *ngIf="is_aapl"
                            >
                              <mat-header-cell
                                *matHeaderCellDef
                                [ngClass]="
                                  is_automech
                                    ? 'justify-left p-8 w-150'
                                    : 'justify-left p-8 w-250'
                                "
                              >
                                Product
                              </mat-header-cell>
                              <!-- style="word-break: break-word" -->
                              <mat-cell
                                *matCellDef="let element"
                                [ngClass]="
                                  is_automech
                                    ? 'justify-left w-150'
                                    : 'justify-left w-250'
                                "
                              >
                                <div
                                  style="
                                    display: flex;
                                    align-items: center;
                                    gap: 10%;
                                    width: 100%;
                                  "
                                >
                                  <a
                                    style="cursor: pointer"
                                    class="click"
                                    title="Preview"
                                    (click)="
                                      openPreview(
                                        element.product_image &&
                                          element.product_image != ''
                                          ? element.product_image
                                          : images.no_product,
                                        1,
                                        'product_image'
                                      )
                                    "
                                  >
                                    <img
                                      class="logo-img"
                                      style="width: 60px; height: 60px"
                                      [src]="
                                        element.product_image &&
                                        element.product_image != ''
                                          ? element.product_image
                                          : images.no_product
                                      "
                                    />
                                  </a>
                                  <div style="flex: 1">
                                    {{ element.product_name }}
                                  </div>
                                </div>
                              </mat-cell>
                            </ng-container>
                            <ng-container matColumnDef="hs_code">
                              <mat-header-cell
                                *matHeaderCellDef
                                class="justify-left p-8 W-100"
                              >
                                HS Code
                              </mat-header-cell>
                              <mat-cell
                                *matCellDef="let element"
                                class="justify-left W-100"
                                style="word-break: break-word"
                              >
                                <div>{{ element?.hs_code }}</div>
                              </mat-cell>
                            </ng-container>
                            <ng-container matColumnDef="product_description">
                              <mat-header-cell
                                *matHeaderCellDef
                                [ngClass]="
                                  is_automech
                                    ? 'justify-left p-8 w-200'
                                    : 'justify-left p-8 w-250'
                                "
                              >
                                Description
                              </mat-header-cell>
                              <mat-cell
                                *matCellDef="let element"
                                style="word-break: break-word; text-align: left"
                                [ngClass]="
                                  is_automech
                                    ? 'valuess justify-left order-description w-200'
                                    : 'valuess justify-left order-description w-250'
                                "
                              >
                                <div
                                  style="width: 100%; display: flex; gap: 6px"
                                >
                                  <div
                                    class="ellipsis"
                                    style="word-break: break-all"
                                    [ngStyle]="{
                                      border:
                                        editOrderDescription ===
                                        element.order_product_id
                                          ? '1px solid #075da8'
                                          : 'none'
                                    }"
                                    [attr.contenteditable]="
                                      editOrderDescription ===
                                      element.order_product_id
                                        ? true
                                        : false
                                    "
                                    (blur)="
                                      saveEditQuntity(
                                        $event,
                                        'description',
                                        element.index
                                      )
                                    "
                                    [innerHTML]="
                                      element.p_description
                                        ? element.p_description
                                        : '--'
                                    "
                                    [title]="
                                      element.p_description
                                        ? element.p_description
                                        : '--'
                                    "
                                  >
                                    <!-- {{ element.p_description }} -->
                                  </div>
                                  <mat-icon
                                    *ngIf="
                                      editOrderDescription !==
                                        element.order_product_id &&
                                      selectedOrderStatus !== 'Cancelled'
                                    "
                                    (click)="openEditDescription(element)"
                                    class="edit-icon-description"
                                    >edit</mat-icon
                                  >
                                  <div style="display: flex">
                                    <mat-icon
                                      *ngIf="
                                        editOrderDescription ===
                                        element.order_product_id
                                      "
                                      (click)="
                                        Editdescription(element, $event, 1)
                                      "
                                      style="font-size: 24px"
                                      class="mat-circle-check close-circle-icons-order"
                                      >check_circle_outline</mat-icon
                                    >
                                    <mat-icon
                                      *ngIf="
                                        editOrderDescription ===
                                        element.order_product_id
                                      "
                                      class="close-conversion close-circle-icons-order"
                                      (click)="closeEdit()"
                                      style="font-size: 24px"
                                      >highlight_off</mat-icon
                                    >
                                  </div>
                                  <!-- <mat-icon class="edit-icon-estimate">edit</mat-icon> -->
                                </div>
                              </mat-cell>
                            </ng-container>
                            <ng-container matColumnDef="product_quantity">
                              <span
                                *ngIf="
                                  orders.selectedOrder.status != 'In-transit' &&
                                  orders.selectedOrder.status != 'Cancelled' &&
                                  orders.selectedOrder.status != 'Delivered' &&
                                  adminUser &&
                                  allowProductEditing
                                "
                              >
                                <mat-header-cell
                                  *matHeaderCellDef
                                  class="justify-right p-8 w-150"
                                >
                                  Quantity
                                </mat-header-cell>
                                <!-- <mat-cell *matCellDef="let element" contenteditable="true"
                                  (keydown)="changePrice(element, $event,1)">
                                  {{element.product_quantity}} </mat-cell> -->
                                <mat-cell
                                  *matCellDef="let element"
                                  class="justify-right w-150"
                                >
                                  <div
                                    class="quantity-value justify-right"
                                    style="word-break: break-all"
                                  >
                                    <mat-icon
                                      *ngIf="element.inventory && is_aapl"
                                      matSuffix
                                      class="icon"
                                      title="Insufficient Inventory"
                                      >warning</mat-icon
                                    >
                                    <!-- <div
                                      contenteditable="true"
                                      (keydown)="
                                        changePrice(element, $event, 1)
                                      "
                                    > -->
                                    <input
                                      #orderDetailEditInput
                                      *ngIf="
                                        !is_automech &&
                                        editOrdersQty ===
                                          element?.order_product_id
                                      "
                                      [ngStyle]="{
                                        border:
                                          editOrdersQty ===
                                          element?.order_product_id
                                            ? '1px solid #075da8'
                                            : 'none'
                                      }"
                                      class="edit-hover-qty-orders charges"
                                      oninput="javascript:if (!/^(\d+(\.\d{0,3})?)?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                      (keyup)="
                                        saveEditQuntity($event, 'quantity')
                                      "
                                      onpaste="javascript:event.preventDefault();"
                                      [(ngModel)]="element.product_quantity"
                                      (blur)="
                                        onBlur(
                                          $event,
                                          element?.order_product_id
                                        )
                                      "
                                      (focus)="removeCommas($event)"
                                    />
                                    <!-- (keyup)="changePrice(element, $event, 1)" -->

                                    <input
                                      #orderDetailEditInput
                                      *ngIf="
                                        is_automech &&
                                        editOrdersQty ===
                                          element?.order_product_id
                                      "
                                      (keyup)="
                                        saveEditQuntity($event, 'quantity')
                                      "
                                      [ngStyle]="{
                                        border:
                                          editOrdersQty ===
                                          element?.order_product_id
                                            ? '1px solid #075da8'
                                            : 'none'
                                      }"
                                      class="edit-hover-qty-orders charges"
                                      oninput="javascript:if (!/^\d*$/.test(this.value)) this.value = this.value.replace(/\D/g,'');"
                                      onpaste="javascript:event.preventDefault();"
                                      [(ngModel)]="element.product_quantity"
                                      (blur)="
                                        onBlur(
                                          $event,
                                          element?.order_product_id
                                        )
                                      "
                                      (focus)="removeCommas($event)"
                                    />
                                    <span
                                      *ngIf="
                                        editOrdersQty !==
                                        element?.order_product_id
                                      "
                                      >{{ element.product_quantity }}</span
                                    >
                                    <!-- {{ element.product_quantity }} -->
                                    <!-- </div> -->
                                    <mat-icon
                                      *ngIf="
                                        editOrdersQty !==
                                        element.order_product_id
                                      "
                                      class="edit-icon-estimate"
                                      (mousedown)="
                                        editQuntity(
                                          'quantity',
                                          element.order_product_id
                                        )
                                      "
                                      style="padding-top: 4px"
                                      >edit</mat-icon
                                    >
                                    <div style="display: flex">
                                      <mat-icon
                                        *ngIf="
                                          editOrdersQty ===
                                          element.order_product_id
                                        "
                                        (mousedown)="
                                          changePrice(element, $event, 1)
                                        "
                                        class="mat-circle-check close-circle-icons-order"
                                        style="font-size: 24px"
                                        >check_circle_outline</mat-icon
                                      >
                                      <mat-icon
                                        *ngIf="
                                          editOrdersQty ===
                                          element.order_product_id
                                        "
                                        class="close-conversion close-circle-icons-order"
                                        (click)="closeEdit()"
                                        style="font-size: 24px"
                                        >highlight_off</mat-icon
                                      >
                                    </div>
                                  </div>
                                </mat-cell>
                              </span>

                              <span
                                *ngIf="
                                  orders.selectedOrder.status == 'In-transit' ||
                                  orders.selectedOrder.status == 'Cancelled' ||
                                  orders.selectedOrder.status == 'Delivered' ||
                                  !factoryPermission ||
                                  !adminUser ||
                                  !allowProductEditing
                                "
                              >
                                <mat-header-cell
                                  *matHeaderCellDef
                                  class="justify-right p-8 W-100"
                                >
                                  Quantity
                                </mat-header-cell>
                                <mat-cell
                                  *matCellDef="let element"
                                  contenteditable="false"
                                  class="justify-right W-100"
                                  (keydown)="changePrice(element, $event, 1)"
                                >
                                  {{ element.product_quantity }}
                                </mat-cell>
                              </span>
                            </ng-container>

                            <ng-container matColumnDef="product_uom">
                              <span
                                *ngIf="
                                  orders.selectedOrder.status != 'In-transit' &&
                                  orders.selectedOrder.status != 'Cancelled' &&
                                  orders.selectedOrder.status != 'Delivered' &&
                                  adminUser
                                "
                              >
                                <mat-header-cell
                                  *matHeaderCellDef
                                  class="justify-right p-8 W-100"
                                >
                                  UOM
                                </mat-header-cell>
                                <mat-cell
                                  *matCellDef="let element"
                                  contenteditable="false"
                                  class="justify-right W-100"
                                >
                                  {{ element.uom_name }}
                                </mat-cell>
                              </span>

                              <span
                                *ngIf="
                                  orders.selectedOrder.status == 'In-transit' ||
                                  orders.selectedOrder.status == 'Cancelled' ||
                                  orders.selectedOrder.status == 'Delivered' ||
                                  !factoryPermission ||
                                  !adminUser
                                "
                              >
                                <mat-header-cell
                                  *matHeaderCellDef
                                  class="justify-right p-8 w-150"
                                >
                                  UOM
                                </mat-header-cell>
                                <mat-cell
                                  *matCellDef="let element"
                                  contenteditable="false"
                                  class="justify-right w-150"
                                >
                                  {{ element.uom_name }}
                                </mat-cell>
                              </span>
                            </ng-container>
                            <!-- <ng-container matColumnDef="product_quantity">


                                                        </ng-container> -->
                            <ng-container matColumnDef="product_price">
                              <span
                                *ngIf="
                                  orders.selectedOrder.status != 'In-transit' &&
                                  orders.selectedOrder.status != 'Cancelled' &&
                                  orders.selectedOrder.status != 'Delivered' &&
                                  adminUser
                                "
                              >
                                <mat-header-cell
                                  *matHeaderCellDef
                                  class="justify-right text-right p-8 w-150"
                                >
                                  Price / Unit <br />({{
                                    orders.selectedOrder.currency
                                  }})
                                </mat-header-cell>
                                <mat-cell
                                  *matCellDef="let element"
                                  class="justify-right w-150"
                                >
                                  <div
                                    class="quantity-value justify-right"
                                    style="word-break: break-all"
                                  >
                                    <!-- <div class="total-text">{{element.currency}}&nbsp;&nbsp;</div> -->
                                    <!-- <div
                                      contenteditable="true"
                                      (keydown)="
                                        changePrice(element, $event, 0)
                                      "
                                      style="text-align: right"
                                    >
                                      {{ element.product_price_number }} -->
                                    <input
                                      #orderDetailEditInput
                                      *ngIf="
                                        editOrderPriceState ===
                                        element?.order_product_id
                                      "
                                      (keyup)="saveEditQuntity($event, 'price')"
                                      [ngStyle]="{
                                        border:
                                          editOrderPriceState ===
                                          element?.order_product_id
                                            ? '1px solid #075da8'
                                            : 'none'
                                      }"
                                      class="edit-hover-qty-orders charges"
                                      oninput="javascript:if (!/^(\d+(\.\d{0,3})?)?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                      onpaste="javascript:event.preventDefault();"
                                      [(ngModel)]="element.product_price_number"
                                      (blur)="
                                        onBlur(
                                          $event,
                                          element?.order_product_id
                                        )
                                      "
                                      (focus)="removeCommas($event)"
                                    />
                                    <!-- </div> -->

                                    <span
                                      *ngIf="
                                        editOrderPriceState !==
                                        element?.order_product_id
                                      "
                                      >{{ element.product_price_number }}</span
                                    >

                                    <mat-icon
                                      *ngIf="
                                        editOrderPriceState !==
                                        element.order_product_id
                                      "
                                      class="edit-icon-estimate"
                                      (mousedown)="
                                        editQuntity(
                                          'price',
                                          element.order_product_id
                                        )
                                      "
                                      style="padding-top: 4px"
                                      >edit</mat-icon
                                    >
                                    <div style="display: flex">
                                      <mat-icon
                                        *ngIf="
                                          editOrderPriceState ===
                                          element.order_product_id
                                        "
                                        (mousedown)="
                                          changePrice(element, $event, 0)
                                        "
                                        class="mat-circle-check close-circle-icons-order"
                                        style="font-size: 24px"
                                        >check_circle_outline</mat-icon
                                      >
                                      <mat-icon
                                        *ngIf="
                                          editOrderPriceState ===
                                          element.order_product_id
                                        "
                                        class="close-conversion close-circle-icons-order"
                                        (click)="closeEdit()"
                                        style="font-size: 24px"
                                        >highlight_off</mat-icon
                                      >
                                    </div>
                                  </div>
                                </mat-cell>
                              </span>
                              <span
                                *ngIf="
                                  orders.selectedOrder.status == 'In-transit' ||
                                  orders.selectedOrder.status == 'Cancelled' ||
                                  orders.selectedOrder.status == 'Delivered' ||
                                  !factoryPermission ||
                                  !adminUser
                                "
                              >
                                <mat-header-cell
                                  *matHeaderCellDef
                                  class="justify-right text-right p-8 w-150"
                                >
                                  Unit / Price <br />({{
                                    orders.selectedOrder.currency
                                  }})
                                </mat-header-cell>
                                <mat-cell
                                  *matCellDef="let element"
                                  class="justify-right w-150"
                                >
                                  <!-- <span class="total-text">{{element.currency}}&nbsp;&nbsp;</span> -->
                                  <span
                                    contenteditable="false"
                                    (keydown)="changePrice(element, $event, 0)"
                                    style="text-align: right"
                                  >
                                    {{ element.product_price_number }}</span
                                  >
                                </mat-cell>
                              </span>
                            </ng-container>
                            <ng-container matColumnDef="product_price_total">
                              <mat-header-cell
                                *matHeaderCellDef
                                class="justify-right text-right p-8 w-150"
                              >
                                Amount <br />({{
                                  orders.selectedOrder.currency
                                }})
                              </mat-header-cell>
                              <mat-cell
                                *matCellDef="let element"
                                class="justify-right w-150"
                              >
                                <!-- <span class="total-text">{{element.currency}}&nbsp;&nbsp;</span> -->
                                <span
                                  contenteditable="false"
                                  (keydown)="changePrice(element, $event, 0)"
                                  style="
                                    text-align: right;
                                    word-break: break-all;
                                  "
                                >
                                  {{ element.product_price_total }}</span
                                >
                              </mat-cell>
                            </ng-container>
                            <mat-header-row *matHeaderRowDef="displayedColumns">
                            </mat-header-row>
                            <mat-row
                              *matRowDef="let row; columns: displayedColumns"
                            >
                            </mat-row>
                          </mat-table>
                          <div class="freight-container">
                            <table
                              class="invoice-costTable order-details"
                              style="width: 100%"
                            >
                              <tbody>
                                <tr>
                                  <td colspan="4" style="width: 60%">
                                    <table>
                                      <tbody>
                                        <tr>
                                          <td></td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>

                                  <td colspan="4" rowspan="2">
                                    <table
                                      style="
                                        width: 100%;
                                        border-collapse: collapse;
                                      "
                                      class="add-line-table"
                                    >
                                      <tbody>
                                        <tr>
                                          <td class="costTable-row" colspan="2">
                                            Sub Total
                                          </td>
                                          <td
                                            class="costTable-row"
                                            style="width: 160px"
                                          >
                                            <span style="padding-right: 5px">
                                              {{
                                                orders.selectedOrder?.sub_total
                                              }}</span
                                            >
                                          </td>
                                        </tr>
                                        <tr>
                                          <td class="costTable-row" colspan="2">
                                            Insurance
                                          </td>
                                          <td
                                            class="costTable-row values1 editfreight-orders"
                                            style="width: 160px; display: flex"
                                          >
                                            <input
                                              #orderDetailEditInsurance
                                              style="width: 100%"
                                              class="numaricEdit charges"
                                              oninput="javascript: if (!/^\d+(\.\d{0,3})?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                              [ngStyle]="{
                                                border: editinsurancevalueState
                                                  ? '1px solid #075da8'
                                                  : 'none'
                                              }"
                                              (keyup)="
                                                savefreighdescount(
                                                  $event,
                                                  'insurance'
                                                )
                                              "
                                              [readonly]="
                                                !editinsurancevalueState ||
                                                selectedOrderStatus ==
                                                  'Cancelled'
                                              "
                                              onpaste="javascript:event.preventDefault();"
                                              [(ngModel)]="
                                                orders.selectedOrder.insurance
                                              "
                                              (focus)="removeCommas($event)"
                                              (blur)="
                                                onBlur($event, 'insurance')
                                              "
                                            />
                                            <mat-icon
                                              *ngIf="
                                                !editinsurancevalueState &&
                                                selectedOrderStatus !==
                                                  'Cancelled'
                                              "
                                              (mousedown)="
                                                editInsurancefre('insurance')
                                              "
                                              class="editfreight-orders"
                                              >edit</mat-icon
                                            >
                                            <div
                                              style="
                                                display: flex;
                                                gap: 4px;
                                                margin-left: 4px;
                                              "
                                            >
                                              <mat-icon
                                                *ngIf="editinsurancevalueState"
                                                (mousedown)="
                                                  editInsuranceFreight(
                                                    $event,
                                                    1,
                                                    'insurance'
                                                  )
                                                "
                                                style="
                                                  padding-left: 2px;
                                                  font-size: 24px;
                                                "
                                                class="mat-circle-check close-circle-icons-order"
                                                >check_circle_outline</mat-icon
                                              >
                                              <mat-icon
                                                style="font-size: 24px"
                                                *ngIf="editinsurancevalueState"
                                                class="close-conversion close-circle-icons-order"
                                                (click)="closeEdit()"
                                                >highlight_off</mat-icon
                                              >
                                            </div>
                                          </td>
                                        </tr>
                                        <tr>
                                          <td class="costTable-row" colspan="2">
                                            Freight
                                          </td>
                                          <!-- [attr.contenteditable]="
                                            canEditFreight()
                                              ? 'true'
                                              : 'false'
                                          " -->
                                          <!-- (input)="onTdInput($event)" -->
                                          <td
                                            class="costTable-row values1 editfreight-orders"
                                            style="width: 160px; display: flex"
                                          >
                                            <input
                                              #orderDetailEditFright
                                              oninput="javascript: if (!/^\d+(\.\d{0,3})?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                              [ngStyle]="{
                                                border: editfreightState
                                                  ? '1px solid #075da8'
                                                  : 'none'
                                              }"
                                              (keyup)="
                                                savefreighdescount(
                                                  $event,
                                                  'freight'
                                                )
                                              "
                                              [readonly]="
                                                !editfreightState ||
                                                selectedOrderStatus ==
                                                  'Cancelled'
                                              "
                                              style="width: 100%"
                                              oninput="javascript: if (!/^\d+(\.\d{0,3})?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                              class="numaricEdit charges"
                                              [(ngModel)]="
                                                orders.selectedOrder.freight
                                              "
                                              onpaste="javascript:event.preventDefault();"
                                              (focus)="removeCommas($event)"
                                              (blur)="onBlur($event, 'freight')"
                                            />
                                            <mat-icon
                                              *ngIf="
                                                !editfreightState &&
                                                selectedOrderStatus !==
                                                  'Cancelled'
                                              "
                                              (mousedown)="
                                                editInsurancefre('freight')
                                              "
                                              class="editfreight-orders"
                                              >edit</mat-icon
                                            >
                                            <div
                                              style="
                                                display: flex;
                                                gap: 4px;
                                                margin-left: 4px;
                                              "
                                            >
                                              <mat-icon
                                                *ngIf="editfreightState"
                                                (mousedown)="
                                                  editInsuranceFreight(
                                                    $event,
                                                    2,
                                                    'freight'
                                                  )
                                                "
                                                style="
                                                  padding-left: 2px;
                                                  font-size: 24px;
                                                "
                                                class="mat-circle-check close-circle-icons-order"
                                                >check_circle_outline</mat-icon
                                              >
                                              <mat-icon
                                                style="font-size: 24px"
                                                *ngIf="editfreightState"
                                                class="close-conversion close-circle-icons-order"
                                                (click)="closeEdit()"
                                                >highlight_off</mat-icon
                                              >
                                            </div>
                                          </td>
                                        </tr>
                                        <tr>
                                          <td class="costTable-row" colspan="2">
                                            Discount
                                            <span
                                              *ngIf="
                                                orders.selectedOrder
                                                  .discount !== '0.00'
                                              "
                                              >(-)</span
                                            >
                                          </td>
                                          <td
                                            class="costTable-row values1 editfreight-orders"
                                            style="width: 160px; display: flex"
                                          >
                                            <input
                                              #orderDetailEditDiscount
                                              style="width: 100%"
                                              [ngStyle]="{
                                                border: editDescountstateState
                                                  ? '1px solid #075da8'
                                                  : 'none'
                                              }"
                                              (keyup)="
                                                savefreighdescount(
                                                  $event,
                                                  'discount'
                                                )
                                              "
                                              [readonly]="
                                                !editDescountstateState ||
                                                selectedOrderStatus ==
                                                  'Cancelled'
                                              "
                                              class="numaricEdit charges"
                                              oninput="javascript: if (!/^\d+(\.\d{0,3})?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                              [(ngModel)]="
                                                orders.selectedOrder.discount
                                              "
                                              onpaste="javascript:event.preventDefault();"
                                              (focus)="removeCommas($event)"
                                              (blur)="
                                                onBlur($event, 'discount')
                                              "
                                            />
                                            <mat-icon
                                              *ngIf="
                                                !editDescountstateState &&
                                                selectedOrderStatus !==
                                                  'Cancelled'
                                              "
                                              (mousedown)="
                                                editInsurancefre('discount')
                                              "
                                              class="editfreight-orders"
                                              >edit</mat-icon
                                            >
                                            <div
                                              style="
                                                display: flex;
                                                gap: 4px;
                                                margin-left: 4px;
                                              "
                                            >
                                              <mat-icon
                                                *ngIf="editDescountstateState"
                                                (mousedown)="
                                                  editInsuranceFreight(
                                                    $event,
                                                    3,
                                                    'discount'
                                                  )
                                                "
                                                style="
                                                  padding-left: 2px;
                                                  font-size: 24px;
                                                "
                                                class="mat-circle-check close-circle-icons-order"
                                                >check_circle_outline</mat-icon
                                              >
                                              <mat-icon
                                                style="font-size: 24px"
                                                *ngIf="editDescountstateState"
                                                class="close-conversion close-circle-icons-order"
                                                (click)="closeEdit()"
                                                >highlight_off</mat-icon
                                              >
                                            </div>
                                          </td>
                                        </tr>
                                        <ng-container
                                          *ngFor="
                                            let column of orders.selectedOrder
                                              .extra_col;
                                            index as colIndex
                                          "
                                        >
                                          <tr>
                                            <td
                                              class="costTable-row delete"
                                              *ngIf="!is_aapl"
                                            >
                                              <mat-icon
                                                class="delete-icon"
                                                title="Delete"
                                                (click)="
                                                  deleteLineItemorderDetails(
                                                    colIndex
                                                  )
                                                "
                                              >
                                                delete</mat-icon
                                              >
                                            </td>
                                            <td
                                              [attr.colspan]="is_aapl ? 2 : 1"
                                              class="costTable-row cost-key"
                                              (input)="
                                                changeInvoiceExtraKey(
                                                  colIndex,
                                                  $event
                                                )
                                              "
                                            >
                                              {{ column.key }}
                                            </td>
                                            <td
                                              class="costTable-row"
                                              (keydown)="
                                                changeInvoiceExtraValue(
                                                  colIndex,
                                                  $event
                                                )
                                              "
                                            >
                                              {{ column.value }}
                                            </td>
                                          </tr>
                                        </ng-container>
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div
                            class="footer"
                            style="justify-content: space-between"
                          >
                            <div
                              *ngIf="
                                blockContent &&
                                factoryPermission &&
                                !clientPermission
                              "
                            >
                              <span
                                [class.disableClass]="
                                  selectedOrderStatus == 'Cancelled'
                                "
                                class="add-Line"
                                (click)="addlineitemorders()"
                              >
                                <mat-icon>add</mat-icon>
                                Add Line Item
                              </span>
                            </div>
                            <div>
                              <span class="total-text">Total:</span>
                              <span class="total-text">{{
                                orders.productsData.data[0]?.currency
                              }}</span>
                              <span
                                contenteditable="false"
                                (keydown)="changePrice(element, $event, 0)"
                              >
                                {{ orders.selectedOrder.total_amount }}</span
                              >
                            </div>
                          </div>
                          <!-- <div *ngIf="acceptOrderbutton">dfhdhf</div> -->
                          <div
                            fxLayout="row"
                            *ngIf="
                              orders.selectedOrder.orders_types_id == '1' &&
                              blockContent &&
                              factoryPermission &&
                              !clientPermission &&
                              acceptOrderbutton
                            "
                            class="packages-footer"
                            fxLayoutAlign="end center"
                          >
                            <button
                              mat-button
                              (click)="cancelPackages()"
                              [disabled]="disabledSave"
                            >
                              Cancel Order
                            </button>
                            <button
                              mat-raised-button
                              class="green-btn"
                              (click)="acceptOrder($event)"
                            >
                              Accept Order
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <ng-container *ngIf="inv_placement != '1'">
                  <!--hidsing sales contract for aapl requirment flow -->
                  <!-- <div #invoice>
                    <div class="inner-container invoice-container" *ngIf="(orders.selectedOrder.orders_types_id =='2') && !(orders.selectedOrder.orders_types_id=='5') && generatesalesContract
                    && (factoryPermission && !clientPermission) && !isSampleDocs">
                      <div class="invoice empty-ui">
                        <div class="invoice-icon empty-icon">
                          <img class="logo-img" style="background: #fff; border-radius: 3px;"
                            [src]='images.invoice_gray' title="Orders">
                        </div>
                        <p>Generate {{commercialName}} for the Customer</p>

                        <button mat-raised-button *ngIf="factoryPermission && !isSampleDocs "
                          [disabled]="clickedGenerateInvoice" (click)="generateInvoice( 'false')">Generate
                          {{commercialName}}
                        </button>
                        <button mat-raised-button *ngIf="factoryPermission && isSampleDocs "
                          [disabled]="clickedProformaInvoice" (click)="generateInvoice('false')">Generate Free Charge
                          Invoice </button>
                      </div>
                    </div>

                    <div [class]="(invoice.print?'print':'no-print')" *ngIf=" !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id > 2)
                      && !is_pvm_commercial">
                      <div class="inner-container" [class.collapse]="!showInvoice"
                        *ngFor="let invoice of orders.invoice">
                        <mat-toolbar class="package-toolbar">
                          <img [src]='images.invoice_green'>
                          <div class="invoice-toolbar">
                            <div class="invoice-number">
                              <span class="details-span">{{invoice.Inovice.inv_nbr}} </span>
                              <span class="order-detail-status"
                                [ngClass]="{'due':invoice.Inovice.status == 'Due','overdue':invoice.Inovice.status == 'Overdue','open':invoice.Inovice.status == 'Open','paid':invoice.Inovice.status == 'Paid'}">{{invoice.Inovice.status}}</span>
                              <span class="pad-lft">{{invoice.Inovice.title}}</span>

                            </div>
                            <div class="xyz">
                              <span class="details-date">{{invoice.Inovice.invoice_date_added}}</span>
                            </div>
                          </div>
                          <span fxFlex></span>
                          <div class="packages-icons">
                            <a *ngIf="!clientPermission" target="_blank"
                              href="generateInvpdf?orders_id={{invoice.Inovice.orders_id}}&is_printable=1">
                              <button mat-icon-button>
                                <img [src]='images.printer_icon' title="Print">
                              </button>
                            </a>
                            <a href="generateInvpdf?orders_id={{invoice.Inovice.orders_id}}&is_printable=0">
                              <button mat-icon-button>
                                <img [src]='images.download_arrow' title="Download">
                              </button>
                            </a>
                            <button mat-icon-button (click)="toggleInvoice()">
                              <img [src]='images.grey_arrow' mat-icon-button *ngIf="showInvoice">
                              <mat-icon class="toggle-arrow" *ngIf="!showInvoice">
                                keyboard_arrow_down</mat-icon>
                            </button>
                          </div>
                        </mat-toolbar>
                        <div *ngIf="showInvoice">
                          <div class="address-container" fxLayout="row">
                            <div class="shipper-secction" fxFlex="45">
                              <h4 class="gray-title">BILL TO PARTY</h4>
                              <div class="address-inner-content">
                                <b class="bill-address">{{invoice.billingAddr.company_name}}</b>
                                <p class="bill-address ">
                                  {{invoice.billingAddr.bill_address1}}</p>
                                <p class="bill-address text-capitalized">
                                  {{invoice.billingAddr.bill_address2}}</p>
                                <p class="bill-address text-capitalized">{{invoice.billingAddr.bill_city}}
                                </p>
                                <p class="bill-address text-capitalized"
                                  *ngIf="invoice.billingAddr.bill_state || invoice.billingAddr.bill_postal_code">
                                  {{invoice.billingAddr.bill_state}} -
                                  {{invoice.billingAddr.bill_postal_code}}</p>
                                <p class="bill-address text-capitalized">
                                  {{invoice.billingAddr.bill_countrty}}</p>

                              </div>
                              <div class="notify-address" *ngIf="showNotifyAddress">
                                <div class="shipper-secction">
                                  <h4 class="gray-title">NOTIFY TO PARTY</h4>
                                  <div class="address-inner-content">
                                    <b class="bill-address">{{invoice.notifyingAddr.company_name}}</b>
                                    <p class="bill-address ">
                                      {{invoice.notifyingAddr.notify_address1}}</p>
                                    <p class="bill-address text-capitalized">
                                      {{invoice.notifyingAddr.notify_address2}}</p>
                                    <p class="bill-address text-capitalized">
                                      {{invoice.notifyingAddr.notify_city}}</p>
                                    <p class="bill-address text-capitalized"
                                      *ngIf="invoice.notifyingAddr.notify_state || invoice.notifyingAddr.notify_postal_code">
                                      {{invoice.notifyingAddr.notify_state}} -
                                      {{invoice.notifyingAddr.notify_postal_code}}</p>
                                    <p class="bill-address text-capitalized">
                                      {{invoice.notifyingAddr.notify_country}}</p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="vertical-divider"></div>
                            <div fxFlex="45">
                              <div class="shipper-secction">
                                <h4 class="gray-title">SHIP TO PARTY</h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{invoice.shippingAddr.company_name}}</b>
                                  <p class="bill-address">
                                    {{invoice.shippingAddr.ship_address1}}</p>
                                  <p class="bill-address text-capitalized">
                                    {{invoice.shippingAddr.ship_address2}}</p>
                                  <p class="bill-address text-capitalized">
                                    {{invoice.shippingAddr.ship_city}}</p>
                                  <p class="bill-address text-capitalized">
                                    {{invoice.shippingAddr.ship_state}} -
                                    {{invoice.shippingAddr.ship_postal_code}}</p>
                                  <p class="bill-address text-capitalized">
                                    {{invoice.shippingAddr.ship_countrty}}</p>
                                </div>
                              </div>
                              <div class="shipper-secction mt_16">

                                <div class="address-inner-content">
                                  <p class="invoice-contact">
                                    <span>Phone: {{invoice.Inovice.phone}}</span>
                                    <span style="margin-left: 4px;">Ext: {{invoice.Inovice.ext}}</span>
                                  </p>
                                  <p class="invoice-contact">Attention:
                                    {{invoice.Inovice.kindName}}</p>
                                  <p class="invoice-contact">Email:
                                    {{invoice.Inovice.email}}</p>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div fxLayout="row">
                            <div class="orders-table">
                              <table class="invoice-table">
                                <thead>
                                  <th class="invoice-head">Sl No.</th>
                                  <th class="invoice-head" style="text-align:center;">Product</th>
                                  <th class="invoice-head">Description</th>
                                  <th class="invoice-head">Quantity</th>
                                  <th class="invoice-head">UOM</th>
                                  <th class="invoice-head">Rate per UOM
                                    ({{invoice.Inovice.currency}})</th>
                                  <th class="invoice-head">Amount
                                    ({{invoice.Inovice.currency}})</th>
                                </thead>
                                <tbody>
                                  <tr class="invoice-row"
                                    *ngFor="let product of invoice.productsData; index as productIndex;">
                                    <td class="invoice-tdata">{{productIndex+1}}</td>
                                    <td class="invoice-tdata" style="text-align:center;">{{product.product_name}}
                                    </td>
                                    <td class="invoice-tdata">{{product.p_description}}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{product.product_quantity}}</td>
                                    <td class="invoice-tdata">
                                      {{product.uom_name}}</td>
                                    <td class="invoice-tdata">
                                      {{product.product_price | number}}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{product.product_price_total | number}}
                                    </td>
                                  </tr>
                                  <tr class="invoice-row">
                                    <td class="invoice-tdata gst-data" colspan="4" style="padding: 0;">
                                      <table class="invoice-row-table" style="width: 100%;">
                                        <tbody>
                                          <tr>
                                            <td>
                                              <div class="gst-details">
                                                <span class="gst-one">GSTN
                                                  TYPE: {{compnayDetails?.gstin_type}}</span>
                                                <span class="gst-two">END
                                                  USE: {{compnayDetails?.end_use}}</span>
                                              </div>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td>
                                              <div class="gst-details " style="text-align: left; padding: 16px;color: #565656;">
                                                <span>  {{invoice.Inovice.terms_cond_des}}</span>
                                              </div>
                                            </td>
                                          </tr>

                                        </tbody>
                                      </table>
                                    </td>
                                    <td class="invoice-tdata table-invoice invoice-tdata-border" colspan="4"
                                      rowspan="2">
                                      <table class="invoice-costTable">
                                        <thead>
                                          <tr>
                                            <th class="costTable-head font-normal" colspan="2">Sub Total</th>
                                            <th class="costTable-head font-normal">
                                              {{invoice.Inovice.total_amount | number}}
                                            </th>
                                          </tr>
                                          <tr>
                                            <th class="costTable-head font-normal" colspan="2">Discount ({{invoice.Inovice.discount_percentage}}%)</th>
                                            <th class="costTable-head font-normal" *ngIf="invoice.Inovice.discount_value !== 0">
                                              (-){{invoice.Inovice.discount_value | number}}
                                            </th>
                                             <th class="costTable-head font-normal" *ngIf="invoice.Inovice.discount_value == 0">
                                              {{invoice.Inovice.discount_value | number}}
                                            </th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td class="costTable-row" colspan="2">Packing Charges</td>

                                            <td
                                              *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                              class="costTable-row editable" contenteditable="true"
                                              (keydown)="changeInvoicePackCharge(colIndex, $event)">
                                              {{invoice.Inovice.pack_charge | number}}
                                            </td>
                                            <td
                                              *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                              class="costTable-row" contenteditable="false"
                                              (keydown)="changeInvoicePackCharge(colIndex, $event)">
                                              {{invoice.Inovice.pack_charge | number}}
                                            </td>
                                          </tr>
                                          <tr>
                                            <td class="costTable-row" colspan="2">GST</td>

                                            <td
                                              *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                              class="costTable-row editable" contenteditable="true"
                                              (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                              {{invoice.Inovice.tax_gst | number}}
                                            </td>
                                            <td
                                              *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                              class="costTable-row" contenteditable="false"
                                              (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                              {{invoice.Inovice.tax_gst | number}}
                                            </td>
                                          </tr>
                                          <tr *ngFor="let column of invoice.Inovice.invTaxAmounts; index as colIndex;">
                                            <td class="costTable-row" colspan="2"> {{column.key}}</td>
                                            <td class="costTable-row">
                                              {{column.value}}
                                            </td>
                                          </tr>
                                          <tr *ngFor="let column of invoice.Inovice?.invNotesAmnts; index as colIndex;">
                                            <td class="costTable-row" colspan="2"> {{column.key}}</td>
                                            <td class="costTable-row">
                                              {{column.value}}
                                            </td>
                                          </tr>



                                          <tr>
                                            <td class="costTable-row" colspan="2">Freight Charges</td>

                                            <td
                                              *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                              class="costTable-row editable" contenteditable="false"
                                              (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                              {{invoice.Inovice.freight |number}}
                                            </td>
                                            <td
                                              *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5')"
                                              class="costTable-row" contenteditable="false"
                                              (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                              {{invoice.Inovice.freight | number}}
                                            </td>
                                          </tr>
                                          <tr *ngFor="let column of invoice.Inovice.extra_col; index as colIndex;">
                                            <td class="costTable-row delete">
                                              <mat-icon class="delete-icon" title="Delete"
                                                [class.disableClass]="selectedOrderStatus == 'Delivered'
                                                                              || selectedOrderStatus == 'Cancelled' || selectedOrderStatus == 'In-transit'"
                                                [class.events-none]="selectedOrderStatus == 'Delivered'
                                                                              || selectedOrderStatus == 'Cancelled' || selectedOrderStatus == 'In-transit'"
                                                (click)="deleteLineItem(colIndex)">
                                                delete</mat-icon>
                                            </td>
                                            <td class="costTable-row cost-key"
                                              (input)="changeInvoiceExtraKey(colIndex, $event)"
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5'))">
                                              {{column.key}}</td>
                                            <td class="costTable-row"
                                              (keydown)="changeInvoiceExtraValue(colIndex, $event)"
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))">
                                              {{column.value}}</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <div class="footer invoice-footer">
                                <div
                                  *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && !batchshow)">
                                  <span class="add-Line" (click)="addLineItem()">
                                    <mat-icon>add</mat-icon>
                                    Add Line Item
                                  </span>
                                </div>
                                <span fxFlex></span>
                                <span class="total-text">Total:</span>
                                <span class="total-text"> {{invoice.Inovice.currency}}</span>
                                <span>{{invoice.totalSum | number}}</span>
                              </div>
                              <div class="payment-mode">

                                <p *ngIf="blockContent && factoryPermission && !isSampleDocs">
                                  <label>Terms of Payment:</label>
                                  <mat-form-field class="custom-input" floatLabel="never">
                                    <mat-select class="payment-select" [disabled]="disablePayment"
                                      placeholder="Payment Type" [(value)]="invoice.Inovice.payment_type">
                                      <mat-option (click)="changePaymentType(pay.name)" *ngFor="let pay of paymentType"
                                        [value]="pay.name">
                                        {{ pay.name }}
                                      </mat-option>
                                    </mat-select>
                                  </mat-form-field>

                                </p>
                                <div class="banking-detail">
                                  <img class="logo-img" [src]='images.download_order' title="Download">
                                  <a href="download?orders_id={{orders.selectedOrder.id}}">Bank
                                    details</a>

                                </div>
                                <div *ngIf="activePayment">
                                  <span fxFlex></span>
                                  <section class="section-right">
                                    <button type="button" (click)="cancelpay()" mat-button>Cancel</button>
                                    <button type="submit" (click)="savePaymentType()" mat-raised-button>Save</button>
                                  </section>
                                  <div class="cb"></div>
                                </div>

                              </div>
                              <div class="add-paid">
                                <span fxFlex></span>
                                <button mat-raised-button
                                  *ngIf="invoice.Inovice.invoice_status_id < '3' && !added
                                                                                                                        && blockContent && factoryPermission && hidePaidBtn &&
                                                                                                                        invoice.Inovice.payment_type !='Advance'"
                                  (click)="paidInvoice()">Mark as paid</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div [class]="(invoice.print?'print':'no-print')" *ngIf=" !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id > 2)
                      && is_pvm_commercial">
                      <div class="inner-container" [class.collapse]="!showInvoice"
                        *ngFor="let invoice of orders.invoice">
                        <mat-toolbar class="package-toolbar">
                          <img [src]='images.invoice_green'>
                          <div class="invoice-toolbar">
                            <div class="invoice-number">
                              <span class="details-span">{{invoice.Inovice.order_no}} </span>
                              <span class="order-detail-status"
                                [ngClass]="{'due':invoice.Inovice.status == 'Due','overdue':invoice.Inovice.status == 'Overdue','open':invoice.Inovice.status == 'Open','paid':invoice.Inovice.status == 'Paid'}">{{invoice.Inovice.status}}</span>
                              <span class="pad-lft">{{invoice.Inovice.title}}</span>
                            </div>
                            <div class="xyz">
                              <span class="details-date">{{invoice.Inovice.invoice_date_added}}</span>
                            </div>
                          </div>
                          <span fxFlex></span>
                          <div class="packages-icons">
                            <a *ngIf="!clientPermission" target="_blank"
                              href="generateInvpdf?orders_id={{invoice.Inovice.orders_id}}&is_printable=1">
                              <button mat-icon-button>
                                <img [src]='images.printer_icon' title="Print">
                              </button>
                            </a>
                            <a href="generateInvpdf?orders_id={{invoice.Inovice.orders_id}}&is_printable=0">
                              <button mat-icon-button>
                                <img [src]='images.download_arrow' title="Download">
                              </button>
                            </a>
                            <button mat-icon-button (click)="toggleInvoice()">
                              <img [src]='images.grey_arrow' mat-icon-button *ngIf="showInvoice">
                              <mat-icon class="toggle-arrow" *ngIf="!showInvoice">
                                keyboard_arrow_down</mat-icon>
                            </button>
                          </div>
                        </mat-toolbar>
                        <div *ngIf="showInvoice">
                          <div class="address-container" fxLayout="row">
                            <div class="shipper-secction" fxFlex="45">
                              <h4 class="gray-title">CONSIGNEE</h4>
                              <div class="address-inner-content">
                                <b class="bill-address">{{invoice.billingAddr.company_name}}</b>
                                <p class="bill-address">
                                  {{invoice.billingAddr.bill_address1}}</p>
                                <p class="bill-address">
                                  {{invoice.billingAddr.bill_address2}}</p>
                                <p class="bill-address">{{invoice.billingAddr.bill_city}}
                                </p>
                                <p class="bill-address"
                                  *ngIf="invoice.billingAddr.bill_state || invoice.billingAddr.bill_postal_code">
                                  {{invoice.billingAddr.bill_state}} -
                                  {{invoice.billingAddr.bill_postal_code}}</p>
                                <p class="bill-address">
                                  {{invoice.billingAddr.bill_countrty}}</p>

                              </div>
                            </div>
                            <div class="vertical-divider"></div>
                            <div fxFlex="45">
                              <div class="shipper-secction">
                                <h4 class="gray-title">Buyer Other than Consignee</h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{invoice.shippingAddr.company_name}}</b>
                                  <p class="bill-address">
                                    {{invoice.shippingAddr.ship_address1}}</p>
                                  <p class="bill-address">
                                    {{invoice.shippingAddr.ship_address2}}</p>
                                  <p class="bill-address">
                                    {{invoice.shippingAddr.ship_city}}</p>
                                  <p class="bill-address">
                                    {{invoice.shippingAddr.ship_state}} -
                                    {{invoice.shippingAddr.ship_postal_code}}</p>
                                  <p class="bill-address">
                                    {{invoice.shippingAddr.ship_countrty}}</p>
                                </div>
                              </div>
                              <div class="shipper-secction mt_16">

                                <div class="address-inner-content">
                                  <p class="invoice-contact">
                                    <span>Phone: {{invoice.Inovice.phone}}</span>
                                    <span style="margin-left: 4px;">Ext: {{invoice.Inovice.ext}}</span>
                                  </p>
                                  <p class="invoice-contact">Attention:
                                    {{invoice.Inovice.kindName}}</p>
                                  <p class="invoice-contact">Email:
                                    {{invoice.Inovice.email}}</p>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div fxLayout="row">
                            <div class="orders-table">
                              <table class="invoice-table">
                                <thead *ngIf="!is_sso">
                                  <th class="invoice-head">Sl No.</th>
                                  <th class="invoice-head">H.S Code</th>
                                  <th class="invoice-head">Description of Goods</th>
                                  <th class="invoice-head">Qty in Bag/s (Cartons)</th>
                                  <th class="invoice-head">RATE/MT IN {{invoice.Inovice.currency}}</th>
                                  <th class="invoice-head">RATE/ CARTON IN {{invoice.Inovice.currency}}</th>
                                  <th class="invoice-head">Amount{{invoice.Inovice.currency}}</th>
                                </thead>
                                <thead *ngIf="is_sso">
                                  <th class="invoice-head">Sl No.</th>
                                  <th class="invoice-head">Description</th>
                                  <th class="invoice-head">Quantity</th>
                                  <th class="invoice-head">UOM</th>
                                  <th class="invoice-head">Rate per UOM
                                    ({{invoice.Inovice.currency}})</th>
                                  <th class="invoice-head">Amount
                                    ({{invoice.Inovice.currency}})</th>
                                </thead>
                                <tbody>
                                  <tr class="invoice-row"
                                    *ngFor="let product of invoice.productsData; index as productIndex;">
                                    <td class="invoice-tdata">{{productIndex+1}}</td>
                                    <td *ngIf="!is_sso" class="invoice-tdata">{{product?.hs_code}}</td>
                                    <td class="invoice-tdata">{{product.product_name}}</td>
                                    <td class="invoice-tdata">
                                      {{product.product_quantity}}</td>
                                    <td class="invoice-tdata">
                                      {{product.uom_name}}</td>
                                    <td class="invoice-tdata">
                                      {{product.product_price }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{product.product_price_total }}
                                    </td>
                                  </tr>
                                  <tr class="invoice-row">
                                    <td class="invoice-tdata gst-data" colspan="5" style="padding: 0;">
                                      <table class="invoice-row-table">
                                        <tbody>
                                          <tr>
                                            <td>
                                              <div class="gst-details">
                                                <span class="gst-one">GSTN
                                                  TYPE: {{compnayDetails?.gstin_type}}</span>
                                                <span class="gst-two">END
                                                  USE: {{compnayDetails?.end_use}}</span>
                                              </div>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td>
                                              <div class="gst-details ">
                                                <span class="invoice-desc">
                                                  Declaration:1.All disputes in connection with this contract or the
                                                  execution thereof shall be settled by negotiation between two parties.
                                                  If no settlement can be
                                                  reached, the case in dispute shall be then submitted for arbitration
                                                  under the laws of Republic of India

                                                </span>
                                                <span class="invoice-desc">2.Incase of all incoterms where the buyer is
                                                  responsible for insurance, the buyer's insurance must cover atleast
                                                  110% aforementioned, the seller' s
                                                  approval must be obtained at first. The seller cannot be held liable
                                                  for any loss or damage that occurs during transit ar at
                                                  destination...</span>




                                              </div>
                                            </td>
                                          </tr>

                                        </tbody>
                                      </table>
                                    </td>
                                    <td class="invoice-tdata table-invoice invoice-tdata-border sales-contract"
                                      colspan="4" rowspan="2">
                                      <table class="invoice-costTable">
                                        <thead>
                                          <tr class="generate-sales-contract">
                                            <th class="costTable-head font-normal" colspan="2">Sub Total</th>
                                            <th class="costTable-head font-normal">
                                              {{invoice.Inovice.total_amount}}
                                            </th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr>
                                            <td class="costTable-row" colspan="2">Packing Charges</td>

                                            <td
                                              *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                              class="costTable-row editable" contenteditable="true"
                                              (keydown)="changeInvoicePackCharge(colIndex, $event)">
                                              {{invoice.Inovice.pack_charge }}
                                            </td>
                                            <td
                                              *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                              class="costTable-row" contenteditable="false"
                                              (keydown)="changeInvoicePackCharge(colIndex, $event)">
                                              {{invoice.Inovice.pack_charge }}
                                            </td>
                                          </tr>
                                          <tr>
                                            <td class="costTable-row" colspan="2">GST</td>

                                            <td
                                              *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                              class="costTable-row editable" contenteditable="true"
                                              (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                              {{invoice.Inovice.tax_gst }}
                                            </td>
                                            <td
                                              *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                              class="costTable-row" contenteditable="false"
                                              (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                              {{invoice.Inovice.tax_gst }}
                                            </td>
                                          </tr>
                                          <tr *ngFor="let column of invoice.Inovice.invTaxAmounts; index as colIndex;">
                                            <td class="costTable-row" colspan="2"> {{column.key}}</td>
                                            <td class="costTable-row">
                                              {{column.value}}
                                            </td>
                                          </tr>
                                          <tr *ngFor="let column of invoice.Inovice?.invNotesAmnts; index as colIndex;">
                                            <td class="costTable-row" colspan="2"> {{column.key}}</td>
                                            <td class="costTable-row">
                                              {{column.value}}
                                            </td>
                                          </tr>
                                          <tr>
                                            <td class="costTable-row" colspan="2">Freight Charges</td>
                                            <td
                                              *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                              class="costTable-row editable" contenteditable="true"
                                              (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                              {{invoice.Inovice.tax_others }}
                                            </td>
                                            <td
                                              *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5')"
                                              class="costTable-row" contenteditable="false"
                                              (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                              {{invoice.Inovice.tax_others }}
                                            </td>
                                          </tr>
                                          <tr *ngFor="let column of invoice.Inovice.extra_col; index as colIndex;">
                                            <td class="costTable-row delete">
                                              <mat-icon class="delete-icon" title="Delete"
                                                [class.disableClass]="selectedOrderStatus == 'Delivered'
                                                                              || selectedOrderStatus == 'Cancelled' || selectedOrderStatus == 'In-transit'"
                                                [class.events-none]="selectedOrderStatus == 'Delivered'
                                                                              || selectedOrderStatus == 'Cancelled' || selectedOrderStatus == 'In-transit'"
                                                (click)="deleteLineItem(colIndex)">
                                                delete</mat-icon>
                                            </td>
                                            <td class="costTable-row cost-key"
                                              (input)="changeInvoiceExtraKey(colIndex, $event)"
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5'))">
                                              {{column.key}}</td>
                                            <td class="costTable-row"
                                              (keydown)="changeInvoiceExtraValue(colIndex, $event)"
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))">
                                              {{column.value}}</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <div class="footer invoice-footer">
                                <div
                                  *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && !batchshow)">
                                  <span class="add-Line" (click)="addLineItem()">
                                    <mat-icon>add</mat-icon>
                                    Add Line Item
                                  </span>
                                </div>
                                <span fxFlex></span>
                                <span class="total-text">Total:</span>
                                <span class="total-text"> {{invoice.Inovice.currency}}</span>
                                <span>{{invoice.totalSum }}</span>
                              </div>
                              <div class="payment-mode">

                                <div style="display:flex;">
                                  <p *ngIf="blockContent && factoryPermission" style="flex:1;">
                                    <label>Inco Terms:</label>
                                    <mat-form-field class="custom-input" floatLabel="never">
                                      <mat-select class="payment-select" [disabled]="disablePayment"
                                        placeholder="Inco Terms" [(value)]="invoice.Inovice.inco_terms_id">
                                        <mat-option (click)="changeIncoTerms(inco.id)"
                                          *ngFor="let inco of incoTermsList" [value]="inco.id">
                                          {{ inco.name }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </p>
                                  <p *ngIf="blockContent && factoryPermission && !isSampleDocs">
                                    <label>Terms of Payment:</label>
                                    <mat-form-field class="custom-input" floatLabel="never">
                                      <mat-select class="payment-select" [disabled]="disablePayment"
                                        placeholder="Payment Type" [(value)]="invoice.Inovice.payment_type">
                                        <mat-option (click)="changePaymentType(pay.name)"
                                          *ngFor="let pay of paymentType" [value]="pay.name">
                                          {{ pay.name }}
                                        </mat-option>
                                      </mat-select>
                                    </mat-form-field>

                                  </p>
                                </div>


                                <form [formGroup]="pvmForm" class="pvm_fields">
                                  <div *ngIf="blockContent && factoryPermission && !isSampleDocs"
                                    class="fields-container">
                                    <mat-form-field class="custom-input w-25" floatLabel="never">
                                      <label class="custom-label">Pre Carriage By</label>
                                      <input matInput [(ngModel)]="pvm_pre_carriage_by" placeholder="Pre Carriage By"
                                        formControlName="pre_carriage_by" (keyup)="enableSave($event)">
                                    </mat-form-field>

                                    <mat-form-field class="custom-input w-25" floatLabel="never">
                                      <label class="custom-label">Marks & Nos</label>
                                      <input matInput [(ngModel)]="pvm_mark_nos" placeholder="Marks & Nos"
                                        formControlName="mark_nos" (keyup)="enableSave($event)">
                                    </mat-form-field>

                                    <mat-form-field class="custom-input w-25" floatLabel="never">
                                      <label class="custom-label">Container No.</label>
                                      <input matInput [(ngModel)]="pvm_container_no" placeholder="Container No."
                                        formControlName="container_no" (keyup)="enableSave($event)">
                                    </mat-form-field>

                                    <mat-form-field class="custom-input w-25" floatLabel="never">
                                      <label class="custom-label">LUT ONLINE ARN</label>
                                      <input matInput [(ngModel)]="pvm_lut_arn" placeholder="LUT ONLINE ARN"
                                        formControlName="lut_arn" (keyup)="enableSave($event)">
                                    </mat-form-field>

                                    <mat-form-field class="custom-input w-25" floatLabel="never">
                                      <label class="custom-label">LUT Date</label>
                                      <input matInput class="datepicker" (click)="openCalendar(picker1)"
                                        formControlName="lut_date" [matDatepicker]="picker1" placeholder="LUT Date"
                                        [(ngModel)]="pvm_lut_date">
                                      <mat-datepicker-toggle class="mat-picker" matSuffix
                                        [for]="picker1"></mat-datepicker-toggle>
                                      <mat-datepicker #picker1 startView="year"></mat-datepicker>
                                    </mat-form-field>

                                    <mat-form-field class="custom-input w-25" floatLabel="never">
                                      <label class="custom-label">SCHEME</label>
                                      <mat-select placeholder="SCHEME" formControlName="scheme" multiple
                                        (selectionChange)="enableSave($event)">
                                        <mat-option value="drawback">DRAWBACK</mat-option>
                                        <mat-option value="rodtep">RoDTEP</mat-option>
                                      </mat-select>
                                    </mat-form-field>
                                  </div>
                                  <div class="banking-detail">
                                    <img class="logo-img" [src]='images.download_order' title="Download">
                                    <a href="download?orders_id={{orders.selectedOrder.id}}">Bank
                                      details</a>

                                  </div>
                                  <div *ngIf="activePayment">
                                    <span fxFlex></span>
                                    <section class="section-right">
                                      <button type="button" (click)="cancelpay()" mat-button>Cancel</button>
                                      <button type="submit" (click)="savePaymentType(pvmForm)"
                                        mat-raised-button>Save</button>
                                    </section>
                                    <div class="cb"></div>
                                  </div>

                                </form>
                              </div>
                              <div class="add-paid">
                                <span fxFlex></span>
                                <button mat-raised-button
                                  *ngIf="invoice.Inovice.invoice_status_id < '3' && !added
                                                                                                                        && blockContent && factoryPermission && hidePaidBtn &&
                                                                                                                        invoice.Inovice.payment_type !='Advance'"
                                  (click)="paidInvoice()">Mark as paid</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div> -->

                  <!--generate Sales Contract foir aapl--><!--hinding for aapl feture-->
                  <!-- <div class="activity-container"
                      *ngIf="(orders.invoice.length) && (factoryPermission && !clientPermission) && !isSampleDocs && purchaseOrder">
                      <div>
                        <mat-toolbar class="package-toolbar">
                          <img class="logo-img" [src]='images.pdf_download' title="Activity">
                          <span>Upload Sales Contract / Purchase Order </span>
                          <span fxFlex></span>
                        </mat-toolbar>
                        <div class="address-container activity-status2">
                          <div class="image-upload">
                            <div>
                              <div class="pdf-upload attachment_upload layout-column">
                                <label>
                                  <div class="upload_post">
                                    <div class="upload_section" (click)="uploadSupplier('sales')">
                                      <mat-icon class="contact-add mat-icon  material-icons mat-icon-no-color" role="img"
                                        aria-hidden="true">add</mat-icon>
                                      <h3 class="contact-text">Upload</h3>
                                    </div>
                                  </div>
                                </label>
                              </div>
                            </div>
                            <div class="image_wrap" *ngFor="let file of salesDocuments; let i = index">
                              <div class="upload_post">
                                <div class="upload_section">
                                  <a target="_blank">
                                    <div class="delete-value">
                                      <button mat-icon-button class="dots" [matMenuTriggerFor]="menu"
                                        aria-label="Example icon-button with a menu">
                                        <mat-icon>more_vert</mat-icon>
                                      </button>

                                      <span class="img-icon">
                                        <a style="display:contents ;" class="click delete" title="Delete"
                                          (click)="deleteUploads(file, i, 'sales')"
                                          [class.disableClass]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'"
                                          [class.events-none]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'">
                                          <span class="material-icons">
                                            delete
                                          </span>
                                        </a>
                                      </span>
                                    </div>

                                    <img
                                      *ngIf="file.link_url.lastIndexOf('.pdf') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.xlsx') == -1"
                                      class="list-upload-img" [src]='file.link_url'>
                                    <div *ngIf="file.link_url.lastIndexOf('.pdf') > -1">
                                      <img [src]='images.pdf_png' style="height: 100%; width: 100%; object-fit: contain  ;" />
                                    </div>

                                    <div
                                      *ngIf="file.link_url.lastIndexOf('.doc') > -1 || file.link_url.lastIndexOf('.docx') > -1 || file.link_url.lastIndexOf('.xlsx') > -1">
                                      <img [src]='images.docx_png' style="height: 100%; width: 100%; object-fit: contain  ;" />
                                    </div>

                                  </a>

                                </div>
                                <mat-menu #menu="matMenu">
                                  <span class="img-icon">
                                    <a class="click" title="Download" (click)="downloadFile(file, i, 'supplier')">
                                      <span class="pointer">
                                        Download
                                      </span>
                                    </a>
                                  </span>
                                  <span class="img-icon">
                                    <a class="click" title="Preview" (click)="openPreview(file, i, 'supplier')">
                                      <span class="pointer">
                                        Preview
                                      </span>
                                    </a>
                                  </span>
                                  <span class="img-icon">
                                    <a class="click" title="notes" (click)="SaveDescription(file)">
                                      <span class="pointer">
                                        Notes
                                      </span>
                                    </a>
                                  </span>
                                </mat-menu>
                                <div class="icon-sections">
                                  <div class="icon-content"></div>
                                </div>

                              </div>

                            </div>
                          </div>

                        </div>
                        <div class="add-paid">
                          <span fxFlex></span>
                          <button mat-raised-button
                            *ngIf="salesDocuments.length && !orders.selectedOrder.confirm_sales"
                            (click)="confirmSales($event)">Confirm Sales Contract/Purchase Order</button>
                        </div>
                      </div>
                    </div> -->
                  <div
                    class="inner-container invoice-container"
                    *ngIf="
                      !orders.selectedOrder.is_order_ready &&
                      orders.selectedOrder.confirm_sales &&
                      !(orders.selectedOrder.orders_types_id == '5') &&
                      setReadybutton
                    "
                  >
                    <div class="invoice empty-ui">
                      <div class="invoice-icon empty-icon">
                        <img
                          class="logo-img"
                          style="background: #fff; border-radius: 3px"
                          [src]="images.invoice_gray"
                          title="Orders"
                        />
                      </div>
                      <p>Set Order Ready</p>
                      <button
                        mat-raised-button
                        *ngIf="factoryPermission"
                        [disabled]="clickedPackageDetails"
                        (click)="setOrderReady($event)"
                      >
                        Order Ready
                      </button>
                    </div>
                  </div>

                  <!-- Invoice LUT -->
                  <div
                    #invoiceLUT
                    [class]="invoiceLUT.print ? 'print' : 'no-print'"
                    *ngIf="
                      !(orders.selectedOrder.orders_types_id == '5') &&
                      orders.selectedOrder.orders_types_id > 2 &&
                      !is_automech &&
                      !is_aapl
                    "
                  >
                    <div class="inner-container sample-document">
                      <mat-toolbar class="package-toolbar">
                        <img
                          class="shipping-image"
                          [src]="images.pdf_download"
                        />
                        <span>Commercial Invoice LUT</span>
                        <span fxFlex></span>
                        <a
                          href="generateInvLut?orders_id={{
                            orders.selectedOrder.id
                          }}"
                        >
                          <button mat-icon-button>
                            <img
                              [src]="images.download_arrow"
                              title="Download"
                            />
                          </button>
                        </a>
                      </mat-toolbar>
                    </div>
                  </div>

                  <div>
                    <!-- {{!isSampleDocs && orders.selectedOrder.is_order_ready && !((orders.selectedOrder.orders_types_id >2) && (orders.packageStatus == 1 || orders.packageStatus == 2) && !showDrumsList) &&  !(orders.selectedOrder.orders_types_id=='5')}} -->
                    <!-- {{is_automech &&   ((orders.selectedOrder.orders_types_id > 2) && (orders.packageStatus == 1 || orders.packageStatus == 2))  && !showDrumsList && !isSampleDocs && !(orders.selectedOrder.orders_types_id=='5') }} -->

                    <div
                      #packaging
                      class="main"
                      [class]="packaging.print ? 'print' : 'no-print'"
                    >
                      <!-- {{is_automech &&   ((orders.selectedOrder.orders_types_id > 2))  && !isSampleDocs && !(orders.selectedOrder.orders_types_id=='5') }} -->
                      <app-package
                        (getSiDraft)="getSiDraft()"
                        [orderedProducts]="orders.productsData.data"
                        [data]="orderDatapassing"
                        (dataEvent)="receiveDataFromChild($event)"
                        [trigger]="package"
                        *ngIf="
                          is_automech &&
                          orders.selectedOrder.orders_types_id >= 2 &&
                          !(orders.selectedOrder.orders_types_id == '5')
                        "
                        [viewActivityLogIcon]="viewActivityLogIcon"
                      >
                        <!-- <div #packaging></div> -->
                      </app-package>
                    </div>
                    <div
                      class="main"
                      #packaging
                      [class]="packaging.print ? 'print' : 'no-print'"
                      *ngIf="
                        !is_automech &&
                        !isSampleDocs &&
                        orders.selectedOrder.is_order_ready &&
                        !(
                          orders.selectedOrder.orders_types_id > 2 &&
                          (orders.packageStatus == 1 ||
                            orders.packageStatus == 2) &&
                          !showDrumsList
                        ) &&
                        !(orders.selectedOrder.orders_types_id == '5')
                      "
                    >
                      <div
                        class="inner-container"
                        [class.collapse]="!showPackage"
                      >
                        <mat-toolbar class="package-toolbar">
                          <img class="logo-img" [src]="images.package_icon" />
                          <span>Packing Details</span>
                          <span fxFlex></span>
                          <button mat-icon-button (click)="togglePackage()">
                            <img [src]="images.grey_arrow" mat-icon-button />
                            <!-- <mat-icon class="toggle-arrow" *ngIf="!showPackage">keyboard_arrow_down
                            </mat-icon> -->
                          </button>
                        </mat-toolbar>
                        <div>
                          <table class="package-details-table">
                            <tbody>
                              <!-- before batch -->
                              <tr
                                class="product-details"
                                *ngFor="
                                  let package of orders.productsData.data;
                                  index as productIndex
                                "
                              >
                                <td
                                  style="
                                    vertical-align: middle;
                                    width: 10%;
                                    text-align: center;
                                    padding: 16px;
                                  "
                                >
                                  {{ productIndex + 1 }}
                                </td>
                                <td
                                  style="width: 25%"
                                  class="befor-add-packagename"
                                >
                                  <span
                                    class="product-name"
                                    title="{{ package.product_name }}"
                                    >{{ package.product_name }}</span
                                  >
                                </td>
                                <td style="width: 15%">
                                  {{ package.product_quantity }}
                                  {{
                                    package.single_piece
                                      ? package.uom_name
                                      : "PCS"
                                  }}
                                </td>
                                <td
                                  style="width: 30%"
                                  class="before-add-description"
                                  title=" {{ package.p_description }}"
                                >
                                  {{ package.p_description }}
                                </td>
                                <td
                                  class="edit-batch"
                                  style="width: 20%; padding-left: 8px"
                                >
                                  <!-- : 'Add Batch Quantity' -->
                                  <span
                                    class="add-batch add-Line add-package"
                                    title="{{
                                      isMerchantExporter
                                        ? 'Add Packaging'
                                        : 'Add Packaging'
                                    }}"
                                    *ngIf="
                                      blockContent &&
                                      factoryPermission &&
                                      !clientPermission
                                    "
                                    (click)="addBatchNumber(package)"
                                  >
                                    <mat-icon>add</mat-icon>
                                    <span>{{ "Add Packaging" }}</span>
                                  </span>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div></div>
                </ng-container>
                <ng-container *ngIf="inv_placement == '1'">
                  <div #proinvoicetab *ngIf="!is_pvm_proforma">
                    <div [class]="taxinvoicetab.print ? 'print' : 'no-print'">
                      <div
                        class="inner-container"
                        [class.collapse]="!showProfInvoice"
                        *ngFor="let invoice of proformaInvData"
                      >
                        <mat-toolbar class="package-toolbar">
                          <img [src]="images.invoice_green" />
                          <div class="invoice-toolbar">
                            <div class="invoice-number">
                              <span class="details-span">{{
                                invoice.profInv.inv_nbr
                              }}</span>
                              <span
                                class="order-detail-status"
                                [ngClass]="{
                                  due: invoice.profInv.status == 'Due',
                                  overdue: invoice.profInv.status == 'Overdue',
                                  open: invoice.profInv.status == 'Open',
                                  paid: invoice.profInv.status == 'Paid'
                                }"
                                >{{ invoice.profInv.status }}</span
                              >
                              <span class="pad-lft">{{
                                invoice.profInv.title
                              }}</span>
                            </div>
                            <div class="xyz">
                              <span class="details-date">{{
                                invoice.profInv.invoice_date_added
                              }}</span>
                            </div>
                          </div>
                          <span fxFlex></span>
                          <div class="packages-icons">
                            <a
                              *ngIf="!clientPermission"
                              target="_blank"
                              href="generateProfInvPdf?orders_id={{
                                orders.selectedOrder.id
                              }}&is_printable=1"
                            >
                              <button mat-icon-button>
                                <img
                                  [src]="images.printer_icon"
                                  title="Print"
                                />
                              </button>
                            </a>
                            <a
                              href="generateProfInvPdf?orders_id={{
                                orders.selectedOrder.id
                              }}&is_printable=0"
                            >
                              <button mat-icon-button>
                                <img
                                  [src]="images.download_arrow"
                                  title="Download"
                                />
                              </button>
                            </a>
                            <button
                              mat-icon-button
                              (click)="toggleProformaInvoice()"
                            >
                              <img
                                [src]="images.grey_arrow"
                                mat-icon-button
                                *ngIf="showProfInvoice"
                              />
                              <mat-icon
                                class="toggle-arrow"
                                *ngIf="!showProfInvoice"
                              >
                                keyboard_arrow_down</mat-icon
                              >
                            </button>
                          </div>
                        </mat-toolbar>
                        <div *ngIf="showProfInvoice">
                          <div class="address-container" fxLayout="row">
                            <div class="shipper-secction" fxFlex="30">
                              <h4 class="gray-title">BILL TO PARTY</h4>
                              <div class="address-inner-content">
                                <b class="bill-address">{{
                                  invoice.billingAddr.company_name
                                }}</b>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_address1 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_address2 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_city }}
                                </p>
                                <p
                                  class="bill-address"
                                  *ngIf="
                                    invoice.billingAddr.bill_state ||
                                    invoice.billingAddr.bill_postal_code
                                  "
                                >
                                  {{ invoice.billingAddr.bill_state }} -
                                  {{ invoice.billingAddr.bill_postal_code }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_countrty }}
                                </p>
                              </div>
                              <div
                                class="notify-address"
                                *ngIf="showNotifyAddress"
                              >
                                <div class="shipper-secction">
                                  <h4 class="gray-title">NOTIFY TO PARTY</h4>
                                  <div class="address-inner-content">
                                    <b class="bill-address">{{
                                      invoice.notifyingAddr.company_name
                                    }}</b>
                                    <p class="bill-address">
                                      {{
                                        invoice.notifyingAddr.notify_address1
                                      }}
                                    </p>
                                    <p class="bill-address">
                                      {{
                                        invoice.notifyingAddr.notify_address2
                                      }}
                                    </p>
                                    <p class="bill-address">
                                      {{ invoice.notifyingAddr.notify_city }}
                                    </p>
                                    <p
                                      class="bill-address"
                                      *ngIf="
                                        invoice.notifyingAddr.notify_state ||
                                        invoice.notifyingAddr.notify_postal_code
                                      "
                                    >
                                      {{ invoice.notifyingAddr.notify_state }} -
                                      {{
                                        invoice.notifyingAddr.notify_postal_code
                                      }}
                                    </p>
                                    <p class="bill-address">
                                      {{ invoice.notifyingAddr.notify_country }}
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="vertical-divider"></div>
                            <div fxFlex="30">
                              <div class="shipper-secction">
                                <h4 class="gray-title">SHIP TO PARTY</h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{
                                    invoice.shippingAddr.company_name
                                  }}</b>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_address1 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_address2 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_city }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_state }} -
                                    {{ invoice.shippingAddr.ship_postal_code }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_countrty }}
                                  </p>
                                </div>
                              </div>
                              <div class="shipper-secction mt_16">
                                <div class="address-inner-content">
                                  <p class="invoice-contact">
                                    <span
                                      >Phone: {{ invoice.profInv.phone }}</span
                                    >
                                    <span style="margin-left: 4px"
                                      >Ext: {{ invoice.profInv.ext }}</span
                                    >
                                  </p>
                                  <!-- <p class="invoice-contact"> </p> -->
                                  <p class="invoice-contact">
                                    Attention: {{ invoice.profInv.kindName }}
                                  </p>
                                  <p class="invoice-contact">
                                    Email: {{ invoice.profInv.email }}
                                  </p>
                                </div>
                              </div>
                            </div>
                            <div class="vertical-divider"></div>
                            <div fxFlex="30">
                              <div class="shipper-secction">
                                <h4 class="gray-title">INVOICE DETAILS</h4>
                                <div class="address-inner-content">
                                  <p class="bill-address">
                                    Invoice No :&nbsp;&nbsp;
                                    <span style="font-weight: bold">{{
                                      invoice.profInv.inv_nbr
                                    }}</span>
                                  </p>
                                  <p class="bill-address">
                                    Invoice Date :&nbsp;&nbsp;
                                    {{ invoice.profInv.invoice_date_added }}
                                  </p>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div fxLayout="row">
                            <div class="orders-table">
                              <table class="invoice-table">
                                <thead>
                                  <!-- <tr> -->
                                  <th class="invoice-head">Sl No.</th>
                                  <th class="invoice-head">Description</th>
                                  <th class="invoice-head">Batch No.</th>
                                  <th class="invoice-head">Mfg. Date</th>
                                  <th class="invoice-head">Exp. Date</th>
                                  <th class="invoice-head">Quantity</th>
                                  <th class="invoice-head">UOM</th>
                                  <th class="invoice-head">
                                    Rate per UOM ({{
                                      invoice.profInv.currency
                                    }})
                                  </th>
                                  <th class="invoice-head">
                                    Amount ({{ invoice.profInv.currency }})
                                  </th>
                                  <!-- </tr> -->
                                </thead>
                                <tbody>
                                  <tr
                                    class="invoice-row"
                                    *ngFor="
                                      let product of invoice.productsData;
                                      index as productIndex
                                    "
                                  >
                                    <td class="invoice-tdata">
                                      {{ productIndex + 1 }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_name }}
                                      <!-- <p class="invoice-name"></p> -->
                                    </td>
                                    <td class="invoice-tdata">
                                      <!-- <span *ngFor="let number of batchNumArray;let i = index">

                                                                            <span *ngIf="batchNumArray.length == 1 || i == batchNumArray.length-1 ;else batchNumbers">{{number}}
                                                                                <br>
                                                                            </span>
                                                                            <ng-template #batchNumbers>
                                                                                <span>{{number}},
                                                                                    <br>
                                                                                </span>
                                                                            </ng-template>
                                                                        </span> -->
                                      <span *ngIf="product.batch_nbr">
                                        <p class="invoice-batch">
                                          {{ product.batch_nbr }}
                                        </p>
                                      </span>
                                      <span
                                        class="add-batch add-Line"
                                        title="Add Batch Quantity"
                                        *ngIf="
                                          !product.batch_nbr &&
                                          blockContent &&
                                          factoryPermission &&
                                          !clientPermission
                                        "
                                        (click)="
                                          addBatchNumber(product, 'proforma')
                                        "
                                      >
                                        <mat-icon>add</mat-icon>
                                        <span>Add Batch Quantity</span>
                                      </span>
                                      <!-- <span class="add-batch add-Line m_t_10" title="Edit Batch Quantity"
                                      *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered') && product.batch_nbr && factoryPermission && !clientPermission"
                                      (click)="addBatchNumber(product,orders.selectedOrder.id)">
                                      <mat-icon>edit</mat-icon>
                                      <span class="edit-batch" title="Edit Batch Quantity">Edit Batch Quantity</span>
                                    </span> -->
                                    </td>
                                    <td class="invoice-tdata">
                                      <span *ngIf="product.batch_nbr">
                                        <p class="invoice-batch">
                                          {{ product.mfd_date }}
                                        </p>
                                      </span>
                                    </td>
                                    <td class="invoice-tdata">
                                      <span *ngIf="product.batch_nbr">
                                        <p class="invoice-batch">
                                          {{ product.exp_date }}
                                        </p>
                                      </span>
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_quantity }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.uom_name }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_price }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_price_total }}
                                    </td>
                                  </tr>
                                  <tr class="invoice-row">
                                    <td
                                      class="invoice-tdata gst-data"
                                      colspan="5"
                                      style="padding: 0"
                                    >
                                      <table class="invoice-row-table">
                                        <tbody>
                                          <tr>
                                            <td>
                                              <div class="gst-details">
                                                <span class="gst-one"
                                                  >GSTN TYPE:
                                                  {{
                                                    compnayDetails?.gstin_type
                                                  }}</span
                                                >
                                                <span class="gst-two"
                                                  >END USE:
                                                  {{
                                                    compnayDetails?.end_use
                                                  }}</span
                                                >
                                              </div>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td>
                                              <div class="gst-details">
                                                <span class="invoice-desc"
                                                  >We intend to claim rewards
                                                  under Merchandise Exports from
                                                  India Scheme (MEIS).We
                                                  undertake to abide by the
                                                  provisions of Foreign Exchange
                                                  Management Act, 1999, as
                                                  amended from time to time,
                                                  including
                                                  realization/repatriation of
                                                  foreign exchange to or from
                                                  India.
                                                </span>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                    <td
                                      class="invoice-tdata table-invoice invoice-tdata-border"
                                      colspan="4"
                                      rowspan="2"
                                    >
                                      <table class="invoice-costTable">
                                        <thead>
                                          <tr>
                                            <th
                                              class="costTable-head font-normal"
                                              colspan="2"
                                            >
                                              Sub Total
                                            </th>
                                            <th
                                              class="costTable-head font-normal"
                                            >
                                              {{ invoice.profInv.sub_total }}
                                            </th>
                                          </tr>
                                          <tr>
                                            <th
                                              class="costTable-head font-normal"
                                              colspan="2"
                                            >
                                              Package Charge
                                            </th>
                                            <th
                                              class="costTable-head font-normal"
                                            >
                                              {{ invoice.profInv.pack_charge }}
                                            </th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr
                                            *ngFor="
                                              let column of invoice.profInv
                                                .invTaxAmounts;
                                              index as colIndex
                                            "
                                          >
                                            <td
                                              class="costTable-row"
                                              colspan="2"
                                            >
                                              {{ column.key }}
                                            </td>
                                            <td class="costTable-row">
                                              {{ column.value }}
                                            </td>
                                          </tr>

                                          <!-- <tr>
                                          <td class="costTable-row" colspan="2">GST</td>

                                          <td
                                            *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            class="costTable-row editable" contenteditable="true"
                                            (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                            {{invoice.taxInvoice.tax_gst }}
                                          </td>
                                          <td
                                            *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                            class="costTable-row" contenteditable="false"
                                            (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                            {{invoice.taxInvoice.tax_gst }}
                                          </td>
                                        </tr> -->
                                          <!-- <tr>
                                                                                    <td class="costTable-row" colspan="2">CGST</td>

                                                                                    <td *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))" class="costTable-row" contenteditable="true" (keydown)="changeInvoiceTaxCgst(colIndex, $event)">{{invoice.Inovice.tax_csgt | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                    <td *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')" class="costTable-row" contenteditable="false" (keydown)="changeInvoiceTaxCgst(colIndex, $event)">{{invoice.Inovice.tax_csgt | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="costTable-row" colspan="2">IGST</td>

                                                                                    <td *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))" class="costTable-row" contenteditable="true" (keydown)="changeInvoiceTaxIgst(colIndex, $event)">{{invoice.Inovice.tax_igst | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                    <td *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')" class="costTable-row" contenteditable="false" (keydown)="changeInvoiceTaxIgst(colIndex, $event)">{{invoice.Inovice.tax_igst | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                </tr>-->
                                          <!-- <tr>
                                          <td class="costTable-row" colspan="2">Freight Charges</td>

                                          <td
                                            *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            class="costTable-row editable" contenteditable="true"
                                            (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                            {{invoice.taxInvoice.tax_others }}
                                          </td>
                                          <td
                                            *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5')"
                                            class="costTable-row" contenteditable="false"
                                            (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                            {{invoice.taxInvoice.tax_others }}
                                          </td>
                                        </tr> -->
                                          <tr
                                            *ngFor="
                                              let column of invoice.profInv
                                                .extra_col;
                                              index as colIndex
                                            "
                                          >
                                            <td class="costTable-row delete">
                                              <mat-icon
                                                class="delete-icon"
                                                title="Delete"
                                                [class.disableClass]="
                                                  selectedOrderStatus ==
                                                    'Delivered' ||
                                                  selectedOrderStatus ==
                                                    'Cancelled' ||
                                                  selectedOrderStatus ==
                                                    'In-transit'
                                                "
                                                [class.events-none]="
                                                  selectedOrderStatus ==
                                                    'Delivered' ||
                                                  selectedOrderStatus ==
                                                    'Cancelled' ||
                                                  selectedOrderStatus ==
                                                    'In-transit'
                                                "
                                                (click)="
                                                  deleteLineItem(colIndex)
                                                "
                                              >
                                                delete</mat-icon
                                              >
                                            </td>
                                            <td
                                              class="costTable-row cost-key"
                                              (input)="
                                                changeInvoiceExtraKey(
                                                  colIndex,
                                                  $event
                                                )
                                              "
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5'))"
                                            >
                                              {{ column.key }}
                                            </td>
                                            <td
                                              class="costTable-row"
                                              (keydown)="
                                                changeInvoiceExtraValue(
                                                  colIndex,
                                                  $event
                                                )
                                              "
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            >
                                              {{ column.value }}
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <div class="footer invoice-footer">
                                <!-- <div
                                *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')">
                                <span class="add-Line" (click)="addLineItem()">
                                  <mat-icon>add</mat-icon>
                                  Add Line Item
                                </span>
                              </div> -->
                                <span fxFlex></span>
                                <span class="total-text">Total:</span>
                                <span class="total-text">
                                  {{ invoice.profInv.currency }}</span
                                >
                                <span>{{ invoice.profInv.total }}</span>
                              </div>

                              <!-- <div class="add-paid">
                              <span fxFlex></span>
                              <button mat-raised-button
                                *ngIf="invoice.Inovice.invoice_status_id < '3' && !added
                                                                                                                        && blockContent && factoryPermission && hidePaidBtn &&
                                                                                                                        invoice.Inovice.payment_type !='Advance'"
                                (click)="paidInvoice()">Mark as paid</button>
                            </div> -->
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- PVM Proforma Invoice -->
                  <div #proinvoicetab *ngIf="is_pvm_proforma">
                    <div [class]="taxinvoicetab.print ? 'print' : 'no-print'">
                      <div
                        class="inner-container"
                        [class.collapse]="!showProfInvoice"
                        *ngFor="let invoice of proformaInvData"
                      >
                        <mat-toolbar class="package-toolbar">
                          <img [src]="images.invoice_green" />
                          <div class="invoice-toolbar">
                            <div class="invoice-number">
                              <span class="details-span">{{
                                invoice.profInv.inv_nbr
                              }}</span>
                              <span
                                class="order-detail-status"
                                [ngClass]="{
                                  due: invoice.profInv.status == 'Due',
                                  overdue: invoice.profInv.status == 'Overdue',
                                  open: invoice.profInv.status == 'Open',
                                  paid: invoice.profInv.status == 'Paid'
                                }"
                                >{{ invoice.profInv.status }}</span
                              >
                              <span class="pad-lft">{{
                                invoice.profInv.title
                              }}</span>
                            </div>
                            <div class="xyz">
                              <span class="details-date">{{
                                invoice.profInv.invoice_date_added
                              }}</span>
                            </div>
                          </div>
                          <span fxFlex></span>
                          <div class="packages-icons">
                            <a
                              *ngIf="!clientPermission"
                              target="_blank"
                              href="generateProfInvPdf?orders_id={{
                                orders.selectedOrder.id
                              }}&is_printable=1"
                            >
                              <button mat-icon-button>
                                <img
                                  [src]="images.printer_icon"
                                  title="Print"
                                />
                              </button>
                            </a>
                            <a
                              href="generateProfInvPdf?orders_id={{
                                orders.selectedOrder.id
                              }}&is_printable=0"
                            >
                              <button mat-icon-button>
                                <img
                                  [src]="images.download_arrow"
                                  title="Download"
                                />
                              </button>
                            </a>
                            <button
                              mat-icon-button
                              (click)="toggleProformaInvoice()"
                            >
                              <img
                                [src]="images.grey_arrow"
                                mat-icon-button
                                *ngIf="showProfInvoice"
                              />
                              <mat-icon
                                class="toggle-arrow"
                                *ngIf="!showProfInvoice"
                              >
                                keyboard_arrow_down</mat-icon
                              >
                            </button>
                          </div>
                        </mat-toolbar>
                        <div *ngIf="showProfInvoice">
                          <div class="address-container" fxLayout="row">
                            <div class="shipper-secction" fxFlex="30">
                              <h4 class="gray-title">CONSIGNEE</h4>
                              <div class="address-inner-content">
                                <b class="bill-address">{{
                                  invoice.billingAddr.company_name
                                }}</b>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_address1 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_address2 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr?.bill_address3 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr?.bill_address4 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_city }}
                                </p>
                                <p
                                  class="bill-address"
                                  *ngIf="
                                    invoice.billingAddr.bill_state ||
                                    invoice.billingAddr.bill_postal_code
                                  "
                                >
                                  {{ invoice.billingAddr.bill_state }} -
                                  {{ invoice.billingAddr.bill_postal_code }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.billingAddr.bill_countrty }}
                                </p>
                              </div>
                              <!-- <div class="notify-address" *ngIf="showNotifyAddress">
                                <div class="shipper-secction">
                                  <h4 class="gray-title">NOTIFY TO PARTY</h4>
                                  <div class="address-inner-content">
                                    <b class="bill-address">{{invoice.notifyingAddr.company_name}}</b>
                                    <p class="bill-address">
                                      {{invoice.notifyingAddr.notify_address1}}</p>
                                    <p class="bill-address">
                                      {{invoice.notifyingAddr.notify_address2}}</p>
                                    <p class="bill-address">
                                      {{invoice.notifyingAddr.notify_city}}</p>
                                    <p class="bill-address"
                                      *ngIf="invoice.notifyingAddr.notify_state || invoice.notifyingAddr.notify_postal_code">
                                      {{invoice.notifyingAddr.notify_state}} -
                                      {{invoice.notifyingAddr.notify_postal_code}}</p>
                                    <p class="bill-address">
                                      {{invoice.notifyingAddr.notify_country}}</p>
                                  </div>
                                </div>
                              </div> -->
                            </div>
                            <div class="vertical-divider"></div>
                            <div fxFlex="30">
                              <div class="shipper-secction">
                                <h4 class="gray-title">
                                  Buyer Other than Consignee
                                </h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{
                                    invoice.shippingAddr.company_name
                                  }}</b>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_address1 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_address2 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr?.ship_addres3 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr?.ship_address4 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_city }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_state }} -
                                    {{ invoice.shippingAddr.ship_postal_code }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.shippingAddr.ship_countrty }}
                                  </p>
                                </div>
                              </div>
                              <div class="shipper-secction mt_16">
                                <div class="address-inner-content">
                                  <p class="invoice-contact">
                                    <span
                                      >Phone: {{ invoice.profInv.phone }}</span
                                    >
                                    <span style="margin-left: 4px"
                                      >Ext: {{ invoice.profInv.ext }}</span
                                    >
                                  </p>
                                  <!-- <p class="invoice-contact"> </p> -->
                                  <p class="invoice-contact">
                                    Attention: {{ invoice.profInv.kindName }}
                                  </p>
                                  <p class="invoice-contact">
                                    Email: {{ invoice.profInv.email }}
                                  </p>
                                </div>
                              </div>
                            </div>
                            <div class="vertical-divider"></div>
                            <div fxFlex="30">
                              <div class="shipper-secction">
                                <h4 class="gray-title">INVOICE DETAILS</h4>
                                <div class="address-inner-content">
                                  <p class="bill-address">
                                    Invoice No :&nbsp;&nbsp;
                                    <span style="font-weight: bold">{{
                                      invoice.profInv.inv_nbr
                                    }}</span>
                                  </p>
                                  <p class="bill-address">
                                    Invoice Date :&nbsp;&nbsp;
                                    {{ invoice.profInv.invoice_date_added }}
                                  </p>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div fxLayout="row">
                            <div class="orders-table">
                              <table class="invoice-table">
                                <thead *ngIf="!is_sso">
                                  <th class="invoice-head">Sl No.</th>
                                  <th class="invoice-head">H.S Code</th>
                                  <th class="invoice-head">
                                    Description of Goods
                                  </th>
                                  <th class="invoice-head">Batch No.</th>
                                  <th class="invoice-head">
                                    Qty in Bag/s (Cartons)
                                  </th>
                                  <th class="invoice-head">
                                    RATE/MT IN {{ invoice.profInv.currency }}
                                  </th>
                                  <th class="invoice-head">
                                    RATE/ CARTON IN
                                    {{ invoice.profInv.currency }}
                                  </th>
                                  <th class="invoice-head">
                                    Amount {{ invoice.profInv.currency }}
                                  </th>
                                </thead>
                                <thead *ngIf="is_sso">
                                  <th class="invoice-head">Sl No.</th>
                                  <th class="invoice-head">Description</th>
                                  <th class="invoice-head">Batch No.</th>
                                  <th class="invoice-head">Mfg. Date</th>
                                  <th class="invoice-head">Exp. Date</th>
                                  <th class="invoice-head">Quantity</th>
                                  <th class="invoice-head">UOM</th>
                                  <th class="invoice-head">
                                    Rate per UOM ({{
                                      invoice.Inovice.currency
                                    }})
                                  </th>
                                  <th class="invoice-head">
                                    Amount ({{ invoice.Inovice.currency }})
                                  </th>
                                </thead>
                                <tbody>
                                  <tr
                                    class="invoice-row"
                                    *ngFor="
                                      let product of invoice.productsData;
                                      index as productIndex
                                    "
                                  >
                                    <td class="invoice-tdata">
                                      {{ productIndex + 1 }}
                                    </td>
                                    <td *ngIf="!is_sso" class="invoice-tdata">
                                      {{ product?.hs_code }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_name }}
                                    </td>
                                    <td class="invoice-tdata">
                                      <span *ngIf="product.batch_nbr">
                                        <p class="invoice-batch">
                                          {{ product.batch_nbr }}
                                        </p>
                                      </span>
                                      <span
                                        class="add-batch add-Line"
                                        title="Add Batch Quantity"
                                        *ngIf="
                                          !product.batch_nbr &&
                                          blockContent &&
                                          factoryPermission &&
                                          !clientPermission &&
                                          !batchshow
                                        "
                                        (click)="
                                          addBatchNumber(product, 'proforma')
                                        "
                                      >
                                        <mat-icon>add</mat-icon>
                                        <span>Add Batch Quantity</span>
                                      </span>
                                      <span
                                        class="add-batch add-Line m_t_10"
                                        title="Edit Batch Quantity"
                                        *ngIf="
                                          orders.selectedOrder.status !=
                                            'In-transit' &&
                                          orders.selectedOrder.status !=
                                            'Cancelled' &&
                                          orders.selectedOrder.status !=
                                            'Delivered' &&
                                          product.batch_nbr &&
                                          factoryPermission &&
                                          !clientPermission
                                        "
                                        (click)="
                                          addBatchNumber(
                                            product,
                                            orders.selectedOrder.id
                                          )
                                        "
                                      >
                                        <mat-icon>edit</mat-icon>
                                        <span
                                          class="edit-batch"
                                          title="Edit Batch Quantity"
                                          >Edit Batch Quantity</span
                                        >
                                      </span>
                                    </td>
                                    <td class="invoice-tdata" *ngIf="is_sso">
                                      <span *ngIf="product.batch_nbr">
                                        <p class="invoice-batch">
                                          {{ product.mfd_date }}
                                        </p>
                                      </span>
                                    </td>
                                    <td class="invoice-tdata" *ngIf="is_sso">
                                      <span *ngIf="product.batch_nbr">
                                        <p class="invoice-batch">
                                          {{ product.exp_date }}
                                        </p>
                                      </span>
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_quantity }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.uom_name }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_price }}
                                    </td>
                                    <td class="invoice-tdata">
                                      {{ product.product_price_total }}
                                    </td>
                                  </tr>
                                  <tr class="invoice-row">
                                    <td
                                      class="invoice-tdata gst-data"
                                      colspan="5"
                                      style="padding: 0"
                                    >
                                      <table class="invoice-row-table">
                                        <tbody>
                                          <tr>
                                            <td>
                                              <div class="gst-details">
                                                <span class="gst-one"
                                                  >GSTN TYPE:
                                                  {{
                                                    compnayDetails?.gstin_type
                                                  }}</span
                                                >
                                                <span class="gst-two"
                                                  >END USE:
                                                  {{
                                                    compnayDetails?.end_use
                                                  }}</span
                                                >
                                              </div>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td>
                                              <div class="gst-details">
                                                <span class="invoice-desc">
                                                  Declaration: We declare that
                                                  this invoice shows the actual
                                                  price of goods described and
                                                  that all particulars are true
                                                  and correct
                                                </span>
                                              </div>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                    <td
                                      class="invoice-tdata table-invoice invoice-tdata-border"
                                      colspan="4"
                                      rowspan="2"
                                    >
                                      <table class="invoice-costTable">
                                        <thead>
                                          <tr>
                                            <th
                                              class="costTable-head font-normal"
                                              colspan="2"
                                            >
                                              Sub Total
                                            </th>
                                            <th
                                              class="costTable-head font-normal"
                                            >
                                              {{ invoice.profInv.sub_total }}
                                            </th>
                                          </tr>
                                          <tr>
                                            <th
                                              class="costTable-head font-normal"
                                              colspan="2"
                                            >
                                              Package Charge
                                            </th>
                                            <th
                                              class="costTable-head font-normal"
                                            >
                                              {{ invoice.profInv.pack_charge }}
                                            </th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr
                                            *ngFor="
                                              let column of invoice.profInv
                                                .invTaxAmounts;
                                              index as colIndex
                                            "
                                          >
                                            <td
                                              class="costTable-row"
                                              colspan="2"
                                            >
                                              {{ column.key }}
                                            </td>
                                            <td class="costTable-row">
                                              {{ column.value }}
                                            </td>
                                          </tr>

                                          <tr
                                            *ngFor="
                                              let column of invoice.profInv
                                                .extra_col;
                                              index as colIndex
                                            "
                                          >
                                            <td class="costTable-row delete">
                                              <mat-icon
                                                class="delete-icon"
                                                title="Delete"
                                                [class.disableClass]="
                                                  selectedOrderStatus ==
                                                    'Delivered' ||
                                                  selectedOrderStatus ==
                                                    'Cancelled' ||
                                                  selectedOrderStatus ==
                                                    'In-transit'
                                                "
                                                [class.events-none]="
                                                  selectedOrderStatus ==
                                                    'Delivered' ||
                                                  selectedOrderStatus ==
                                                    'Cancelled' ||
                                                  selectedOrderStatus ==
                                                    'In-transit'
                                                "
                                                (click)="
                                                  deleteLineItem(colIndex)
                                                "
                                              >
                                                delete</mat-icon
                                              >
                                            </td>
                                            <td
                                              class="costTable-row cost-key"
                                              (input)="
                                                changeInvoiceExtraKey(
                                                  colIndex,
                                                  $event
                                                )
                                              "
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5'))"
                                            >
                                              {{ column.key }}
                                            </td>
                                            <td
                                              class="costTable-row"
                                              (keydown)="
                                                changeInvoiceExtraValue(
                                                  colIndex,
                                                  $event
                                                )
                                              "
                                              contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            >
                                              {{ column.value }}
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                              <div class="footer invoice-footer">
                                <span fxFlex></span>
                                <span class="total-text">Total:</span>
                                <span class="total-text">
                                  {{ invoice.profInv.currency }}</span
                                >
                                <span>{{ invoice.profInv.total }}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
                <!-- tax INVOICE -->
                <!-- <div class="inner-container invoice-container" *ngIf="!clientPermission && showDrumsList"> -->
                <!-- <div class="invoice"> -->
                <!-- <div class="invoice-icon">
                                            <img [src]='images.invoice_gray' title="Orders">{{clientPermission}}
                                        </div> -->
                <!-- <button mat-raised-button (click)="addDrums()">Add Drums</button> -->
                <!-- </div> -->
                <!-- </div> -->
                <!-- //////////// -->
                <!--upload supplier document-->
                <!-- <div class="inner-container invoice-container">
                  <h1>upload supplier</h1>
                </div> -->
                <div
                  class="activity-container"
                  *ngIf="
                    orders.selectedOrder.orders_types_id > 2 &&
                    !showDrumsList &&
                    !(orders.selectedOrder.orders_types_id == '5') &&
                    orders.packageStatus == 2 &&
                    factoryPermission &&
                    !clientPermission &&
                    !isSampleDocs &&
                    is_aapl
                  "
                >
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img
                        class="logo-img"
                        [src]="images.pdf_download"
                        title="Activity"
                      />
                      <span>Upload Supplier Document </span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <div class="image-upload">
                        <div>
                          <div
                            class="pdf-upload attachment_upload layout-column"
                          >
                            <!-- for="addedFiles" -->
                            <label>
                              <div class="upload_post">
                                <div
                                  class="upload_section"
                                  (click)="uploadSupplier('supplier')"
                                >
                                  <mat-icon
                                    class="contact-add mat-icon material-icons mat-icon-no-color"
                                    role="img"
                                    aria-hidden="true"
                                    >add</mat-icon
                                  >
                                  <h3 class="contact-text">Upload</h3>
                                </div>
                              </div>
                            </label>
                          </div>
                        </div>
                        <div></div>
                        <div
                          class="image_wrap"
                          *ngFor="let file of suppllierDocuments; let i = index"
                        >
                          <div class="upload_post">
                            <div class="upload_section">
                              <a target="_blank">
                                <div class="delete-value">
                                  <!-- <div class="file-info">
       {{file.original_name}}
                             </div> -->

                                  <button
                                    mat-icon-button
                                    class="dots"
                                    [matMenuTriggerFor]="menu"
                                    aria-label="Example icon-button with a menu"
                                  >
                                    <mat-icon>more_vert</mat-icon>
                                  </button>

                                  <span class="img-icon">
                                    <a
                                      style="display: contents"
                                      class="click delete"
                                      title="Delete"
                                      (click)="
                                        deleteUploads(file, i, 'supplier')
                                      "
                                      [class.disableClass]="
                                        selectedOrderStatus == 'Delivered' ||
                                        selectedOrderStatus == 'Cancelled'
                                      "
                                      [class.events-none]="
                                        selectedOrderStatus == 'Delivered' ||
                                        selectedOrderStatus == 'Cancelled'
                                      "
                                    >
                                      <span class="material-icons">
                                        delete
                                      </span>
                                    </a>
                                  </span>
                                </div>

                                <img
                                  *ngIf="
                                    file.link_url.lastIndexOf('.pdf') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.xlsx') == -1
                                  "
                                  class="list-upload-img"
                                  [src]="file.link_url"
                                />
                                <div
                                  *ngIf="file.link_url.lastIndexOf('.pdf') > -1"
                                >
                                  <!-- <pdf-viewer [src]="file.link_url" [original-size]="false" [fit-to-page]="false"
                                  [render-text]="true" [show-all]="false" [page]="1"
                                  style="display: block; height: 200px"></pdf-viewer> -->
                                  <img
                                    [src]="images.pdf_png"
                                    style="
                                      height: 100%;
                                      width: 100%;
                                      object-fit: contain;
                                    "
                                  />
                                </div>

                                <div
                                  *ngIf="
                                    file.link_url.lastIndexOf('.doc') > -1 ||
                                    file.link_url.lastIndexOf('.docx') > -1
                                  "
                                >
                                  <img
                                    [src]="images.docx_png"
                                    style="
                                      height: 100%;
                                      width: 100%;
                                      object-fit: contain;
                                    "
                                  />
                                </div>
                                <div
                                  *ngIf="
                                    file.link_url.lastIndexOf('.xlsx') > -1
                                  "
                                >
                                  <img
                                    [src]="images.xlsx_png"
                                    style="
                                      height: 100%;
                                      width: 100%;
                                      object-fit: contain;
                                    "
                                  />
                                </div>
                                <!-- <ngx-doc-viewer
                                *ngIf="file.link_url.lastIndexOf('.doc') > -1 || file.link_url.lastIndexOf('.docx') > -1 || file.link_url.lastIndexOf('.xlsx') > -1"
                                [url]="file.link_url" viewer="google" style="width:216px;height:200px;">
                              </ngx-doc-viewer> -->
                              </a>
                            </div>
                            <mat-menu #menu="matMenu">
                              <span class="img-icon">
                                <a
                                  class="click"
                                  title="Download"
                                  (click)="downloadFile(file, i, 'supplier')"
                                >
                                  <span> Download </span>
                                </a>
                              </span>
                              <span class="img-icon">
                                <a
                                  class="click"
                                  title="Preview"
                                  (click)="openPreview(file, i, 'supplier')"
                                >
                                  <span> Preview </span>
                                </a>
                              </span>
                              <span class="img-icon">
                                <a
                                  class="click"
                                  title="notes"
                                  (click)="SaveDescription(file)"
                                >
                                  <span> Notes </span>
                                </a>
                              </span>
                            </mat-menu>
                            <div class="icon-sections">
                              <div class="icon-content"></div>
                            </div>
                            <div
                              class="file-info tool-tip description-suppliers"
                            >
                              <p class="supplier-document">
                                {{ file.original_name }}
                              </p>

                              <!-- <div *ngFor="let b of suppllierDocuments; let i = index ">
                              <span class="inner-text"> <mat-form-field style="margin-top: 0px;" class="custom-input compny-sub-flx grid-full supplier-description" floatLabel="never">

                                <textarea columns="600" maxlength="250" matInput  style="height: 80px; width: 300px;"  [(ngModel)]="b.description" (change)="descriptionvalue($event)"
                                    class="customer-notes_text-area"
                                    placeholder="Add Description"></textarea>
                            </mat-form-field>
                          <button class="supplier-button"  (click)="saveupload(file,1)">Save</button>
                          </span>
                            </div> -->
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="main"
                  #packaging
                  [class]="packaging.print ? 'print' : 'no-print'"
                  *ngIf="
                    !is_automech &&
                    orders.selectedOrder.orders_types_id > 2 &&
                    !(orders.selectedOrder.orders_types_id == '5') &&
                    (orders.packageStatus == 1 || orders.packageStatus == 2) &&
                    !showDrumsList &&
                    !isSampleDocs
                  "
                >
                  <!-- when packing completed -->
                  <div class="inner-container" [class.collapse]="!showPackage">
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]="images.package_icon" />
                      <span>Packing Details</span>
                      <span fxFlex></span>
                      <div *ngIf="viewActivityLogIcon">
                        <button
                          mat-icon-button
                          class="action-orderbtn"
                          (click)="openActivityModal('order_packing_details')"
                        >
                          <img
                            [src]="images.activity_log_icon"
                            title="Activity Log"
                          />
                        </button>
                      </div>

                      <div *ngIf="packageCompleted">
                        <a
                          *ngIf="!clientPermission"
                          target="_blank"
                          href="generatePackagePdf?id={{
                            orders.selectedOrder.id
                          }}&is_printable=1"
                        >
                          <button mat-icon-button>
                            <img [src]="images.printer_icon" title="Print" />
                          </button>
                        </a>
                        <a
                          href="generatePackagePdf?id={{
                            orders.selectedOrder.id
                          }}&is_printable=0"
                        >
                          <button mat-icon-button>
                            <img
                              [src]="images.download_arrow"
                              title="Download"
                            />
                          </button>
                        </a>
                      </div>
                      <button mat-icon-button (click)="togglePackage()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showPackage"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showPackage"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showPackage">
                      <table
                        class="package-details-table"
                        *ngFor="
                          let package of orders.packageOrders.packing;
                          index as productIndex
                        "
                      >
                        <tbody>
                          <tr class="product-details">
                            <td
                              colspan="4"
                              class="package-head"
                              style="padding: 0px"
                            >
                              <mat-toolbar
                                class="package-head"
                                style="
                                  display: flex;
                                  justify-content: space-between;
                                  background-color: #9db5d92e;
                                "
                              >
                                <div>
                                  <span
                                    class="product-name package-product-name"
                                    title=" {{
                                      package.productPackage.product_name
                                    }}"
                                    >{{ productIndex + 1 }}.
                                    {{ package.productPackage.product_name }}
                                  </span>
                                  <span
                                    class="product-name"
                                    style="vertical-align: middle"
                                  >
                                    {{
                                      isMerchantExporter
                                        ? package.product_qty
                                        : package.productPackage.productQty
                                    }}
                                    {{
                                      package.productPackage.uom_name
                                    }}&nbsp;</span
                                  >
                                  <mat-icon
                                    class="i-icon-p"
                                    title="Quantity Produced (sum of all Quantities below)"
                                    style="
                                      width: 16px;
                                      height: 16px;
                                      vertical-align: middle;
                                    "
                                    >info</mat-icon
                                  >
                                  <span
                                    class="description-packing"
                                    title="{{
                                      package.productPackage.product_desc
                                    }}"
                                    >{{
                                      package.productPackage.product_desc
                                    }}</span
                                  >
                                </div>
                                <div style="display: flex; align-items: center">
                                  <span
                                    class="add-batch add-Line m_t_10"
                                    title="{{
                                      isMerchantExporter
                                        ? (package.batchesData.length
                                            ? 'Edit'
                                            : 'Add') + ' Packaging'
                                        : (package.batchesData.length
                                            ? 'Edit'
                                            : 'Add') + ' Packaging'
                                    }}"
                                    *ngIf="
                                      orders.selectedOrder.status !=
                                        'In-transit' &&
                                      orders.selectedOrder.status !=
                                        'Cancelled' &&
                                      orders.selectedOrder.status !=
                                        'Delivered' &&
                                      factoryPermission &&
                                      !clientPermission
                                    "
                                    (click)="
                                      addBatchNumber(
                                        package.productPackage,
                                        package.batchesData.length ? 'edit' : ''
                                      )
                                    "
                                    style="
                                      margin-top: 2px;
                                      justify-content: flex-end;
                                      gap: 4px;
                                    "
                                  >
                                    <span class="edit-batch">
                                      {{
                                        (package.batchesData.length
                                          ? "Edit"
                                          : "Add") + " Packaging"
                                      }}
                                    </span>
                                    <mat-icon>edit</mat-icon>
                                  </span>
                                </div>
                              </mat-toolbar>
                            </td>
                          </tr>
                          <tr
                            class="after-batch"
                            *ngFor="
                              let batch of package.batchesData;
                              index as batchIndex
                            "
                          >
                            <td colspan="4" class="after-batch-data">
                              <!-- <div *ngIf="batch.batch_nbr">
                                <mat-toolbar class="package-head">
                                  <span
                                    >{{ batchIndex + 1 }}. Batch No:
                                    {{ batch.batch_nbr }}</span
                                  >
                                </mat-toolbar>
                              </div> -->
                              <table class="package-tables">
                                <thead>
                                  <tr>
                                    <th style="text-align: left">SL.No</th>
                                    <th
                                      style="text-align: left"
                                      *ngIf="batch?.contains[0]?.batch_nbr"
                                    >
                                      Batch
                                    </th>
                                    <th style="text-align: left">
                                      Packing item
                                    </th>
                                    <th
                                      style="text-align: right"
                                      class="table-right"
                                    >
                                      Quantity
                                    </th>
                                    <th
                                      class="table-right"
                                      style="width: 150px; text-align: right"
                                    >
                                      Tare Weight <br />(in kg)
                                    </th>
                                    <th
                                      style="text-align: right"
                                      class="table-right"
                                    >
                                      Net Weight<br />
                                      (in kg)
                                    </th>
                                    <th
                                      style="text-align: right"
                                      class="table-right"
                                    >
                                      Gross Weight<br />
                                      (in kg)
                                    </th>
                                    <th
                                      class="table-right"
                                      style="
                                        white-space: nowrap;
                                        text-align: right;
                                      "
                                    >
                                      Dimensions
                                      <!-- (in
                                      {{batch?.contains[0]?.container_uom_name}}) -->
                                      <br />
                                      (HxWxD)
                                    </th>
                                    <th
                                      style="text-align: right"
                                      class="table-right"
                                      *ngIf="volWeight"
                                    >
                                      {{ batch?.contains[0]?.cal_label }}
                                    </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr
                                    *ngFor="
                                      let container of batch.contains;
                                      index as containerIndex
                                    "
                                  >
                                    <td class="package-sno">
                                      {{ containerIndex + 1 }}
                                    </td>
                                    <td
                                      *ngIf="container?.batch_nbr"
                                      class="package-sno"
                                    >
                                      {{
                                        container.batch_nbr
                                          ? container.batch_nbr
                                          : "_"
                                      }}
                                    </td>

                                    <td>{{ container.container_name }}</td>
                                    <td class="table-right">
                                      {{
                                        container.palletType
                                          ? container.primary_quantity
                                          : container.qty
                                      }}
                                    </td>
                                    <!-- <td class="table-right" style="line-height: 1.5;">
                                      {{ container.tar_weight_tot }}
                                      <p
                                        class="package-weight"
                                        style="width: 200px"
                                        >{{
                                          container.tar_weight_tot
                                            | number : "1.2-2"
                                        }}</span
                                      >
                                      <span
                                        *ngIf="!isMerchantExporter"
                                        class="package-weight"
                                        style="font-size: 10px"
                                        >{{ container?.tar_weight_str }}</p
                                      >
                                    </td> -->
                                    <!-- <td
                                      class="table-right"
                                      style="line-height: 1.5"
                                    >
                                      {{ container.tar_weight_tot }}

                                      {{ container?.tar_weight_str }}
                                    </td> -->
                                    <td
                                      class="table-right"
                                      style="line-height: 1.5"
                                    >
                                      {{ container.tar_weight_tot }}
                                      <p
                                        class="package-weight"
                                        style="font-size: 10px"
                                      >
                                        {{ container?.tar_weight_str }}
                                      </p>
                                    </td>

                                    <td
                                      class="table-right"
                                      style="line-height: 1.5"
                                    >
                                      {{ container.net_wgt_total }}
                                      <p
                                        class="package-weight"
                                        style="font-size: 10px"
                                      >
                                        {{ container?.net_weight_str }}
                                      </p>
                                    </td>

                                    <td
                                      class="table-right"
                                      style="line-height: 1.5"
                                    >
                                      <p class="package-weight">
                                        {{ container.gross_weight_total }}
                                      </p>
                                      <p
                                        *ngIf="isMerchantExporter"
                                        class="package-weight"
                                        style="font-size: 10px"
                                      >
                                        {{ container?.gross_weight_str }}
                                      </p>
                                    </td>
                                    <td
                                      class="table-right"
                                      style="line-height: 1.5"
                                    >
                                      {{
                                        container.height +
                                          "x" +
                                          container.weight +
                                          "x" +
                                          container.dimensions
                                      }}
                                      <p style="font-size: 10px">
                                        ({{ container.container_uom_name }})
                                      </p>
                                    </td>
                                    <td
                                      class="table-right package-weight"
                                      style="white-space: nowrap"
                                      *ngIf="volWeight"
                                    >
                                      {{ container?.cal_val }}
                                    </td>
                                  </tr>

                                  <tr
                                    class="package-total"
                                    *ngIf="package.batchesData.length"
                                  >
                                    <td
                                      class="table-right"
                                      [attr.colspan]="
                                        batch?.contains[0]?.batch_nbr ? 4 : 3
                                      "
                                    >
                                      Total (in Kgs)
                                    </td>
                                    <td class="table-right">
                                      {{
                                        isMerchantExporter
                                          ? package.sum.tar_wt
                                          : batch.sum.tar_weight_tot
                                      }}
                                    </td>
                                    <td class="table-right">
                                      {{
                                        isMerchantExporter
                                          ? package.sum.net_wt
                                          : batch.sum.net_wgt_total
                                      }}
                                    </td>
                                    <td class="table-right gross-details">
                                      {{
                                        isMerchantExporter
                                          ? package.sum.gross_wt
                                          : batch.sum.gross_weight_total
                                      }}
                                    </td>
                                    <!-- <td>ghjghjgh</td> -->
                                    <td></td>

                                    <td
                                      class="table-right"
                                      style="white-space: nowrap"
                                      *ngIf="volWeight"
                                    >
                                      {{ package.cal_value }}
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </td>
                          </tr>
                        </tbody>
                      </table>

                      <div
                        class="summary-footer"
                        *ngIf="
                          orders.packageOrders.sum &&
                          orders.packageOrders.sum.net_wt
                        "
                      >
                        <div class="summary-description">
                          <div
                            style="
                              display: flex;
                              cursor: pointer;
                              gap: 4px;
                              padding-bottom: 6px;
                            "
                          >
                            <h4>Marks and No's :</h4>
                            <span
                              (click)="descriptionEdit()"
                              [class.disableClass]="
                                selectedOrderStatus == 'Delivered' ||
                                selectedOrderStatus == 'Cancelled'
                              "
                              [class.events-none]="
                                selectedOrderStatus == 'Delivered' ||
                                selectedOrderStatus == 'Cancelled'
                              "
                            >
                              <mat-icon
                                style="
                                  font-size: 18px;
                                  width: 18px;
                                  height: 18px;
                                  position: relative;
                                  top: -1px;
                                "
                                mat-icon-button
                                >edit</mat-icon
                              >
                            </span>
                          </div>
                          <div>
                            <quill-editor
                              [(ngModel)]="packageDescription"
                              *ngIf="editDescription"
                              (onContentChanged)="onContentChanged($event)"
                              (onSelectionChanged)="onSelectionChanged($event)"
                              placeholder="Enter Marks and No's"
                            ></quill-editor>
                          </div>
                          <div
                            *ngIf="!editDescription"
                            class="invoice-contact ql-snow ql-editor"
                            [innerHTML]="packageDescription"
                            style="padding: 0"
                          >
                            <!-- <p style="line-height: 1.4; padding-top: 2px">
                              {{ packageDescription }}
                            </p> -->
                          </div>

                          <!-- <mat-form-field
                            class="custom-input block-ele grid-full"
                            floatLabel="never"
                            *ngIf="editDescription"
                            style="
                              margin-top: 0px;
                              position: relative;
                              left: -10px;
                              top: -8px;
                            "
                          >
                            <textarea
                              [(ngModel)]="textareaContent"
                              (input)="updateWordCount()"
                              matInput
                              placeholder="Enter Marks and No's"
                              autofocus="on"
                              style="
                                height: 90px;
                                line-height: 1.4;
                                padding: 4px 10px;
                                border-width: 2px;
                              "
                              rows="3"
                              (keyup)="valChanged($event)"
                              [(ngModel)]="packageDescription"
                              maxlength="1024"
                            >
                            </textarea>
                            <div style="float:right;margin-top:10px;">{{ wordCount }} /1024</div>
                          </mat-form-field> -->

                          <div
                            class="footer-bottom fxflex save-line-item"
                            fxLayout="row"
                            *ngIf="showPackageSavePanel || editDescription"
                            fxLayoutAlign="end center"
                            style="padding: 16px 0px 16px 16px"
                          >
                            <span fxFlex></span>
                            <section
                              class="section-right"
                              style="display: flex; margin: 4px 4px"
                            >
                              <button
                                type="button"
                                (click)="cancelPackageDescription()"
                                mat-button
                              >
                                Cancel
                              </button>
                              <button
                                type="submit"
                                (click)="editPackageDescription()"
                                mat-raised-button
                              >
                                Save
                              </button>
                            </section>
                            <div class="cb"></div>
                          </div>
                        </div>
                        <div class="summary">
                          <h4>Summary:</h4>
                          <p>
                            Total Net Weight:
                            <span>{{ orders.packageOrders.sum?.net_wt }}</span>
                          </p>
                          <p>
                            Total Tare Weight:
                            <span>{{ orders.packageOrders.sum?.tar_wt }}</span>
                          </p>
                          <p>
                            Total Gross Weight:
                            <span>{{
                              orders.packageOrders.sum?.gross_wt
                            }}</span>
                          </p>
                        </div>
                      </div>
                      <div
                        class="summary-footer"
                        style="max-width: 70%"
                        *ngIf="
                          orders.packageOrders.sum &&
                          orders.packageOrders.sum.net_wt
                        "
                      >
                        <div class="summary-description">
                          <div
                            style="
                              display: flex;
                              cursor: pointer;
                              gap: 4px;
                              padding-bottom: 6px;
                            "
                          >
                            <h4>Declaration for Packing list</h4>
                            <span
                              (click)="pkgDeclarationEdit()"
                              [class.disableClass]="
                                selectedOrderStatus == 'Delivered' ||
                                selectedOrderStatus == 'Cancelled'
                              "
                              [class.events-none]="
                                selectedOrderStatus == 'Delivered' ||
                                selectedOrderStatus == 'Cancelled'
                              "
                            >
                              <mat-icon
                                style="
                                  font-size: 18px;
                                  width: 18px;
                                  height: 18px;
                                  position: relative;
                                  top: -1px;
                                "
                                mat-icon-button
                                >edit</mat-icon
                              >
                            </span>
                          </div>
                          <div>
                            <quill-editor
                              [(ngModel)]="pkgDeclaration"
                              *ngIf="editPkgDeclaration"
                              (onContentChanged)="onContentChanged($event)"
                              (onSelectionChanged)="onSelectionChanged($event)"
                              placeholder="Enter Declaration for Packing list"
                            ></quill-editor>
                          </div>
                          <div
                            *ngIf="!editPkgDeclaration"
                            class="invoice-contact ql-snow ql-editor"
                            [innerHTML]="pkgDeclaration"
                            style="padding: 0"
                          ></div>

                          <div
                            class="footer-bottom fxflex save-line-item"
                            fxLayout="row"
                            *ngIf="showPackageSavePanel || editPkgDeclaration"
                            fxLayoutAlign="end center"
                            style="padding: 16px 0px 16px 16px"
                          >
                            <span fxFlex></span>
                            <section
                              class="section-right"
                              style="display: flex; margin: 4px 4px"
                            >
                              <button
                                type="button"
                                (click)="cancelPkgDeclaration()"
                                mat-button
                              >
                                Cancel
                              </button>
                              <button
                                type="submit"
                                (click)="editPakgDeclaration()"
                                mat-raised-button
                              >
                                Save
                              </button>
                            </section>
                            <div class="cb"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Packing LUT -->
                <div
                  #packagingLut
                  [class]="packagingLut.print ? 'print' : 'no-print'"
                  *ngIf="
                    !packageDisable &&
                    orders.selectedOrder.orders_types_id > 2 &&
                    !(orders.selectedOrder.orders_types_id == '5') &&
                    (orders.packageStatus == 1 || orders.packageStatus == 2) &&
                    !showDrumsList &&
                    !isSampleDocs
                  "
                >
                  <div class="inner-container sample-document">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Packaging Details LUTsdf</span>
                      <span fxFlex></span>
                      <a
                        href="generatePackagingLut?id={{
                          orders.selectedOrder.id
                        }}"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>

                <!-- <div #uom [class]="(uom.print?'print':'no-print')" *ngIf="factoryPermission">
                  <div class="shipping-container" [class.collapse]="!showUom"
                    *ngIf="CoaDetails.length  && !showDrumsList && ((orders.packageOrders.invStatus=='2') && !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id >'2') && (orders.packageStatus == 2))">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.rocket'>
                      <span>UOM</span>
                      <span fxFlex></span>

                      <button mat-icon-button (click)="toggleUom()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showUom">
                        <mat-icon class="toggle-arrow" *ngIf="!showUom">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showUom" >
                      <label>UOM:</label>
                      <mat-form-field class="custom-input" floatLabel="never">
                        <mat-select class="payment-select" [disabled]="disablePayment"
                          placeholder="UOM"  [(value)]="selectedUom">
                          <mat-option (click)="changeUomType(uom)" *ngFor="let uom of UomData"
                            [value]="uom.id">
                            {{ uom.name }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <mat-list class="footer-bottom fxflex" *ngIf="showUOMSavePanel && blockContent"
                      fxLayout="row" fxLayoutAlign="end center">
                      <span fxFlex></span>
                      <section class="section-right">
                        <button type="button" (click)="cancelUomChange()" mat-button>Cancel</button>
                        <button type="submit" (click)="saveUomData()"
                          mat-raised-button>Save</button>
                      </section>
                      <div class="cb"></div>
                    </mat-list>
                    </div>
                  </div>
                </div> -->

                <!-- Primary Packaging -->
                <div
                  class="main"
                  #primaryPackaging
                  [class]="primaryPackaging.print ? 'print' : 'no-print'"
                  *ngIf="
                    !packageDisable &&
                    orders.selectedOrder.orders_types_id > 2 &&
                    !(orders.selectedOrder.orders_types_id == '5') &&
                    (orders.packageStatus == 1 || orders.packageStatus == 2) &&
                    !showDrumsList &&
                    !isSampleDocs
                  "
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showPrimaryPackage"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]="images.package_icon" />
                      <span>Primary Packing Details</span>
                      <span fxFlex></span>
                      <div *ngIf="packageCompleted">
                        <a
                          *ngIf="!clientPermission"
                          target="_blank"
                          href="generatePrimaryPackagePdf?id={{
                            orders.selectedOrder.id
                          }}&is_printable=1&uom_id={{ selectedUom }}"
                        >
                          <button mat-icon-button>
                            <img [src]="images.printer_icon" title="Print" />
                          </button>
                        </a>
                        <a
                          href="generatePrimaryPackagePdf?id={{
                            orders.selectedOrder.id
                          }}&is_printable=0&uom_id={{ selectedUom }}"
                        >
                          <button mat-icon-button>
                            <img
                              [src]="images.download_arrow"
                              title="Download"
                            />
                          </button>
                        </a>

                        <!-- <button mat-icon-button *ngIf="!printPackage" (click)="printPackaging()">
                                                  <img [src]='images.printer_icon' title="Print">
                                              </button> -->
                      </div>
                      <button mat-icon-button (click)="togglePrimaryPackage()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showPrimaryPackage"
                        />
                        <mat-icon
                          class="toggle-arrow"
                          *ngIf="!showPrimaryPackage"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="payment-mode">
                      <div>
                        <mat-form-field class="custom-input" floatLabel="never">
                          <label class="custom-label">UOM</label>
                          <mat-select
                            class="payment-select"
                            placeholder="UOM"
                            [(value)]="selectedUom"
                          >
                            <mat-option
                              (click)="changeUomType(uom)"
                              *ngFor="let uom of UomData"
                              [value]="uom.id"
                            >
                              {{ uom.name }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                        <mat-list
                          class="footer-bottom fxflex"
                          *ngIf="showUOMSavePanel && blockContent"
                          fxLayout="row"
                          fxLayoutAlign="end center"
                        >
                          <span fxFlex></span>
                          <section class="section-right">
                            <button
                              type="button"
                              (click)="cancelUomChange()"
                              mat-button
                            >
                              Cancel
                            </button>
                            <button
                              type="submit"
                              (click)="saveUomData()"
                              mat-raised-button
                            >
                              Save
                            </button>
                          </section>
                          <div class="cb"></div>
                        </mat-list>
                      </div>
                    </div>
                    <div *ngIf="showPrimaryPackage">
                      <table
                        class="package-details-table"
                        *ngFor="
                          let package of primaryPackageData;
                          index as productIndex
                        "
                      >
                        <tbody>
                          <!-- before batch -->

                          <tr class="product-details">
                            <!-- <td>{{productIndex+1}}</td> -->
                            <td>
                              <span class="product-name">{{
                                package.container_name
                              }}</span>
                              <!-- <span *ngIf="!package.batchesData.length" class="remaining-txt">(Remaining Quantity
                              {{package.productPackage.productQty}}kg)</span> -->
                            </td>
                            <!-- <td class="v-top">
                            {{package.productPackage.productQty == 1 ? package.productPackage.productQty
                                                           : package.productPackage.productQty }}
                            {{package.productPackage.uom_name}}</td> -->
                          </tr>
                          <tr class="after-batch">
                            <td colspan="5" class="after-batch-data">
                              <!-- <mat-toolbar class="package-head">
                              <span>{{batchIndex+1}}. Batch No:
                                {{batch.batch_nbr}}</span>
                            </mat-toolbar> -->
                              <table
                                class="package-table"
                                cellpadding="0"
                                cellspacing="0"
                              >
                                <thead>
                                  <tr>
                                    <th rowspan="2">SL.No</th>
                                    <th rowspan="2">Container Name</th>

                                    <th colspan="3" style="text-align: center">
                                      Container
                                    </th>
                                    <th colspan="3" style="text-align: center">
                                      Container Margin
                                    </th>

                                    <th rowspan="2" class="table-right">UOM</th>
                                  </tr>
                                  <tr>
                                    <th class="table-right">Height</th>
                                    <th class="table-right">Depth</th>
                                    <!-- <th class="table-right">Net Weight (in {{package?.productPackage?.uom_name}})</th> -->
                                    <th class="table-right">Width</th>

                                    <th class="table-right">Height</th>
                                    <th class="table-right">Depth</th>
                                    <th
                                      class="table-right"
                                      style="border-right: 1px solid #d7dbe0"
                                    >
                                      Width
                                    </th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td class="package-sno">1</td>
                                    <td>{{ package.container_name }}</td>
                                    <td class="table-right">
                                      {{ package.container_height }}
                                    </td>
                                    <td class="table-right">
                                      {{ package.container_depth }}
                                    </td>
                                    <td class="table-right">
                                      {{ package?.container_width }}
                                    </td>

                                    <td class="table-right">
                                      {{ package?.container_margin_height }}
                                    </td>
                                    <td class="table-right">
                                      {{ package?.container_margin_length }}
                                    </td>
                                    <td class="table-right">
                                      {{ package?.container_margin_width }}
                                    </td>
                                    <td class="table-right">
                                      {{ package.uom }}
                                    </td>
                                  </tr>
                                  <tr
                                    class="package-total"
                                    *ngIf="primaryPackageData.length"
                                  >
                                    <td class="table-right" colspan="4"></td>

                                    <td colspan="7">
                                      Total Volume of Container (A) :
                                      <span style="float: right">{{
                                        package.container_volume
                                      }}</span>
                                    </td>
                                  </tr>

                                  <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                                                  <td class="table-right" colspan="3">Total in Kgs</td>
                                                                  <td class="table-right">{{package.sum.tar_wt}}</td>
                                                                  <td class="table-right ">{{package.sum.net_wt}}</td>
                                                                  <td class="table-right gross-details">{{package.sum.gross_wt}}</td>
                                                                  <td></td>
                                                              </tr> -->
                                  <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                  <td class="table-right" colspan="3">Total (in
                                    Kgs)</td>
                                  <td class="table-right">
                                    {{batch.sum.tar_weight_tot}}</td>
                                  <td class="table-right ">
                                    {{batch.sum.net_wgt_total}}</td>
                                  <td class="table-right gross-details">
                                    {{batch.sum.gross_weight_total}}</td>
                                  <td></td>
                                </tr> -->
                                </tbody>
                              </table>
                            </td>
                          </tr>

                          <!-- after batch -->
                          <tr class="after-batch">
                            <td colspan="5" class="after-batch-data">
                              <!-- <mat-toolbar class="package-head">
                              <span>{{batchIndex+1}}. Batch No:
                                {{batch.batch_nbr}}</span>
                            </mat-toolbar> -->
                              <table
                                class="package-table"
                                cellpadding="0"
                                cellspacing="0"
                              >
                                <thead>
                                  <tr>
                                    <th>SL.No</th>
                                    <th>Packing item</th>
                                    <th class="table-right">Quantity</th>
                                    <th class="table-right">UOM</th>
                                    <!-- <th class="table-right">Net Weight (in {{package?.productPackage?.uom_name}})</th> -->
                                    <th class="table-right">Height</th>
                                    <th class="table-right">Depth</th>
                                    <th class="table-right">Width</th>
                                    <th class="table-right">Volume</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr
                                    *ngFor="
                                      let container of package.orders.data;
                                      index as containerIndex
                                    "
                                  >
                                    <td class="package-sno">
                                      {{ containerIndex + 1 }}
                                    </td>
                                    <td>{{ container.packaging_name }}</td>
                                    <td class="table-right">
                                      {{ container.quantity }}
                                    </td>
                                    <td class="table-right">
                                      {{ container.uom }}
                                    </td>
                                    <td class="table-right">
                                      {{ container?.height }}
                                    </td>
                                    <td class="table-right">
                                      {{ container?.depth }}
                                    </td>
                                    <td class="table-right">
                                      {{ container?.width }}
                                    </td>
                                    <td class="table-right">
                                      {{ container?.volume }}
                                    </td>
                                  </tr>
                                  <tr
                                    class="package-total"
                                    *ngIf="primaryPackageData.length"
                                  >
                                    <td class="table-right" colspan="4"></td>

                                    <td colspan="6">
                                      Total Volume of Package (B) :
                                      <span style="float: right">{{
                                        package.orders.orders_final_volume
                                      }}</span>
                                    </td>
                                  </tr>
                                  <tr
                                    class="package-total"
                                    *ngIf="primaryPackageData.length"
                                  >
                                    <td class="table-right" colspan="4"></td>

                                    <td colspan="6">
                                      Total Volume (A - B) :
                                      <span style="float: right">{{
                                        package.container_final_volume
                                      }}</span>
                                    </td>
                                  </tr>
                                  <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                                                  <td class="table-right" colspan="3">Total in Kgs</td>
                                                                  <td class="table-right">{{package.sum.tar_wt}}</td>
                                                                  <td class="table-right ">{{package.sum.net_wt}}</td>
                                                                  <td class="table-right gross-details">{{package.sum.gross_wt}}</td>
                                                                  <td></td>
                                                              </tr> -->
                                  <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                  <td class="table-right" colspan="3">Total (in
                                    Kgs)</td>
                                  <td class="table-right">
                                    {{batch.sum.tar_weight_tot}}</td>
                                  <td class="table-right ">
                                    {{batch.sum.net_wgt_total}}</td>
                                  <td class="table-right gross-details">
                                    {{batch.sum.gross_weight_total}}</td>
                                  <td></td>
                                </tr> -->
                                </tbody>
                              </table>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- Freight And Logistics for Customs Passing-->
                <div #freight *ngIf="factoryPermission">
                  <app-freight-form
                    [factoryPermission]="factoryPermission"
                    [order]="orders"
                    [is_automech]="is_automech"
                    (trigger)="getFormEvent($event)"
                    [saveFreightFlag]="saveShippedFlag"
                    [dependentForm]="shippingform"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></app-freight-form>
                </div>

                <!-- Other Order Details -->
                <div #otherOrder *ngIf="factoryPermission ">
                  <app-other-order-details
                    [factoryPermission]="factoryPermission"
                    [order]="orders"
                    [is_automech]="is_automech"
                    [showDrumsList]="showDrumsList"
                    [isSampleDocs]="isSampleDocs"
                    (trigger)="getFormEvent($event)"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></app-other-order-details>
                </div>
                <!--Generate Customs Invoice-->
                <div
                  class="inner-container invoice-container"
                  *ngIf="
                    enableCustomDocs &&
                    ((is_automech &&
                      orders.selectedOrder.orders_types_id == '12') ||
                      (is_aapl && orders.selectedOrder.orders_types_id == '11'))
                  "
                >
                  <div>
                    <p style="padding-bottom: 12px">
                      Generate Customs Passing Documents
                    </p>
                    <button
                      mat-raised-button
                      (click)="generateCustomDocs($event)"
                      [disabled]="
                        clickedGenerateTaxInvoice || clickedGenerateIGSTInvoice
                      "
                    >
                      Generate Customs Documents
                    </button>
                  </div>
                </div>
                <!---export invoice -->
                <div #exportinvoice *ngIf="customDocs && is_automech">
                  <div
                    class="inner-container sample-document"
                    *ngFor="let invoice of orders.invoice"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Export Invoice</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateExportInvoice?orders_id={{
                          invoice.Inovice.orders_id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateExportInvoice?orders_id={{
                          invoice.Inovice.orders_id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!--custom invoice documents in tax,igst invoice-->
                <div #taxinvoicetab>
                  <div
                    [class]="taxinvoicetab.print ? 'print' : 'no-print'"
                    *ngIf="customDocs"
                  >
                    <div
                      class="inner-container"
                      [class.collapse]="!showTaxInvoice"
                      *ngFor="let invoice of taxInvoiceData"
                    >
                      <mat-toolbar class="package-toolbar">
                        <img [src]="images.invoice_green" />
                        <div class="invoice-toolbar">
                          <div class="invoice-number">
                            <span class="details-span">{{
                              invoice.taxInvoice.inv_nbr.replace(
                                "tax",
                                "Customs"
                              )
                            }}</span>
                            <span
                              class="order-detail-status"
                              [ngClass]="{
                                due: invoice.taxInvoice.status == 'Due',
                                overdue: invoice.taxInvoice.status == 'Overdue',
                                open: invoice.taxInvoice.status == 'Open',
                                paid: invoice.taxInvoice.status == 'Paid'
                              }"
                              >{{ invoice.taxInvoice.status }}</span
                            >
                            <span class="pad-lft">{{
                              invoice.taxInvoice.title
                            }}</span>
                          </div>
                          <div class="xyz">
                            <span class="details-date">{{
                              invoice.taxInvoice.invoice_date_added
                            }}</span>
                          </div>
                        </div>
                        <span fxFlex></span>
                        <div *ngIf="viewActivityLogIcon">
                          <button
                            mat-icon-button
                            class="action-orderbtn"
                            (click)="openActivityModal('customs_invoice')"
                          >
                            <img
                              [src]="images.activity_log_icon"
                              title="Activity Log"
                            />
                          </button>
                        </div>
                        <div class="packages-icons">
                          <a
                            *ngIf="!clientPermission && !isMerchantExporter"
                            target="_blank"
                            href="generateTaxInvpdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=1"
                          >
                            <button mat-icon-button>
                              <img [src]="images.printer_icon" title="Print" />
                            </button>
                          </a>
                          <a
                            *ngIf="!isMerchantExporter"
                            href="generateTaxInvpdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=0"
                          >
                            <button mat-icon-button>
                              <img
                                [src]="images.download_arrow"
                                title="Download"
                              />
                            </button>
                          </a>
                          <!--customs invoice new document adding for aapl-->
                          <a
                            *ngIf="!clientPermission && isMerchantExporter"
                            target="_blank"
                            href="generateCustomsInvoice?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=1"
                          >
                            <button mat-icon-button>
                              <img [src]="images.printer_icon" title="Print" />
                            </button>
                          </a>

                          <a
                            *ngIf="!clientPermission && isMerchantExporter"
                            href="generateCustomsInvoice?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=0"
                          >
                            <button mat-icon-button>
                              <img
                                [src]="images.download_arrow"
                                title="Download"
                              />
                            </button>
                          </a>

                          <a
                            *ngIf="
                              !clientPermission &&
                              isMerchantExporter &&
                              viewExcelIcon
                            "
                            href="generateCustomsInvoice?orders_id={{
                              orders.selectedOrder.id
                            }}&is_excel=1&is_printable=0"
                          >
                            <button mat-icon-button>
                              <img
                                [src]="images.excel_icon"
                                title="Download Excel"
                              />
                            </button>
                          </a>
                          <button mat-icon-button (click)="toggleTaxInvoice()">
                            <img
                              [src]="images.grey_arrow"
                              mat-icon-button
                              *ngIf="showTaxInvoice"
                            />
                            <mat-icon
                              class="toggle-arrow"
                              *ngIf="!showTaxInvoice"
                            >
                              keyboard_arrow_down</mat-icon
                            >
                          </button>
                        </div>
                      </mat-toolbar>
                      <div *ngIf="showTaxInvoice">
                        <div class="address-container" fxLayout="row">
                          <div class="shipper-secction" fxFlex="45">
                            <div style="display: flex">
                              <h4 class="gray-title">BILL TO PARTY</h4>
                              <div
                                style="display: flex; cursor: pointer"
                                *ngIf="isMerchantExporter"
                              >
                                <span (click)="customEdit()">
                                  <mat-icon
                                    style="
                                      font-size: 14px;
                                      width: 18px;
                                      height: 18px;
                                      position: relative;
                                      top: -1px;
                                    "
                                    mat-icon-button
                                    >edit</mat-icon
                                  >
                                </span>
                              </div>
                            </div>
                            <span *ngIf="!edittaxInvoiceBill">
                              <p style="line-height: 1.4; padding-top: 2px"></p>
                            </span>

                            <div style="clear: both"></div>
                            <mat-form-field
                              class="custom-input block-ele grid-full"
                              floatLabel="never"
                              *ngIf="edittaxInvoiceBill"
                              style="
                                margin-top: 0px;
                                position: relative;
                                left: -20px;
                                top: -8px;
                              "
                            >
                              <textarea
                                matInput
                                placeholder="Enter Bill To Party"
                                autofocus="on"
                                style="
                                  height: 90px;
                                  line-height: 1.4;
                                  padding: 4px 10px;
                                  border-width: 2px;
                                "
                                rows="3"
                                (focusout)="valuBillEditship('', $event, 1)"
                                [(ngModel)]="buyerAdd"
                              >
                              </textarea>
                            </mat-form-field>
                            <div
                              class="address-inner-content"
                              *ngIf="!isMerchantExporter"
                            >
                              <b class="bill-address">{{
                                invoice.billingAddr.company_name
                              }}</b>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_address1 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_address2 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr?.bill_address3 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr?.bill_address4 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_city }}
                              </p>
                              <p
                                class="bill-address"
                                *ngIf="
                                  invoice.billingAddr.bill_state ||
                                  invoice.billingAddr.bill_postal_code
                                "
                              >
                                {{ invoice.billingAddr.bill_state }} -
                                {{ invoice.billingAddr.bill_postal_code }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_countrty }}
                              </p>
                            </div>
                            <div
                              class="shipper-secction mt_16"
                              *ngIf="isMerchantExporter && showAddress"
                            >
                              <div class="address-inner-content">
                                <p
                                  class="invoice-contact"
                                  [innerHTML]="buyerAdd"
                                ></p>
                              </div>
                            </div>
                            <div
                              class="notify-address"
                              *ngIf="showNotifyAddress && !is_aapl"
                            >
                              <div class="shipper-secction">
                                <h4 class="gray-title">NOTIFY TO PARTY</h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{
                                    invoice.notifyingAddr.company_name
                                  }}</b>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_address1 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_address2 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr?.notify_address3 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr?.notify_address4 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_city }}
                                  </p>
                                  <p
                                    class="bill-address"
                                    *ngIf="
                                      invoice.notifyingAddr.notify_state ||
                                      invoice.notifyingAddr.notify_postal_code
                                    "
                                  >
                                    {{ invoice.notifyingAddr.notify_state }} -
                                    {{
                                      invoice.notifyingAddr.notify_postal_code
                                    }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_country }}
                                  </p>
                                </div>
                              </div>
                            </div>
                            <!--hiding notify edit notify1 in aapl-->

                            <div *ngIf="is_aapl">
                              <div class="shipper-secction" class="notify1">
                                <h4 class="gray-title">NOTIFY TO PARTY1</h4>
                                <div style="display: flex; cursor: pointer">
                                  <span (click)="customEditnotify1()">
                                    <mat-icon
                                      class="mat-icon-notify1"
                                      mat-icon-button
                                      >edit</mat-icon
                                    >
                                  </span>
                                </div>
                              </div>

                              <mat-form-field
                                class="custom-input block-ele grid-full"
                                floatLabel="never"
                                *ngIf="edittaxInvoicenotify1"
                                style="
                                  margin-top: 0px;
                                  position: relative;
                                  left: -20px;
                                  top: -8px;
                                "
                              >
                                <textarea
                                  matInput
                                  placeholder="Enter Notify To Party1"
                                  autofocus="on"
                                  style="
                                    height: 90px;
                                    line-height: 1.4;
                                    padding: 4px 10px;
                                    border-width: 2px;
                                  "
                                  rows="3"
                                  (focusout)="valuBillEditship('', $event, 3)"
                                  [(ngModel)]="customs_notify_address1"
                                >
                                </textarea>
                              </mat-form-field>
                              <div
                                class="shipper-secction"
                                *ngIf="showAddressnotify1"
                              >
                                <div class="address-inner-content">
                                  <p
                                    class="invoice-contact"
                                    [innerHTML]="customs_notify_address1"
                                  ></p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="vertical-divider"></div>
                          <div fxFlex="45">
                            <div class="shipper-secction">
                              <div style="display: flex">
                                <h4 class="gray-title">SHIP TO PARTY</h4>
                                <div
                                  style="display: flex; cursor: pointer"
                                  *ngIf="isMerchantExporter"
                                >
                                  <span (click)="customEditship()">
                                    <mat-icon
                                      style="
                                        font-size: 14px;
                                        width: 18px;
                                        height: 18px;
                                        position: relative;
                                        top: -1px;
                                      "
                                      mat-icon-button
                                      >edit</mat-icon
                                    >
                                    <!-- <mat-icon *ngIf="closeIcon" (click)="clickClose()" style="font-size: 14px;">visibility</mat-icon> -->
                                  </span>
                                </div>
                              </div>
                              <span *ngIf="!editTaxInvoiceshipping">
                                <p
                                  style="line-height: 1.4; padding-top: 2px"
                                ></p>
                              </span>

                              <div style="clear: both"></div>
                              <mat-form-field
                                class="custom-input block-ele grid-full"
                                floatLabel="never"
                                *ngIf="editTaxInvoiceshipping"
                                style="
                                  margin-top: 0px;
                                  position: relative;
                                  left: -20px;
                                  top: -8px;
                                "
                              >
                                <textarea
                                  matInput
                                  placeholder="Enter Ship To Party"
                                  autofocus="on"
                                  style="
                                    height: 90px;
                                    line-height: 1.4;
                                    padding: 4px 10px;
                                    border-width: 2px;
                                  "
                                  rows="3"
                                  (focusout)="valuBillEditship('', $event, 2)"
                                  [(ngModel)]="shipAdd"
                                >
                                </textarea>
                              </mat-form-field>
                              <div
                                class="address-inner-content"
                                *ngIf="!isMerchantExporter"
                              >
                                <b class="bill-address">{{
                                  invoice.shippingAddr.company_name
                                }}</b>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_address1 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_address2 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr?.ship_address3 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr?.ship_address4 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_city }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_state }} -
                                  {{ invoice.shippingAddr.ship_postal_code }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_countrty }}
                                </p>
                              </div>
                            </div>
                            <div
                              class="shipper-secction mt_16"
                              *ngIf="isMerchantExporter && showAddressBill"
                            >
                              <div class="address-inner-content">
                                <p
                                  class="invoice-contact"
                                  [innerHTML]="shipAdd"
                                ></p>
                              </div>
                            </div>
                            <div
                              class="shipper-secction mt_16"
                              *ngIf="!isMerchantExporter"
                            >
                              <div class="address-inner-content">
                                <p class="invoice-contact">
                                  <span
                                    >Phone: {{ invoice.taxInvoice.phone }}</span
                                  >
                                  <span style="margin-left: 4px"
                                    >Ext: {{ invoice.taxInvoice.ext }}</span
                                  >
                                </p>
                                <p class="invoice-contact"></p>
                                <p class="invoice-contact">
                                  Attention: {{ invoice.taxInvoice.kindName }}
                                </p>
                                <p class="invoice-contact">
                                  Email: {{ invoice.taxInvoice.email }}
                                </p>
                              </div>
                            </div>

                            <!--notify 2 in  addding in aapl -->
                            <div *ngIf="is_aapl">
                              <div class="shipper-secction" class="notify1">
                                <h4 class="gray-title">NOTIFY TO PARTY2</h4>
                                <div style="display: flex; cursor: pointer">
                                  <span (click)="customEditnotify2()">
                                    <mat-icon
                                      class="mat-icon-notify1"
                                      mat-icon-button
                                      >edit</mat-icon
                                    >
                                  </span>
                                </div>
                              </div>
                              <mat-form-field
                                class="custom-input block-ele grid-full"
                                floatLabel="never"
                                *ngIf="edittaxInvoicenotify2"
                                style="
                                  margin-top: 0px;
                                  position: relative;
                                  left: -20px;
                                  top: -8px;
                                "
                              >
                                <textarea
                                  matInput
                                  placeholder="Enter Notify To Party2"
                                  autofocus="on"
                                  style="
                                    height: 90px;
                                    line-height: 1.4;
                                    padding: 4px 10px;
                                    border-width: 2px;
                                  "
                                  rows="3"
                                  (focusout)="valuBillEditship('', $event, 4)"
                                  [(ngModel)]="customs_notify_address2"
                                >
                                </textarea>
                              </mat-form-field>
                              <div
                                class="shipper-secction"
                                *ngIf="showAddressnotify2"
                              >
                                <div class="address-inner-content">
                                  <p
                                    class="invoice-contact"
                                    [innerHTML]="customs_notify_address2"
                                  ></p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div fxLayout="row">
                          <div class="orders-table">
                            <table class="invoice-table">
                              <thead>
                                <!-- <tr> -->
                                <th class="invoice-head w-60">Sl No.</th>
                                <th class="invoice-head w-150">Product</th>
                                <th class="invoice-head w-250">Description</th>
                                <th class="invoice-head W-100">Quantity</th>
                                <th class="invoice-head W-100">UOM</th>
                                <th
                                  class="invoice-head w-200"
                                  style="white-space: nowrap; text-align: right"
                                >
                                  Rate per UOM({{
                                    invoice.taxInvoice.currency
                                  }})
                                </th>
                                <th
                                  class="invoice-head W-100"
                                  *ngIf="!isMerchantExporter"
                                >
                                  Tax (%)
                                </th>
                                <!--hide  for aapl-->
                                <th class="invoice-head">
                                  Amount ({{ invoice.taxInvoice.currency }})
                                </th>
                              </thead>
                              <tbody>
                                <tr
                                  class="invoice-row"
                                  *ngFor="
                                    let product of invoice.productsData;
                                    index as productIndex
                                  "
                                >
                                  <td class="invoice-tdata text-left">
                                    {{ productIndex + 1 }}
                                  </td>
                                  <td class="invoice-tdata text-left">
                                    {{ product.product_name }}
                                  </td>
                                  <td class="invoice-tdata text-left">
                                    <div
                                      class="ellipsis"
                                      title="{{ product.p_description }}"
                                    >
                                      {{ product.p_description }}
                                    </div>
                                  </td>
                                  <td class="invoice-tdata text-right">
                                    {{ product.quantity }}
                                  </td>
                                  <td class="invoice-tdata text-right">
                                    {{ product.uom_name }}
                                  </td>
                                  <td
                                    class="invoice-tdata text-right editfreight-orders-taxprice"
                                  >
                                    <div
                                      class="taxPrices"
                                      style="
                                        white-space: nowrap;
                                        display: flex;
                                        justify-content: flex-end;
                                        align-items: center;
                                      "
                                    >
                                      <input
                                        #taxInvEditInput
                                        *ngIf="
                                          editTaxPrice ===
                                          product?.order_product_id
                                        "
                                        (keyup)="
                                          saveTaxfreighInsu($event, 'price')
                                        "
                                        [ngStyle]="{
                                          border:
                                            editTaxPrice ===
                                            product?.order_product_id
                                              ? '1px solid #075da8'
                                              : 'none'
                                        }"
                                        class="edit-hover-qty-orders charges"
                                        oninput="javascript:  if (!/^(\d+(\.\d{0,3})?)?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                        onpaste="javascript:event.preventDefault();"
                                        [(ngModel)]="product.product_price"
                                        (blur)="
                                          onBlur(
                                            $event,
                                            product?.order_product_id
                                          )
                                        "
                                        (focus)="removeCommas($event)"
                                      />
                                      <!-- 
                                      <span
                                        contenteditable="true"
                                        oninput="javascript:  if (!/^(\d+(\.\d{0,3})?)?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                        (keydown)="
                                          savetaxInvoiceEdit(product, $event, 1)
                                        "
                                        >{{ product.product_price }}</span
                                      > -->
                                      <span
                                        *ngIf="
                                          editTaxPrice !==
                                          product?.order_product_id
                                        "
                                        >{{ product.product_price }}</span
                                      >
                                      <mat-icon
                                        *ngIf="
                                          isMerchantExporter &&
                                          editTaxPrice !==
                                            product.order_product_id
                                        "
                                        class="editfreight-orders-taxprice"
                                        (mousedown)="
                                          taxinvoiceEdit(
                                            'price',
                                            product.order_product_id
                                          )
                                        "
                                        mat-icon-button
                                        >edit</mat-icon
                                      >
                                      <div style="display: flex">
                                        <mat-icon
                                          *ngIf="
                                            editTaxPrice ===
                                            product.order_product_id
                                          "
                                          (mousedown)="
                                            savetaxInvoiceEdit(
                                              product,
                                              $event,
                                              1
                                            )
                                          "
                                          class="mat-circle-check close-circle-icons-order"
                                          style="font-size: 24px"
                                          >check_circle_outline</mat-icon
                                        >
                                        <mat-icon
                                          *ngIf="
                                            editTaxPrice ===
                                            product.order_product_id
                                          "
                                          class="close-conversion close-circle-icons-order"
                                          (click)="closeEditTax()"
                                          style="font-size: 24px"
                                          >highlight_off</mat-icon
                                        >
                                      </div>
                                    </div>
                                  </td>
                                  <td
                                    class="invoice-tdata text-right"
                                    *ngIf="!isMerchantExporter"
                                  >
                                    {{ product.tax }}
                                  </td>
                                  <!--hide  for aapl-->
                                  <td
                                    class="invoice-tdata text-right"
                                    style="white-space: nowrap"
                                  >
                                    {{ product.amount }}
                                  </td>
                                </tr>
                                <tr class="invoice-row">
                                  <td
                                    class="invoice-tdata text-center gst-data"
                                    colspan="5"
                                    style="padding: 0"
                                  >
                                    <table
                                      class="invoice-row-table"
                                      width="100%"
                                    >
                                      <tbody>
                                        <!-- <tr *ngIf="is_automech">
                                          <td>
                                            <div class="gst-details">
                                              <span class="gst-one">GSTN
                                                TYPE: {{compnayDetails?.gstin_type}}</span>
                                              <span class="gst-two">END
                                                USE: {{compnayDetails?.end_use}}</span>
                                            </div>
                                          </td>
                                        </tr> -->
                                        <tr>
                                          <td
                                            style="
                                              height: 100px;
                                              vertical-align: top;
                                              padding: 16px;
                                            "
                                          >
                                            <div
                                              class="gst-details"
                                              style="padding: 0"
                                            >
                                              <div
                                                *ngIf="!editcusTermsCndt"
                                                style="
                                                  display: flex;
                                                  justify-content: space-between;
                                                  align-items: start;
                                                "
                                              >
                                                <span
                                                  class="invoice-desc"
                                                  [innerHTML]="customTerms"
                                                ></span>
                                                <mat-icon
                                                  (click)="editCustomTerms()"
                                                  style="
                                                    font-size: 14px;
                                                    width: 18px;
                                                    height: 18px;
                                                    position: relative;
                                                    top: -1px;
                                                  "
                                                  mat-icon-button
                                                  >edit</mat-icon
                                                >
                                              </div>
                                              <textarea
                                                *ngIf="editcusTermsCndt"
                                                [(ngModel)]="customTerms"
                                                matInput
                                                style="text-align: start"
                                                height="100px"
                                                maxlength="1024"
                                                placeholder="Enter Terms and Condition"
                                              ></textarea>

                                              <!-- <span class="invoice-desc">{{invoice.Inovice.terms_cond_des}}</span> -->
                                              <!-- <span class="invoice-desc">
                                              Declaration:1.All disputes in connection with this contract or the
                                              execution thereof shall be settled by negotiation between two parties.
                                              If no settlement can be
                                              reached, the case in dispute shall be then submitted for arbitration
                                              under the laws of Republic of India
                                            </span>
                                            <span class="invoice-desc">2.Incase of all incoterms where the buyer is
                                              responsible for insurance, the buyer's insurance must cover atleast
                                              110% aforementioned, the seller' s
                                              approval must be obtained at first. The seller cannot be held liable
                                              for any loss or damage that occurs during transit ar at
                                              destination...
                                            </span> -->
                                            </div>
                                          </td>
                                        </tr>
                                      </tbody>
                                      <div
                                        class="footer-bottom fxflex save-line-item"
                                        fxLayout="row"
                                        *ngIf="editcusTermsCndt"
                                        fxLayoutAlign="start center"
                                        style=""
                                      >
                                        <span fxFlex></span>
                                        <section
                                          class="section-right"
                                          style="display: flex; margin: 4px 4px"
                                        >
                                          <button
                                            type="button"
                                            (click)="cancelCustomTerms()"
                                            mat-button
                                          >
                                            Cancel
                                          </button>
                                          <button
                                            type="submit"
                                            (click)="saveCustomTerms()"
                                            mat-raised-button
                                          >
                                            Save
                                          </button>
                                        </section>
                                        <div class="cb"></div>
                                      </div>
                                    </table>
                                  </td>
                                  <td
                                    class="invoice-tdata table-invoice invoice-tdata-border"
                                    colspan="4"
                                    rowspan="2"
                                  >
                                    <table class="invoice-costTable">
                                      <thead>
                                        <tr>
                                          <th
                                            class="costTable-head font-normal"
                                            colspan="2"
                                          >
                                            Sub Total
                                          </th>
                                          <th
                                            class="costTable-head font-normal"
                                          >
                                            {{ invoice.taxInvoice.sub_total }}
                                          </th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr
                                          *ngFor="
                                            let column of invoice.taxInvoice
                                              .invTaxAmounts;
                                            index as colIndex
                                          "
                                        >
                                          <td
                                            style="
                                              border-bottom: 1px solid #dfdfdf;
                                            "
                                            class="costTable-row"
                                            colspan="2"
                                          >
                                            {{ column.key }}
                                            <!-- <mat-icon
                                              style="
                                                font-size: 14px;
                                                width: 18px;
                                                height: 18px;
                                                position: relative;
                                                top: -1px;
                                              "
                                              mat-icon-button
                                              *ngIf="
                                                column.key === 'Insurance' ||
                                                column.key === 'Freight'
                                              "
                                              >edit</mat-icon
                                            > -->
                                          </td>
                                          <td
                                            style="
                                              border-bottom: 1px solid #dfdfdf;
                                            "
                                            class="costTable-row"
                                            *ngIf="
                                              !(
                                                column.key === 'Insurance' ||
                                                column.key === 'Freight'
                                              )
                                            "
                                            contenteditable="false"
                                          >
                                            {{ column.value }}
                                          </td>
                                          <!-- <td
                                            style="
                                              border-bottom: 1px solid #dfdfdf;
                                            "
                                            class="costTable-row values1"
                                            *ngIf="
                                              column.key === 'Insurance' ||
                                              column.key === 'Freight'
                                            "
                                            contenteditable="true"
                                            (keydown)="
                                              editTaxinv(
                                                colIndex,
                                                $event,
                                                column.key
                                              )
                                            "
                                            (input)="onTdInput($event)"
                                          >
                                            {{ column.value }}
                                          </td> -->
                                          <td
                                            style="
                                              border-bottom: 1px solid #dfdfdf;
                                              display: flex;
                                              justify-content: flex-end;
                                              max-width: 100%;
                                            "
                                            class="costTable-row values1 editfreight-orders-tax"
                                            *ngIf="
                                              column.key === 'Insurance' ||
                                              column.key === 'Freight'
                                            "
                                          >
                                            <input
                                              #taxInvEditInput
                                              class="numaricEdit charges"
                                              style="padding-right: 0"
                                              oninput="javascript: if (!/^\d+(\.\d{0,3})?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                              [ngStyle]="{
                                                border: extracolEdit.has(
                                                  column.key
                                                )
                                                  ? '1px solid #075da8'
                                                  : 'none'
                                              }"
                                              (keyup)="
                                                saveTaxfreighInsu(
                                                  $event,
                                                  column.key
                                                )
                                              "
                                              *ngIf="
                                                extracolEdit.has(column.key)
                                              "
                                              onpaste="javascript:event.preventDefault();"
                                              [(ngModel)]="column.value"
                                              (focus)="removeCommas($event)"
                                              (blur)="
                                                onBlur($event, column.key)
                                              "
                                            />
                                            <span
                                              *ngIf="
                                                !extracolEdit.has(column.key)
                                              "
                                              >{{ column.value }}</span
                                            >
                                            <!-- [readonly]="
                                                !editinsurancevalueState ||
                                                selectedOrderStatus ==
                                                  'Cancelled'
                                              " -->
                                            <mat-icon
                                              *ngIf="
                                                !extracolEdit.has(column.key)
                                              "
                                              (mousedown)="
                                                taxinvoiceEdit(column.key)
                                              "
                                              class="editfreight-orders-tax"
                                              >edit</mat-icon
                                            >
                                            <div
                                              style="
                                                display: flex;
                                                gap: 4px;
                                                margin-left: 4px;
                                              "
                                            >
                                              <mat-icon
                                                *ngIf="
                                                  extracolEdit.has(column.key)
                                                "
                                                (mousedown)="
                                                  editTaxinv(
                                                    colIndex,
                                                    $event,
                                                    column.key
                                                  )
                                                "
                                                style="
                                                  padding-left: 2px;
                                                  font-size: 24px;
                                                "
                                                class="mat-circle-check close-circle-icons-order"
                                                >check_circle_outline</mat-icon
                                              >
                                              <mat-icon
                                                style="font-size: 24px"
                                                *ngIf="
                                                  extracolEdit.has(column.key)
                                                "
                                                class="close-conversion close-circle-icons-order"
                                                (click)="
                                                  closeEditTax(column.key)
                                                "
                                                >highlight_off</mat-icon
                                              >
                                            </div>
                                          </td>
                                        </tr>
                                        <tr
                                          *ngFor="
                                            let column of invoice.taxInvoice
                                              ?.extra_col;
                                            index as colIndex
                                          "
                                        >
                                          <td
                                            class="costTable-row cost-key"
                                            colspan="2"
                                            (input)="
                                              changeInvoiceExtraKey(
                                                colIndex,
                                                $event
                                              )
                                            "
                                          >
                                            {{ column.key }}
                                          </td>
                                          <td
                                            class="costTable-row"
                                            (keydown)="
                                              changeInvoiceExtraValue(
                                                colIndex,
                                                $event
                                              )
                                            "
                                          >
                                            {{ column.value }}
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <div class="footer invoice-footer">
                              <span fxFlex></span>
                              <span class="total-text">Total:</span>
                              <span class="total-text"
                                >{{ invoice.taxInvoice.currency }}
                              </span>
                              <span>{{ invoice.taxInvoice.total }}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div #igstinvoicetab>
                  <div
                    [class]="igstinvoicetab.print ? 'print' : 'no-print'"
                    *ngIf="customDocs"
                  >
                    <div
                      class="inner-container"
                      [class.collapse]="!showIgstInvoice"
                      *ngFor="let invoice of igstInvoiceData"
                    >
                      <mat-toolbar class="package-toolbar">
                        <img [src]="images.invoice_green" />
                        <div class="invoice-toolbar">
                          <div class="invoice-number">
                            <span class="details-span">{{
                              invoice.taxInvoice.inv_nbr
                            }}</span>
                            <span
                              class="order-detail-status"
                              [ngClass]="{
                                due: invoice.taxInvoice.status == 'Due',
                                overdue: invoice.taxInvoice.status == 'Overdue',
                                open: invoice.taxInvoice.status == 'Open',
                                paid: invoice.taxInvoice.status == 'Paid'
                              }"
                              >{{ invoice.taxInvoice.status }}</span
                            >
                            <span class="pad-lft">{{
                              invoice.taxInvoice.title
                            }}</span>
                          </div>
                          <div class="xyz">
                            <span class="details-date">{{
                              invoice.taxInvoice.invoice_date_added
                            }}</span>
                          </div>
                        </div>
                        <span fxFlex></span>
                        <div *ngIf="viewActivityLogIcon">
                          <button
                            mat-icon-button
                            class="action-orderbtn"
                            (click)="openActivityModal('tax_invoice')"
                          >
                            <img
                              [src]="images.activity_log_icon"
                              title="Activity Log"
                            />
                          </button>
                        </div>
                        <div class="packages-icons">
                          <a
                            *ngIf="!clientPermission && !isMerchantExporter"
                            target="_blank"
                            href="generateIgstInvpdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=1"
                          >
                            <button mat-icon-button>
                              <img [src]="images.printer_icon" title="Print" />
                            </button>
                          </a>
                          <a
                            *ngIf="!isMerchantExporter"
                            href="generateIgstInvpdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=0"
                          >
                            <button mat-icon-button>
                              <img
                                [src]="images.download_arrow"
                                title="Download"
                              />
                            </button>
                          </a>
                          <!--igst chnaging routes for   aapl customstaxinvoie starts -->

                          <a
                            *ngIf="!clientPermission && isMerchantExporter"
                            target="_blank"
                            href="generateCustomsTaxInvPdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=1"
                          >
                            <button mat-icon-button>
                              <img [src]="images.printer_icon" title="Print" />
                            </button>
                          </a>
                          <a
                            *ngIf="!clientPermission && isMerchantExporter"
                            href="generateCustomsTaxInvPdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_printable=0"
                          >
                            <button mat-icon-button>
                              <img
                                [src]="images.download_arrow"
                                title="Download"
                              />
                            </button>
                          </a>

                          <a
                            *ngIf="
                              !clientPermission &&
                              isMerchantExporter &&
                              viewExcelIcon
                            "
                            href="generateCustomsTaxInvPdf?orders_id={{
                              orders.selectedOrder.id
                            }}&is_excel=1&is_printable=0"
                          >
                            <button mat-icon-button>
                              <img
                                [src]="images.excel_icon"
                                title="Download Excel"
                              />
                            </button>
                          </a>
                          <button mat-icon-button (click)="toggleIgstInvoice()">
                            <img
                              [src]="images.grey_arrow"
                              mat-icon-button
                              *ngIf="showIgstInvoice"
                            />
                            <mat-icon
                              class="toggle-arrow"
                              *ngIf="!showIgstInvoice"
                            >
                              keyboard_arrow_down</mat-icon
                            >
                          </button>
                        </div>
                      </mat-toolbar>
                      <div *ngIf="showIgstInvoice">
                        <div class="address-container" fxLayout="row">
                          <div class="shipper-secction" fxFlex="45">
                            <h4 class="gray-title">BILL TO PARTY</h4>
                            <div
                              class="shipper-secction mt_16"
                              *ngIf="isMerchantExporter"
                            >
                              <div class="address-inner-content">
                                <p
                                  class="invoice-contact"
                                  [innerHTML]="igstBuyer"
                                ></p>
                              </div>
                            </div>
                            <div
                              class="address-inner-content"
                              *ngIf="!isMerchantExporter"
                            >
                              <b class="bill-address">{{
                                invoice.billingAddr.company_name
                              }}</b>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_address1 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_address2 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr?.bill_address3 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr?.bill_address4 }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_city }}
                              </p>
                              <p
                                class="bill-address"
                                *ngIf="
                                  invoice.billingAddr.bill_state ||
                                  invoice.billingAddr.bill_postal_code
                                "
                              >
                                {{ invoice.billingAddr.bill_state }} -
                                {{ invoice.billingAddr.bill_postal_code }}
                              </p>
                              <p class="bill-address">
                                {{ invoice.billingAddr.bill_countrty }}
                              </p>
                            </div>
                            <div
                              class="notify-address"
                              *ngIf="showNotifyAddress && !is_aapl"
                            >
                              <div class="shipper-secction">
                                <h4 class="gray-title">NOTIFY TO PARTY</h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{
                                    invoice.notifyingAddr.company_name
                                  }}</b>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_address1 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_address2 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr?.notify_address3 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr?.notify_address4 }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_city }}
                                  </p>
                                  <p
                                    class="bill-address"
                                    *ngIf="
                                      invoice.notifyingAddr.notify_state ||
                                      invoice.notifyingAddr.notify_postal_code
                                    "
                                  >
                                    {{ invoice.notifyingAddr.notify_state }} -
                                    {{
                                      invoice.notifyingAddr.notify_postal_code
                                    }}
                                  </p>
                                  <p class="bill-address">
                                    {{ invoice.notifyingAddr.notify_country }}
                                  </p>
                                </div>
                              </div>
                            </div>
                            <div
                              class="shipper-secction"
                              *ngIf="is_aapl"
                              style="padding-top: 10px"
                            >
                              <h4 class="gray-title">NOTIFY TO PARTY1</h4>
                              <div class="shipper-secction">
                                <div class="address-inner-content">
                                  <!--appl changes-->
                                  <p
                                    class="invoice-contact"
                                    [innerHTML]="taxcustoms_notify_address1"
                                  ></p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="vertical-divider"></div>
                          <div fxFlex="45">
                            <div class="shipper-secction">
                              <h4 class="gray-title">SHIP TO PARTY</h4>
                              <div
                                class="shipper-secction mt_16"
                                *ngIf="isMerchantExporter"
                              >
                                <div class="address-inner-content">
                                  <!--appl changes-->
                                  <p
                                    class="invoice-contact"
                                    [innerHTML]="igstShipper"
                                  ></p>
                                </div>
                              </div>
                              <div
                                class="address-inner-content"
                                *ngIf="!isMerchantExporter"
                              >
                                <b class="bill-address">{{
                                  invoice.shippingAddr.company_name
                                }}</b>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_address1 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_address2 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr?.ship_address3 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr?.ship_address4 }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_city }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_state }} -
                                  {{ invoice.shippingAddr.ship_postal_code }}
                                </p>
                                <p class="bill-address">
                                  {{ invoice.shippingAddr.ship_countrty }}
                                </p>
                              </div>
                            </div>
                            <div
                              class="shipper-secction mt_16"
                              *ngIf="!isMerchantExporter"
                            >
                              <div class="address-inner-content">
                                <p class="invoice-contact">
                                  <span
                                    >Phone: {{ invoice.taxInvoice.phone }}</span
                                  >
                                  <span style="margin-left: 4px"
                                    >Ext: {{ invoice.taxInvoice.ext }}</span
                                  >
                                </p>
                                <p class="invoice-contact">
                                  Attention: {{ invoice.taxInvoice.kindName }}
                                </p>
                                <p class="invoice-contact">
                                  Email: {{ invoice.taxInvoice.email }}
                                </p>
                              </div>
                            </div>
                            <div
                              class="shipper-secction"
                              *ngIf="is_aapl"
                              style="padding-top: 8px"
                            >
                              <h4 class="gray-title">NOTIFY TO PARTY2</h4>
                              <div class="shipper-secction">
                                <div class="address-inner-content">
                                  <!--appl changes-->
                                  <p
                                    class="invoice-contact"
                                    [innerHTML]="taxcustoms_notify_address2"
                                  ></p>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div fxLayout="row">
                          <div class="orders-table">
                            <table class="invoice-table">
                              <thead>
                                <th class="invoice-head w-50">Sl No.</th>
                                <th class="invoice-head w-150">Product</th>
                                <th class="invoice-head w-200">Description</th>
                                <th class="invoice-head w-150">Quantity</th>
                                <th class="invoice-head w-50">UOM</th>
                                <th class="invoice-head w-150">
                                  Rate per UOM<br />(INR)
                                </th>
                                <th class="invoice-head w-150">
                                  Taxable Value<br />(INR)
                                </th>
                                <th
                                  class="invoice-head w-150"
                                  *ngIf="isMerchantExporter"
                                >
                                  Tax<br />(%)
                                </th>
                                <!--addding for aapl-->
                                <th
                                  class="invoice-head w-150"
                                  *ngIf="isMerchantExporter"
                                >
                                  Tax<br />(INR)
                                  <mat-icon
                                    class="i-icon-p"
                                    style="font-size: 12px; width: 0; height: 0"
                                    title="{{
                                      invoice.taxInvoice.conversion_value
                                    }}"
                                    >info</mat-icon
                                  >
                                </th>
                                <!--addding for aapl-->
                                <th class="invoice-head w-150">
                                  Amount<br />(INR)
                                </th>
                              </thead>
                              <tbody>
                                <tr
                                  class="invoice-row"
                                  *ngFor="
                                    let product of invoice.productsData;
                                    index as productIndex
                                  "
                                >
                                  <td class="invoice-tdata">
                                    {{ productIndex + 1 }}
                                  </td>
                                  <td class="invoice-tdata">
                                    {{ product.product_name }}
                                  </td>
                                  <td class="invoice-tdata">
                                    <div
                                      class="ellipsis"
                                      [title]="
                                        product.p_description
                                          ? product.p_description
                                          : '--'
                                      "
                                    >
                                      {{ product.p_description }}
                                    </div>
                                  </td>
                                  <td class="invoice-tdata">
                                    {{ product.quantity }}
                                  </td>
                                  <td class="invoice-tdata">
                                    {{ product.uom_name }}
                                  </td>
                                  <td
                                    class="invoice-tdata"
                                    style="text-align: right"
                                  >
                                    {{ product.product_price }}
                                  </td>
                                  <td class="invoice-tdata">
                                    {{ product.taxble_value }}
                                  </td>
                                  <td
                                    style="text-align: right"
                                    class="invoice-tdata"
                                    *ngIf="isMerchantExporter"
                                  >
                                    {{ product.tax }}
                                  </td>
                                  <!--addding for aapl-->
                                  <td
                                    class="invoice-tdata"
                                    *ngIf="isMerchantExporter"
                                  >
                                    {{ product.tax_value }}
                                  </td>
                                  <!--addding for aapl-->
                                  <td class="invoice-tdata">
                                    {{ product.amount }}
                                  </td>
                                </tr>
                                <tr
                                  style="
                                    border-bottom: 1px solid #d3d3d3;
                                    border-top: 1px solid #d3d3d3;
                                    background-color: white;
                                  "
                                >
                                  <td colspan="5"></td>
                                  <td class="customPadding">Sub Total</td>
                                  <td class="customPadding">
                                    {{ invoice.taxInvoice.taxable_total }}
                                  </td>
                                  <td class="customPadding" colspan="2">
                                    {{ invoice.taxInvoice.tax_value_total }}
                                  </td>
                                  <td
                                    class="customPadding"
                                    style="text-align: right"
                                  >
                                    {{ invoice.taxInvoice.sub_total }}
                                  </td>
                                </tr>
                                <tr class="invoice-row">
                                  <td
                                    class="invoice-tdata gst-data"
                                    colspan="6"
                                    style="padding: 0"
                                  >
                                    <table
                                      class="invoice-row-table"
                                      width="100%"
                                    >
                                      <tbody>
                                        <!--hidng and replace convertion value -->
                                        <!-- <tr *ngIf="is_automech">
                                          <td>
                                            <div class="gst-details">
                                              <span class="gst-one">GSTN
                                                TYPE: {{compnayDetails?.gstin_type}}</span>
                                              <span class="gst-two">END
                                                USE: {{compnayDetails?.end_use}}</span>
                                            </div>
                                          </td>
                                        </tr> -->
                                        <tr>
                                          <td>
                                            <div class="gst-details">
                                              <span
                                                class="gst-one"
                                                style="
                                                  padding-bottom: 0px;
                                                  font-weight: 400;
                                                "
                                                >{{
                                                  invoice.taxInvoice.currency
                                                }}
                                                to INR Conversion
                                                <span style="color: #ff0000"
                                                  >*</span
                                                >
                                              </span>
                                              <div class="tax-conversion-input">
                                                <mat-form-field
                                                  class="custom-input"
                                                  floatLabel="never"
                                                  style="
                                                    margin-top: 0px;
                                                    width: 20%;
                                                  "
                                                >
                                                  <input
                                                    matInput
                                                    placeholder="Value"
                                                    [readonly]="
                                                      !conversion_edit
                                                    "
                                                    type="number"
                                                    [(ngModel)]="
                                                      currency_conversion
                                                    "
                                                    (keyup)="
                                                      changeConversion($event)
                                                    "
                                                    min="0"
                                                    max="9999"
                                                    step="0.01"
                                                    pattern="^\d{1,4}(\.\d{1,2})?$"
                                                    [class.mat-focused]="
                                                      conversion_edit
                                                    "
                                                    oninput="javascript: if (!/^(\d{1,4}(\.\d{0,3})?)?$/.test(this.value)) this.value = this.value.slice(0, -1);"
                                                  />
                                                </mat-form-field>
                                                <div
                                                  style="padding-bottom: 20px"
                                                >
                                                  <mat-icon
                                                    *ngIf="!conversion_edit"
                                                    style="
                                                      padding-top: 2px;
                                                      font-size: 20px;
                                                      cursor: pointer;
                                                    "
                                                    class="edit-icon-estimate"
                                                    (click)="startEditing()"
                                                    >edit</mat-icon
                                                  >
                                                  <!-- <button type="submit" *ngIf="conversion_edit" (click)="saveTaxConversion()" mat-raised-button>Save</button> -->
                                                  <div
                                                    style="
                                                      display: flex;
                                                      gap: 4px;
                                                      margin-left: 4px;
                                                    "
                                                  >
                                                    <mat-icon
                                                      *ngIf="conversion_edit"
                                                      (click)="
                                                        saveTaxConversion()
                                                      "
                                                      class="mat-circle-check"
                                                      style
                                                      >check_circle_outline</mat-icon
                                                    >
                                                    <mat-icon
                                                      *ngIf="conversion_edit"
                                                      class="close-conversion"
                                                      (click)="
                                                        closeConverionRate()
                                                      "
                                                      style="padding-left: 2px"
                                                      >highlight_off</mat-icon
                                                    >
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </td>
                                        </tr>
                                        <tr>
                                          <td>
                                            <div
                                              class="gst-details"
                                              *ngFor="
                                                let invoice of orders.invoice
                                              "
                                            >
                                              <span
                                                class="invoice-desc"
                                                [innerHTML]="
                                                  invoice.Inovice.terms_cond_des
                                                "
                                              ></span>
                                              <!-- <span class="invoice-desc">{{invoice.Inovice.terms_cond_des}}</span> -->
                                              <!-- <span class="invoice-desc">
                                              Declaration:1.All disputes in connection with this contract or the
                                              execution thereof shall be settled by negotiation between two parties.
                                              If no settlement can be
                                              reached, the case in dispute shall be then submitted for arbitration
                                              under the laws of Republic of India
                                            </span>
                                            <span class="invoice-desc">2.Incase of all incoterms where the buyer is
                                              responsible for insurance, the buyer's insurance must cover atleast
                                              110% aforementioned, the seller' s
                                              approval must be obtained at first. The seller cannot be held liable
                                              for any loss or damage that occurs during transit ar at
                                              destination...
                                            </span> -->
                                            </div>
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>
                                  <td
                                    class="invoice-tdata table-invoice invoice-tdata-border"
                                    colspan="5"
                                    rowspan="2"
                                  >
                                    <table class="invoice-costTable">
                                      <!-- <thead> -->
                                      <!-- <tr>
                                          <th class="costTable-head font-normal" colspan="2">Sub Total </th> -->
                                      <!-- <th class="costTable-head font-normal" style="border-right: 1px solid #d3d3d3;" colspan="1">
                                            {{invoice.taxInvoice.taxable_total}}
                                          </th>
                                          <th class="costTable-head font-normal" colspan="1">
                                            {{invoice.taxInvoice.tax_value_total}}
                                          </th> -->
                                      <!-- <th class="costTable-head font-normal">
                                            {{invoice.taxInvoice.sub_total}}
                                          </th>
                                        </tr> -->
                                      <!-- </thead> -->
                                      <tbody>
                                        <tr
                                          *ngFor="
                                            let column of invoice.taxInvoice
                                              .invTaxAmounts;
                                            index as colIndex
                                          "
                                        >
                                          <td class="costTable-row" colspan="2">
                                            {{ column.key }}
                                          </td>
                                          <td class="costTable-row">
                                            {{ column.value }}
                                          </td>
                                        </tr>
                                        <tr
                                          *ngFor="
                                            let column of invoice.taxInvoice
                                              .invTaxAmounts;
                                            index as colIndex
                                          "
                                        >
                                          <div *ngIf="!isMerchantExporter">
                                            <td
                                              class="costTable-row"
                                              colspan="2"
                                            >
                                              {{ column.per_unit_price_key }}
                                            </td>
                                            <td class="costTable-row">
                                              {{ column.per_unit_price }}
                                            </td>
                                          </div>
                                        </tr>
                                        <tr
                                          *ngFor="
                                            let column of invoice.taxInvoice
                                              ?.extra_col;
                                            index as colIndex
                                          "
                                          style="
                                            border-bottom: 1px solid #d3d3d3;
                                          "
                                        >
                                          <td
                                            class="costTable-row cost-key"
                                            colspan="2"
                                            (input)="
                                              changeInvoiceExtraKey(
                                                colIndex,
                                                $event
                                              )
                                            "
                                          >
                                            {{ column.key }}
                                          </td>
                                          <td
                                            class="costTable-row"
                                            (keydown)="
                                              changeInvoiceExtraValue(
                                                colIndex,
                                                $event
                                              )
                                            "
                                          >
                                            {{ column.value }}
                                          </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <div class="footer invoice-footer">
                              <span fxFlex></span>
                              <span class="total-text">Total:</span>
                              <span class="total-text"> INR</span>
                              <span>{{ invoice.taxInvoice.total }}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div #coa [class]="coa.print ? 'print' : 'no-print'">
                  <div
                    class="inner-container"
                    [class.collapse]="!showCoa"
                    *ngIf="
                      !isMerchantExporter &&
                      CoaDetails.length &&
                      !showDrumsList &&
                      orders.packageOrders.invStatus == '2' &&
                      !(orders.selectedOrder.orders_types_id == '5') &&
                      orders.selectedOrder.orders_types_id > 2 &&
                      orders.packageStatus == 2
                    "
                  >
                    <mat-toolbar class="package-toolbar coa-toolbar">
                      <img class="shipping-image" [src]="images.coa_small" />
                      <span>Certificate of Analysis (COA)</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateCoaPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateCoaPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleCoa()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showCoa"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showCoa"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showCoa">
                      <div
                        class="reports order-coa"
                        *ngFor="let coa of CoaDetails; index as coaIndex"
                      >
                        <table class="test-details">
                          <thead>
                            <tr>
                              <th colspan="2">certificate of analysis (COA)</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="test-product">
                                <p>
                                  <span>
                                    <b>Product Name: </b>
                                  </span>
                                  <span>{{ coa.batchDt.product_name }}</span>
                                </p>
                                <p>
                                  <span>
                                    <b>Issued To: </b>
                                  </span>
                                  <span>{{ coaCompanyName }}</span>
                                </p>
                              </td>
                              <td>
                                <p>
                                  <b>Stability: </b>
                                  <span>{{ coa.batchReportDt.stability }}</span>
                                </p>
                                <p>
                                  <b>Country of Origin: </b>
                                  <span>{{
                                    coa.batchReportDt.country_of_origin
                                  }}</span>
                                </p>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <p>
                                  Batch No:
                                  <span>{{ coa.batchDt.batch_nbr }}</span>
                                </p>
                                <p>
                                  Mfg. Date:
                                  <span>{{
                                    coa.batchDt.mfd_date | date : "MMM yyyy"
                                  }}</span>
                                </p>
                                <p>
                                  Exp. Date:
                                  <span>{{
                                    coa.batchDt.exp_date | date : "MMM yyyy"
                                  }}</span>
                                </p>
                              </td>
                              <td>
                                <p>
                                  Report No:
                                  <span>{{ coa.batchReportDt.report_no }}</span>
                                </p>
                                <p>
                                  Lab Ref No:
                                  <span>{{
                                    coa.batchReportDt.lab_ref_no
                                  }}</span>
                                </p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <table class="test-report">
                          <thead>
                            <tr>
                              <th>No.</th>
                              <th>Tests</th>
                              <th>Result</th>
                              <th>Limits (specification)</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              *ngFor="
                                let coaBatches of coa.batchCoaDt;
                                index as batchCoaIndex
                              "
                            >
                              <td>{{ coaBatches.level }}</td>
                              <td>
                                <span>{{ coaBatches.name }}</span>
                                <p
                                  class="coa-hide"
                                  *ngIf="
                                    coaBatches.name ==
                                      '(withaferin A) by HPLC' &&
                                    factoryPermission &&
                                    !clientPermission
                                  "
                                  (click)="changeCoaData(coaIndex)"
                                >
                                  Hide
                                </p>
                              </td>
                              <td
                                [innerHtml]="coaBatches.result_label_val"
                                *ngIf="!coaBatches.flag"
                              >
                                {{ coaBatches.result_label_val }}
                              </td>
                              <td
                                [innerHtml]="coaBatches.limits_label_val"
                                *ngIf="!coaBatches.flag"
                              >
                                {{ coaBatches.limits_label_val }}
                              </td>
                              <td
                                [innerHtml]="coaBatches.result_label_val"
                                *ngIf="coaBatches.flag"
                                colspan="2"
                              >
                                {{ coaBatches.result_label_val }}
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="coa-details">
                        <p>BDL-Below detection Levels</p>
                        <p>
                          Sample complies with the above said specifications
                        </p>
                        <p>
                          <span>
                            <b>Storage:</b>
                          </span>
                          <span
                            >Store in original,sealed containers at room
                            temperature of 15 - 30C.Avoid light and keep away
                            from excessive humidity.</span
                          >
                        </p>
                        <!-- *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')" -->
                        <div
                          *ngIf="
                            blockContent &&
                            factoryPermission &&
                            !clientPermission &&
                            orders.selectedOrder.status != 'In-transit' &&
                            orders.selectedOrder.status != 'Cancelled' &&
                            orders.selectedOrder.status != 'Delivered'
                          "
                        >
                          <span class="add-Line" (click)="editformCoa()">
                            <mat-icon>add</mat-icon>
                            {{
                              saveAddLineItem
                                ? "Edit Line Item"
                                : "Add Line Item"
                            }}
                          </span>
                        </div>
                        <div class="line-item">
                          <p *ngIf="!editable">
                            {{ orders.selectedOrder.line_item }}
                          </p>
                          <mat-form-field
                            class="custom-input"
                            floatLabel="never"
                            *ngIf="editable"
                          >
                            <input
                              matInput
                              min="0"
                              max="99999999999999"
                              oninput="validity.valid||(value='')"
                              [name]="orders.selectedOrder.line_item"
                              placeholder="Line Item"
                              class="price-value"
                              [(ngModel)]="orders.selectedOrder.line_item"
                              (keyup)="onCoaLineItem($event)"
                            />
                          </mat-form-field>
                        </div>
                        <p *ngIf="conatinsMilk">
                          <b>Contains:Milk</b>
                        </p>
                        <div class="coa-sign">
                          <span>QC Analyst</span>
                          <span fxFlex></span>
                          <span>QC Manager</span>
                        </div>
                        <div
                          class="footer-bottom fxflex save-line-item"
                          *ngIf="coaLineItemEdit"
                          fxLayout="row"
                          fxLayoutAlign="end center"
                        >
                          <span fxFlex></span>
                          <section class="section-right">
                            <button
                              type="button"
                              (click)="cancelCoaLineItem()"
                              mat-button
                            >
                              Cancel
                            </button>
                            <button
                              type="submit"
                              (click)="addCoaLineItem()"
                              mat-raised-button
                            >
                              Save
                            </button>
                          </section>
                          <div class="cb"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Shipping Details -->
                <div
                  #shipping
                  [class]="shipping.print ? 'print' : 'no-print'"
                  *ngIf="factoryPermission && !totalSpinner"
                >
                  <app-order-shipping-details
                    [factoryPermission]="factoryPermission"
                    [order]="orders"
                    [is_automech]="is_automech"
                    (trigger)="getFormEvent($event)"
                    [isSampleDocs]="isSampleDocs"
                    [saveFreightFlag]="saveFreightFlag"
                    [customDocs]="customDocs"
                    [selectedOrderStatus]="selectedOrderStatus"
                    [dependentForm]="freightForm"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></app-order-shipping-details>
                </div>
                <!--generate customs clearance documents-->
                <div
                  class="inner-container invoice-container"
                  *ngIf="
                    orders.selectedOrder.orders_types_id == '13' &&
                    orders.selectedOrder.orders_types_id != 5
                  "
                >
                  <div class="invoice empty-ui">
                    <div class="invoice-icon empty-icon">
                      <img
                        class="logo-img"
                        style="background: #fff; border-radius: 3px"
                        [src]="images.invoice_gray"
                        title="Orders"
                      />
                    </div>
                    <p>Commercial Documents</p>
                    <button
                      mat-raised-button
                      (click)="generateCommercialDocs($event)"
                    >
                      Generate Commercial Documents
                    </button>
                  </div>
                </div>
                <!--OTHER COST FORM -->
                <div #othercosts>
                  <app-other-costs-form
                    [order]="orders"
                    [showotherCosts]="showotherCosts"
                    (trigger)="getFormEvent($event)"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></app-other-costs-form>
                </div>
                <!--Export register form -->
                <div #exportregister>
                  <app-export-register-form
                    [order]="orders.selectedOrder"
                    [showexportRegister]="showexportRegister"
                    (trigger)="getFormEvent($event)"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></app-export-register-form>
                </div>
                <!---Adc documents-->
                <div
                  #AdcsheetAdcDocs
                  [class]="AdcsheetAdcDocs.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayAdc && !is_automech"
                >
                  <div
                    id="adc-landscape"
                    class="inner-container adc-sheet"
                    [class.collapse]="!showAdcsheetaapl"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>ADC Sheet</span>
                      <span fxFlex></span>
                      <div *ngIf="viewActivityLogIcon">
                        <button
                          mat-icon-button
                          class="action-orderbtn"
                          (click)="openActivityModal('adc_sheet')"
                        >
                          <img
                            [src]="images.activity_log_icon"
                            title="Activity Log"
                          />
                        </button>
                      </div>
                      <button mat-icon-button>
                        <mat-icon
                          class="edit-icon"
                          title="Edit"
                          mat-icon-button
                          (click)="editAdcsheet()"
                          >mode_edit
                        </mat-icon>
                      </button>

                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateAdcPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateAdcPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleAdcsheetAapl()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showAdcsheetaapl"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showAdcsheetaapl"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showAdcsheetaapl">
                      <div
                        class="adc-form"
                        *ngFor="let invoice of orders.invoice"
                      >
                        <table class="adcc-sheet">
                          <tr>
                            <td colspan="11">ADC SHEET FOR EXPORT</td>
                          </tr>
                          <tr>
                            <td colspan="2" rowspan="5" style="width: 20%">
                              <!-- Port of Loading -->
                              <p>{{ port_of_loadinginpdf }}</p>
                            </td>
                            <td colspan="2" style="width: 20%">ADC Entry No</td>
                            <td colspan="7" style="width: 60%"></td>
                          </tr>
                          <tr>
                            <td colspan="2">Shipping Bill No & Date</td>
                            <td colspan="7" style="text-align: left">
                              <p class="adc-data">
                                {{ shipping_bill_no }}
                                &
                                {{ shipping_bill_date | date : "dd-MM-yyyy" }}
                              </p>
                              <!-- <p class="adc-data">
                                {{ getExportData?.e_entry_date }}
                              </p> -->
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">IEC Number</td>
                            <td colspan="7" style="text-align: left">
                              {{ compnayDetails?.ie_code }}
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">Name & Address of Exporter :</td>
                            <td colspan="7" style="text-align: left">
                              {{ compnayDetails?.name }}
                              <p class="shipper-head-address">
                                {{ compnayDetails?.address1 }},

                                {{ compnayDetails?.address2 }},

                                {{ compnayDetails?.city }},

                                {{ compnayDetails?.state }},

                                {{ compnayDetails?.country }},

                                {{ compnayDetails?.postal_code }}
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">Name & Address of Consignee:</td>
                            <td colspan="7">
                              <p class="shippers-text" style="text-align: left">
                                {{ orders.selectedOrder.client_name }},
                                {{ orders.shippingAddr.ship_address1 }},
                                {{ orders.shippingAddr.ship_address2 }},
                                {{ orders.shippingAddr.ship_address1 }},

                                {{ orders.shippingAddr.ship_state }},
                                {{ orders.shippingAddr.ship_countrty }},
                                {{ orders.shippingAddr.ship_postal_code }}
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td style="width: 5%; text-align: left">S.No.</td>
                            <td style="text-align: left; width: 10%">
                              Invoice No / Date
                            </td>
                            <td style="text-align: left; width: 15%">
                              Name of the Product
                            </td>
                            <td style="width: 8%; text-align: left">
                              Batch No
                            </td>
                            <td style="width: 14%; text-align: left">
                              Mfg. Date
                            </td>
                            <td style="width: 14%; text-align: left">
                              Exp. Date
                            </td>
                            <td style="text-align: left; width: 10%">
                              Total Export Qty in KGS
                            </td>
                            <td style="text-align: left; width: 6%">
                              ADC Sample Qty
                            </td>
                            <td style="text-align: left; width: 5%">
                              DSL/DMI. No.
                            </td>
                            <!-- <td style="text-align: left; width: 7%">
                              FOB Value INR
                            </td> -->
                            <td style="text-align: left; width: 10%">
                              Remarks/ CHA Details.
                            </td>
                          </tr>
                          <tr
                            *ngFor="
                              let product of invoice.ADCproductsData;
                              index as productIndex
                            "
                          >
                            <td style="text-align: left">
                              {{ productIndex + 1 }}
                            </td>
                            <td style="text-align: left">
                              <p
                                class="adc-data"
                                *ngFor="let invoice of orders.invoice"
                              >
                                {{ invoice?.Inovice.inv_nbr }}
                              </p>
                              <p
                                class="adc-data"
                                *ngFor="let invoice of orders.invoice"
                              >
                                {{ invoice?.Inovice.date_added }}
                              </p>
                            </td>
                            <td style="text-align: left">
                              {{ product?.product_name }}
                            </td>
                            <td style="text-align: left">
                              <div>
                                <p class="adc-data" *ngIf="!editMode">
                                  {{ product.batch_nbr || null }}
                                </p>
                                <!-- <input *ngIf="editMode" [(ngModel)]="product.batch_nbr" /> -->
                                <mat-form-field
                                  class="custom-input mat-input-custom-spacing mt-0 ml-1"
                                  style="width: 86px"
                                  floatLabel="never"
                                  *ngIf="editMode"
                                >
                                  <input
                                    type="text"
                                    matInput
                                    maxlength="20"
                                    style="margin-top: 2px"
                                    [name]="adcSheet.batch_no"
                                    (change)="
                                      valueupdate(
                                        'batch_nbr',
                                        productIndex,
                                        $event
                                      )
                                    "
                                    [value]="product.batch_nbr || null"
                                    placeholder="Batch No."
                                    class="price-value"
                                  />
                                </mat-form-field>
                              </div>
                            </td>
                            <td style="text-align: left">
                              <p class="adc-data" *ngIf="!editMode">
                                <!-- {{ getAdcshetValue?.manufacture_date | date : "dd-MM-yyyy"}} -->
                                {{
                                  (product.mfd_date | date : "dd-MM-yyyy") ||
                                    null
                                }}
                              </p>
                              <!-- <input *ngIf="editMode" [(ngModel)]="product.mfd_date" /> -->
                              <div
                                class="custom-date-container pdf-date"
                                *ngIf="editMode"
                              >
                                <input
                                  class="datepicker"
                                  (focus)="openCalendar(picker1)"
                                  readonly="true"
                                  (click)="openCalendar(picker1)"
                                  (dateChange)="
                                    valueupdate(
                                      'mfd_date',
                                      productIndex,
                                      $event
                                    )
                                  "
                                  [value]="product.mfd_date || null"
                                  [matDatepicker]="picker1"
                                  placeholder="Date"
                                />
                                <mat-datepicker-toggle
                                  matSuffix
                                  [for]="picker1"
                                >
                                </mat-datepicker-toggle>
                                <mat-datepicker
                                  #picker1
                                  startView="year"
                                ></mat-datepicker>
                              </div>
                            </td>
                            <td style="text-align: left">
                              <p class="adc-data" *ngIf="!editMode">
                                {{
                                  (product.exp_date | date : "dd-MM-yyyy") ||
                                    null
                                }}
                              </p>
                              <div
                                class="custom-date-container pdf-date"
                                *ngIf="editMode"
                              >
                                <input
                                  class="datepicker"
                                  (focus)="openCalendar(picker1)"
                                  readonly="true"
                                  (click)="openCalendar(picker1)"
                                  (dateChange)="
                                    valueupdate(
                                      'exp_date',
                                      productIndex,
                                      $event
                                    )
                                  "
                                  [value]="product.exp_date || null"
                                  [matDatepicker]="picker1"
                                  placeholder="Date"
                                />
                                <mat-datepicker-toggle
                                  matSuffix
                                  [for]="picker1"
                                >
                                </mat-datepicker-toggle>
                                <mat-datepicker
                                  #picker1
                                  startView="year"
                                ></mat-datepicker>
                              </div>
                            </td>
                            <td style="text-align: left">
                              {{ product.product_quantity }}
                            </td>
                            <td style="text-align: left"></td>
                            <td style="text-align: left"></td>
                            <!--hiding fob value for aapl requirement-->
                            <!-- <td style="text-align: left">
                              <p
                                *ngIf="
                                  orders.selectedOrder.orders_types_id == '4' ||
                                  orders.selectedOrder.orders_types_id == '3'
                                "
                                contenteditable="false"
                                (keyup)="changefob(invoice.Inovice, $event)"
                                class="adc-data"
                              >
                                {{ invoice.fobCalValue }}
                              </p>
                              <p
                                *ngIf="
                                  !(
                                    orders.selectedOrder.orders_types_id ==
                                      '4' ||
                                    orders.selectedOrder.orders_types_id == '3'
                                  )
                                "
                                contenteditable="true"
                                (keyup)="changefob(invoice.Inovice, $event)"
                                class="adc-data editable"
                              >
                                {{ invoice.fobCalValue }}
                              </p>
                            </td> -->
                            <td></td>
                          </tr>
                          <tr>
                            <td
                              colspan="6"
                              style="
                                line-height: 28px;
                                border-right: 0;
                                border-bottom: 0;
                                text-align: left;
                              "
                            >
                              <p>Enclosures:-</p>
                              <p>1. Shipping Bill:</p>
                              <p>2. Invoice:</p>
                              <p>3. Packing List:</p>
                            </td>
                            <td
                              colspan="5"
                              style="
                                line-height: 28px;
                                border-bottom: 0;
                                text-align: left;
                              "
                            >
                              <p>Signature of the Exporter with Date & Stamp</p>
                              <p style="padding-top: 60px">
                                Signature of the CHA With Stamp
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td
                              colspan="7"
                              style="
                                line-height: 28px;
                                border-right: 0;
                                border-bottom: 0;
                                text-align: left;
                              "
                            >
                              <p>4. Certificate of Analysis :</p>
                              <p>5. Sample :</p>
                              <p>6. Drug Licence :</p>
                              <p>
                                7. If any Intermediate Please Submit MSDS With
                                Technical Write up Latter
                              </p>
                              <p>
                                8. If Third party Export: Requires to Submit
                                Purchase Invoice bill with Exporter IEC
                              </p>
                            </td>
                            <td
                              colspan="4"
                              style="
                                line-height: 28px;
                                border-bottom: 0;
                                text-align: left;
                              "
                            >
                              <p>1 Receiving. Time</p>
                              <p>2 Verified. Time</p>
                              <p>3 Released. Time</p>
                              <p>4 Out. Time</p>
                            </td>
                          </tr>
                        </table>
                        <!-- <table class="adc-table" style="padding: 20px;">
                          <tr>
                            <td colspan="2">Port of Loading</td>
                            <td colspan="2">Name & address of Exporter:</td>
                            <td colspan="9"></td>
                          </tr>
                          <tr>
                            <td>ADC Entry No</td>
                            <td>Shipping Bill No & Date</td>
                            <td>Invoice No & Date</td>
                            <td>Name of the Product</td>
                            <td>Batch No</td>
                            <td>Mfg. Date</td>
                            <td>Exp. Date</td>
                            <td>Total Export Qty</td>
                            <td>ADC Sample Qty</td>
                            <td>DSL/DML. No.</td>
                            <td>Name & Address of Consignee</td>
                            <td>FOB value in INR</td>
                            <td>Remarks / CHL Details</td>
                          </tr>
                          <tr *ngFor=" let product of invoice.ADCproductsData; index as productIndex ">
                            <td></td>
                            <td>
                              <p class="adc-data">{{getExportData?.e_shipping_bill_no}}</p>
                              <p class="adc-data">{{getExportData?.e_entry_date}}</p>
                              | date: 'MMM dd, yyyy'
                            </td>
                            <td>
                              <p class="adc-data" *ngFor="let invoice of orders.invoice">
                                {{invoice.Inovice.inv_nbr}}</p>
                              <p class="adc-data" *ngFor="let invoice of orders.invoice">
                                {{invoice.Inovice.date_added}}</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>{{product.product_name}}</td>
                            <td>
                              <p class="adc-data">{{product.batch_nbr}}</p>
                            </td>
                            <td>
                              <p class="adc-data">{{product.mfd_date}}</p>
                            </td>
                            <td>
                              <p class="adc-data"> {{product.exp_date}}</p>
                            </td>
                            <td>
                              <p class="adc-data">{{product.product_quantity}}</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="adc-data">100gms</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="shippers-text shipper-hdng">
                                {{orders.selectedOrder.client_name}}</p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_address1}}</p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_address2}}</p>
                              <p class="shippers-text">{{orders.shippingAddr.ship_state}}
                              </p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_countrty}}.</p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_postal_code}}</p>
                            </td>
                            <td class="fob_val">
                              <p *ngIf="((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3'))"
                                contenteditable="false" (keyup)="changefob(invoice.Inovice,$event)" class="adc-data">
                                {{invoice.fobCalValue}}</p>
                              <p *ngIf="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3'))"
                                contenteditable="true" (keyup)="changefob(invoice.Inovice,$event)"
                                class="adc-data editable">{{invoice.fobCalValue}}</p>
                            </td>
                            <td>

                            </td>

                          </tr>
                        </table> -->
                        <!-- <div>
                          <div class="adc-enclosure shipper_address">
                            <p class="shipper-head-address">Enclosures:-</p>
                            <p class="shipper-head-address">1. Shipping Bill:</p>
                            <p class="shipper-head-address">2. Invoice:</p>
                            <p class="shipper-head-address">3. Packing List:</p>
                            <p class="shipper-head-address">Signature of the Exporter with Date & Stamp</p>
                            <p class="shipper-head-address">4. Certificate of Analysis:</p>
                            <p class="shipper-head-address">5. Sample:</p>
                            <p class="shipper-head-address">6. Drug Licence:</p>
                            <p class="shipper-head-address">7. If any Intermidate Please
                              Submit MSDS with</p>
                            <p class="shipper-head-address">Supporting Letter:</p>
                          </div>
                          <div class="adc-signature authorized-signature">
                            <p class="authorized-head">Signature of the Exporter with Date &
                              Stamp</p>
                            <p class="authorized-head">Signature of the CHA With Stamp</p>
                          </div>
                        </div> -->

                        <div
                          class="footer-bottom fxflex"
                          style="padding: 14px"
                          *ngIf="editMode"
                          fxLayout="row"
                          fxLayoutAlign="end center"
                        >
                          <span fxFlex></span>
                          <section class="section-right">
                            <button
                              type="button"
                              (click)="cancelAdc()"
                              mat-button
                            >
                              Cancel
                            </button>
                            <button
                              type="submit"
                              (click)="saveAdcDocs()"
                              mat-raised-button
                            >
                              Save
                            </button>
                          </section>
                          <div class="cb"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--adc declaration-->
                <div
                  #AdcDecl
                  [class]="AdcDecl.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayAdc && !is_automech"
                >
                  <adc-declaration
                    [orders]="orders"
                    [clientPermission]="clientPermission"
                    [compnayDetails]="compnayDetails"
                    [productDetails]="productDetails"
                    [data]="adcdeclaration"
                    [freightData]="freightData"
                  >
                  </adc-declaration>
                </div>
                <!--adc non-scomet-->
                <div
                  #Nonscometdecl
                  [class]="Nonscometdecl.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayScomet && !is_automech"
                >
                  <non-scomat-declaration
                    (getSiDraft)="getSiDraft()"
                    [orders]="orders"
                    [clientPermission]="clientPermission"
                    [compnayDetails]="compnayDetails"
                    [bankDetails]="bankDetails"
                    [productDetails]="productDetails"
                    [data]="nonScomatData"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></non-scomat-declaration>
                </div>
                <!-- <div
                  #Nonscometdecl
                  [class]="Nonscometdecl.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayNonScomet && !is_automech"
                >
                  <div
                    class="inner-container declaration-section"
                    [class.collapse]="!shownonscomat"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Non Scomet Declaration</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateNonScomet?id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateNonScomet?id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="togglenonscometdecl()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="shownonscomat"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!shownonscomat">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="non-scomet-decl" *ngIf="shownonscomat">
                      <p
                        style="text-align: right"
                        *ngFor="let invoice of orders.invoice"
                      >
                        Date: {{ invoice.Inovice.date_added }}
                      </p>

                      <div class="comet-to">
                        <p>To,</p>
                        <p>The Assistant commissioner of customs - exports</p>
                        <p>Sahar air cargo,</p>
                        <p>Andheri (e),Mumbai</p>
                      </div>
                      <p style="text-decoration: underline">
                        Sub: Scomet Declaration
                      </p>
                      <p class="mt mb" *ngFor="let invoice of orders.invoice">
                        Ref : Invoice no: {{ invoice.Inovice.inv_nbr }} date:
                        {{ invoice.Inovice.date_added }}
                      </p>
                      <p class="mb">
                        Dest: {{ orders.shippingAddr.company_name }},
                        {{ orders.shippingAddr.ship_countrty }}
                      </p>
                      <p class="mt">Dear Sir / Madam,</p>
                      <p class="mt mb">
                        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Refer to the
                        above-mentioned export invoice number, which is to be
                        exported to {{ orders.shippingAddr.ship_countrty }} ,{{
                          orders.shippingAddr.ship_countrty
                        }}
                        . We hereby certify that M/s.
                        {{ compnayDetails?.name }}. having IEC no.:
                        {{ bankDetails?.iec_no ? bankDetails?.iec_no : "" }} and
                        is an exporter of {{ productDetails }} which is used to
                        relieve pain and discomfort caused by strains, sprains,
                        and other muscle injuries.
                      </p>
                      <p class="mb mt">
                        We declare that the said shipment under invoice no.
                      </p>

                      <div>
                        <table>
                          <tbody>
                            <tr>
                              <td>
                                <p style="text-align: center">Invoice no</p>
                              </td>
                              <td>
                                <p style="text-align: center">Country</p>
                              </td>

                              <td>
                                <p style="text-align: center">Mode of export</p>
                              </td>

                              <td style="padding: 8px; width: 30%">
                                <p style="text-align: center">Material</p>
                              </td>
                            </tr>
                            <tr>
                              <td *ngFor="let invoice of orders.invoice">
                                <p style="text-align: center">
                                  {{ invoice.Inovice.inv_nbr }}
                                </p>
                              </td>
                              <td>
                                <p style="text-align: center">
                                  {{ orders.shippingAddr.ship_countrty }}
                                </p>
                              </td>

                              <td>
                                <p style="text-align: center">
                                  {{ orders.selectedOrder.transport_mode }}
                                </p>
                              </td>

                              <td>
                                <p style="text-align: center">
                                  {{ productDetails }}
                                </p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <p class="mt mb">
                          As per para no. Xxxxx of scomet list (appendix-3) our
                          product does not fall under scomet list (materials,
                          processing equipment and related technologies) vide
                          notification no. 37 (re 2012)/2009 -2014 dated
                          14/03/2019 issued under the foreign trade development
                          and regulation act 1992.
                        </p>
                        <p class="mt mb">
                          The above declaration is true and correct.
                        </p>
                        <p class="mb">Thanking You,</p>
                        <p class="mb">For {{ compnayDetails?.name }}.</p>
                        <p style="margin-top: 0px">Authorized Signatory</p>
                      </div>
                    </div>
                  </div>
                </div> -->
                <!--ndps declration-->
                <div
                  #NdpsDeclration
                  [class]="NdpsDeclration.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs && displayAdc && !is_automech && productDetails
                  "
                >
                  <ndps-declaration
                    [data]="ndpsData"
                    [orders]="orders"
                    [compnayDetails]="compnayDetails"
                    [clientPermission]="clientPermission"
                    [productDetails]="productDetails"
                  ></ndps-declaration>
                </div>
                <!--non dgr -->
                <div
                  #nondgr
                  [class]="nondgr.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs &&
                    displayAdc &&
                    displayAdcNonHaz &&
                    !is_automech
                  "
                >
                  <div class="inner-container" [class.collapse]="!showNondgr">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Non DGR</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateHazardousPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateHazardousPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleNonDgr()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showNondgr"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showNondgr">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="non-scomet-decl" *ngIf="showNondgr">
                      <h2
                        class="mb"
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 700;
                          text-decoration: underline;
                        "
                      >
                        SHIPPER’S CERTIFICATION FOR NON-HAZARDOUS CARGO
                      </h2>
                      <table class="shippers-table-one">
                        <tr>
                          <!-- <th>AWB NO:</th> -->
                          <td style="padding: 8px; text-align: left">
                            {{
                              orders.shipping_data.transport_mode == 1
                                ? "Airway Bill Number"
                                : orders.shipping_data.transport_mode == 15 ||
                                  orders.shipping_data.transport_mode == 16
                                ? "Road"
                                : "Bill of Lading Number"
                            }}
                          </td>
                          <td style="padding: 8px; text-align: left">
                            Airport of Departure
                          </td>
                          <td style="padding: 8px; text-align: left">
                            Airport of Destination
                          </td>
                        </tr>
                        <tr>
                          <!-- <td>{{orders.shipping_data.shipping_id}}</td> -->
                          <td style="padding: 8px; text-align: left">
                            {{
                              orders.shipping_data.transport_mode == 1
                                ? orders.shipping_data.shipping_id
                                : orders.shipping_data.bol_id
                            }}
                          </td>
                          <!-- <td *ngIf="orders.shipping_data.transport_mode != 1">{{orders.shipping_data.bol_id}}</td> -->
                          <td style="padding: 8px; text-align: left">
                            {{ freightData.port_of_loading }}
                          </td>
                          <td
                            style="padding: 8px; text-align: left"
                            *ngFor="let invoice of orders.invoice"
                          >
                            {{ invoice.shippingAddr.ship_countrty }}
                          </td>
                        </tr>
                      </table>
                      <div class="certification-text mt">
                        <p>
                          This is certify that the articles/substance of this
                          shipment are properly described by name, that they are
                          not listed in the current edition of IATA Dangerous
                          Goods Regulations (DGR) Alphabetical list Of Dangerous
                          Goods, nor do they correspond to any of the Hazard
                          Classes appearing in the DGR Section 3 classification
                          of Dangerous Goods and that they are known to be not
                          dangerous i.e. not Restricted, furthermore the shipper
                          confirms that the goods are in proper condition for
                          Transportation or passenger carrying aircraft (DGR
                          Para 8.1.23).
                        </p>
                      </div>
                      <table
                        class="shippers-table-two mt"
                        *ngIf="orders?.packageOrders?.packing?.length"
                      >
                        <tr>
                          <td style="padding: 8px; text-align: left">
                            Marks & Numbers Of Packages
                          </td>
                          <td style="padding: 8px; text-align: left">
                            Proper Description of Goods (Trade Names Not
                            Permitted) <br />
                            Specify Each Article Separately each
                          </td>
                          <td style="padding: 0px; text-align: center">
                            <table style="border: none">
                              <tr>
                                <td
                                  style="
                                    border: none;
                                    border-bottom: 1px solid;
                                    height: 38px;
                                  "
                                >
                                  Net Quantity of Packages
                                </td>
                              </tr>
                            </table>

                            <table
                              style="
                                width: 100%;
                                border-collapse: collapse;
                                border-spacing: 0px;
                                border: 0px;
                              "
                              cellspacing="0"
                              cellpadding="0"
                              border="0"
                            >
                              <tr>
                                <td
                                  style="
                                    padding: 6px;
                                    width: 50%;
                                    height: 30px;
                                    border: none;
                                    border-left: 0px;
                                    border-bottom: 0px;
                                    text-align: right;
                                  "
                                >
                                  Net Wt.
                                </td>

                                <td
                                  style="
                                    padding: 6px;
                                    border: none;
                                    height: 30px;
                                    border-left: 1px solid;
                                    text-align: right;
                                    border-right: 0px;
                                    border-bottom: 0px;
                                  "
                                >
                                  Gross Wt.
                                </td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                        <ng-container
                          *ngFor="
                            let package of orders.packageOrders.packing;
                            index as productIndex
                          "
                        >
                          <ng-container
                            *ngFor="
                              let batch of package.batchesData;
                              index as batchIndex
                            "
                          >
                            <ng-container
                              *ngFor="
                                let container of batch.contains;
                                index as containerIndex
                              "
                            >
                              <tr>
                                <td
                                  class="shippers-table-data"
                                  style="padding: 8px; text-align: left"
                                >
                                  <p>
                                    <span
                                      >{{ container.qty }}
                                      {{ container.container_name }}</span
                                    >
                                    <!-- <span>Batch Number: {{ item[0]?.batch_nbr }}</span> -->
                                  </p>
                                </td>
                                <td
                                  class="shippers-table-data"
                                  style="padding: 8px; text-align: left"
                                >
                                  <p>
                                    <span>{{
                                      package.productPackage.product_name
                                    }}</span>
                                  </p>
                                </td>
                                <td
                                  class="shippers-table-data"
                                  style="padding: 0px; text-align: left"
                                >
                                  <table
                                    style="
                                      width: 100%;
                                      border-collapse: collapse;
                                      border-spacing: 0px;
                                      border: none;
                                    "
                                    cellspacing="0"
                                    cellpadding="0"
                                    border="0"
                                  >
                                    <tr>
                                      <td
                                        style="
                                          padding: 6px;
                                          width: 50%;
                                          height: 54px;
                                          border: none;
                                          text-align: right;
                                        "
                                      >
                                        {{ container.net_wgt_total }} kgs
                                      </td>

                                      <td
                                        style="
                                          padding: 6px;
                                          border: none;
                                          height: 54px;
                                          border-left: 1px solid;
                                          text-align: right;
                                        "
                                      >
                                        {{ container.gross_weight_total }} kgs
                                      </td>
                                    </tr>
                                  </table>
                                </td>
                              </tr>
                            </ng-container>
                          </ng-container>
                        </ng-container>
                      </table>
                      <div class="shipper_address mt">
                        <p class="shipper-head">
                          Packed in
                          {{ orders?.packageOrders?.container_string }}
                        </p>
                      </div>
                      <div class="shipper_address mt">
                        <p class="shipper-head">Name and Address of Shipper:</p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.name }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.address1 }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.address2 }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.city }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.state }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.country }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.postal_code }}
                        </p>
                      </div>

                      <div class="authorized-signature">
                        <h4 class="authorized-head">
                          {{ compnayDetails?.name }}
                        </h4>
                        <h4 class="authorized-head">Authorized Signatory</h4>
                      </div>
                      <div class="certification-text">
                        <p>To be completed in duplicate</p>
                        <div class="distribution">
                          <p>Distribution:</p>
                        </div>
                        <div class="distribution">
                          <p>
                            One copy to accompany the AWB One copy to be filed
                            at airport of departure(with AWB copy).
                          </p>
                        </div>
                        <p>Fore 3254 Version 1987.</p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--dgr declration-->
                <div
                  #Dgrdecl
                  [class]="Dgrdecl.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs && displayAdc && displayAdcHaz && !is_automech
                  "
                >
                  <div
                    class="inner-container declaration-section"
                    [class.collapse]="!showDgrDecl"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>DGR </span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateHazardousCertificate?id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateHazardousCertificate?id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleDGR()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showDgrDecl"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showDgrDecl">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="non-scomet-decl" *ngIf="showDgrDecl">
                      <h2
                        style="
                          text-align: center;
                          font-size: 18px;
                          font-weight: 700;
                          text-decoration: underline;
                        "
                      >
                        SHIPPER’S CERTIFICATION FOR HAZARDOUS CARGO
                      </h2>
                      <div class="mt">
                        <table>
                          <tbody>
                            <tr>
                              <td>
                                <p style="text-align: center">
                                  {{ this.dgrDocumnetshipment }} Shipment No.
                                </p>
                              </td>
                              <td>
                                <p style="text-align: center">
                                  Port of Loading
                                </p>
                              </td>

                              <td>
                                <p style="text-align: center">
                                  Port Of Discharge
                                </p>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <p style="text-align: center">
                                  {{
                                    freightData.mode_of_shipment == 1
                                      ? orders.shipping_data.shipping_id
                                      : freightData.mode_of_shipment == 15 ||
                                        freightData.mode_of_shipment == 2 ||
                                        freightData.mode_of_shipment == 16
                                      ? orders.shipping_data.bol_id
                                      : ""
                                  }}
                                </p>
                              </td>
                              <td>
                                <p style="text-align: center">
                                  {{ freightData.port_of_loading }}
                                </p>
                              </td>

                              <td>
                                <p style="text-align: center">
                                  {{ freightData.port_of_discharge }}
                                </p>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <p class="mt mb">
                        This is certify that the articles/substance of this
                        shipment are properly described by name, that they are
                        listed in the current edition of IATA Dangerous Goods
                        Regulations (DGR) Alphabetical list Of Dangerous Goods,
                        they correspond to any of the Hazard Classes appearing
                        in the DGR Section 3 classification of Dangerous Goods
                        and that they are known to be dangerous i.e. Restricted,
                        furthermore the shipper confirms that the goods are in
                        proper condition for Transportation or passenger
                        carrying vessel/aircraft (DGR Para 8.1.23).
                      </p>
                      <div>
                        <div class="mt">
                          <table>
                            <tbody>
                              <tr>
                                <td>
                                  <p style="text-align: center">
                                    Marks And Number of Packages
                                  </p>
                                </td>
                                <td>
                                  <p style="text-align: center">
                                    Proper Description of Goods (Trade Names Not
                                    Permitted) <br />
                                    Specify Each Article Separately
                                  </p>
                                </td>
                                <td>
                                  <p style="text-align: center">
                                    Net Quantity In KGS
                                  </p>
                                </td>
                              </tr>
                              <ng-container
                                *ngFor="
                                  let package of orders.packageOrders.packing;
                                  index as productIndex
                                "
                              >
                                <ng-container
                                  *ngFor="
                                    let batch of package.batchesData;
                                    index as batchIndex
                                  "
                                >
                                  <ng-container
                                    *ngFor="
                                      let container of batch.contains;
                                      index as containerIndex
                                    "
                                  >
                                    <tr>
                                      <td
                                        class="shippers-table-data"
                                        style="text-align: center"
                                      >
                                        <p>
                                          <span
                                            >{{ container.qty }}
                                            {{ container.container_name }}</span
                                          >
                                          <!-- <span>Batch Number: {{ item[0]?.batch_nbr }}</span> -->
                                        </p>
                                      </td>
                                      <td
                                        class="shippers-table-data"
                                        style="text-align: center"
                                      >
                                        <p>
                                          <span>{{
                                            package.productPackage.product_name
                                          }}</span>
                                        </p>
                                      </td>
                                      <td
                                        class="shippers-table-data"
                                        style="text-align: center"
                                      >
                                        <p class="batch-qty">
                                          <span
                                            >NT.WT :{{
                                              container.net_wgt_total
                                            }}
                                            Kgs<br />
                                            GR.WT:
                                            {{ container.gross_weight_total }}
                                            Kgs
                                          </span>
                                        </p>
                                      </td>
                                    </tr>
                                  </ng-container>
                                </ng-container>
                              </ng-container>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--msds form-->
                <div
                  #msdsForm
                  [class]="msdsForm.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showMSDS"
                >
                  <div class="inner-container" [class.collapse]="!showMsds">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Original MSDS Form</span>
                      <span fxFlex></span>
                      <!--<a href="">-->
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateMSDSPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateMSDSPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printMsdsForm" (click)="printMsds()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleMsds()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showMsds"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showMsds"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div
                      *ngIf="showMsds"
                      class="table-container msds-container"
                    >
                      <div class="section-1">
                        <h3 class="msds-header">
                          Section 1: Chemical Product and Company Identification
                        </h3>
                        <p class="msds-text">
                          Product Name: {{ productDetails }}
                        </p>
                        <p class="msds-text">
                          <b>AS#:</b>
                          <span>No Data available</span>
                        </p>
                        <p class="msds-text">
                          <b>RTECS:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>TSCA:</b>
                          <span
                            >TSCA 8(b) inventory: No products were found.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>CI#:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Synonym: Chemical Name: </b>
                          {{
                            orders.productsData.data.length
                              ? orders.productsData.data[0]?.product_name
                              : ""
                          }}
                        </p>
                        <p class="msds-text"><b>Chemical Formula:</b> N/A</p>
                        <p class="msds-text">
                          <b>Chemical Family:</b> Food Chemicals
                        </p>
                        <p class="msds-text">
                          <b>Contact Information:</b>
                        </p>
                        <p class="msds-text">
                          <b>COMPANY NAME:</b> {{ compnayDetails?.name }}
                        </p>
                        <p class="msds-text">
                          <b>COMPANY ADDRESS:</b>
                          <span>
                            {{
                              compnayDetails?.address1 != ""
                                ? compnayDetails?.address1 + ","
                                : ""
                            }}<br />
                            {{
                              compnayDetails?.address2 != ""
                                ? compnayDetails?.address2 + ","
                                : ""
                            }}
                            <!-- <sup>rd</sup> -->
                          </span>
                        </p>
                        <p class="msds-text">
                          <b>
                            {{
                              compnayDetails?.city != ""
                                ? compnayDetails?.city + ","
                                : ""
                            }}</b
                          >
                          <b>
                            {{
                              compnayDetails?.state != ""
                                ? compnayDetails?.state + ","
                                : ""
                            }}</b
                          >
                        </p>
                        <p class="msds-text">
                          <b>
                            {{
                              compnayDetails?.country != ""
                                ? compnayDetails?.country + ","
                                : ""
                            }}</b
                          >
                          <b> {{ compnayDetails?.postal_code }}</b>
                        </p>
                      </div>
                      <div class="section-2">
                        <h3 class="msds-header">
                          Section 2: Composition and Information on Ingredients
                        </h3>
                        <p class="msds-text">
                          <b>Composition:</b>
                        </p>
                        <p class="msds-text">
                          <span>Name</span>
                          <span>CAS#</span>
                          <span>% by Weight</span>
                        </p>
                        <p class="msds-text">
                          <b>
                            <span>{{
                              orderFormCompanyDetails?.companyName
                            }}</span>
                          </b>
                          <span>No Data</span>
                          <span>100</span>
                        </p>
                        <p class="msds-text">
                          <b
                            >Toxicological Data on Ingredients:
                            {{
                              orders.productsData.data.length
                                ? orders.productsData.data[0]?.product_name
                                : ""
                            }}</b
                          >
                        </p>
                        <p class="msds-text">LD50: N/A. LC50: N/A</p>
                      </div>

                      <div class="section-3">
                        <h3 class="msds-header">
                          Section 3: Hazards Identification
                        </h3>
                        <p class="msds-text">
                          <b>Potential Acute Health Effects:</b>
                          <span
                            >Hazardous in case of eye contact (irritant) or
                            inhalation (lung irritant).</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Potential Chronic Health Effects:</b>
                        </p>
                        <p class="msds-text">CARCINOGENIC EFFECTS: N/A</p>
                        <p class="msds-text">MUTAGENIC EFFECTS: N/A</p>
                        <p class="msds-text">TERATOGENIC EFFECTS: N/A</p>
                        <p class="msds-text">DEVELOPMENTAL TOXICITY: N/A</p>
                        <p class="msds-text">
                          The substance is toxic to gastrointestinal tract.
                        </p>
                        <p class="msds-text">
                          Repeated or prolonged exposure to the substance can
                          produce target organs damage.
                        </p>
                      </div>

                      <div class="section-4">
                        <h3 class="msds-header">
                          Section 4: First Aid Measures
                        </h3>
                        <p class="msds-text">
                          <b>Eye contact:</b>
                          <span
                            >Check for and remove any contact lenses. Do not use
                            an eye ointment. Seek medical attention.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Skin contact: </b>
                          <span
                            >No known effect on skin contact, rinse with water
                            for a few minutes.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Serious Skin contact: </b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Inhalation: </b>
                          <span
                            >Allow the victim to rest in a well ventilated area.
                            Seek immediate medical attention.
                          </span>
                        </p>
                        <p class="msds-text">
                          <b>Serious Inhalation: </b>
                          <span> N/A.</span>
                        </p>
                        <p class="msds-text">
                          <b>Ingestion: </b>
                        </p>
                        <p class="msds-text">
                          Do not induce vomiting. Loosen tight clothing such as
                          a collar, tie, belt or waistband. If the victim is not
                          breathing, perform mouth-to-mouth resuscitation. Seek
                          immediate medical attention.
                        </p>
                        <p class="msds-text">
                          <b>Serious Ingestion: </b>
                          <span> N/A</span>
                        </p>
                      </div>
                      <div class="section-5">
                        <h3 class="msds-header">
                          Section 5: Fire and Explosion Data
                        </h3>
                        <p class="msds-text">
                          <b>Flammability of the Product:</b>
                          <span>Non-flammable.</span>
                        </p>
                        <p class="msds-text">
                          <b>Auto-Ignition Temperature:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Flash Points:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Flammable Limits:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Products of Combustion:</b>
                          <span> N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Fire Hazards in Presence of Various Substances:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b
                            >Explosion Hazards in Presence of Various
                            Substances:</b
                          >
                        </p>
                        <p class="msds-text">
                          Risks of explosion of the product in presence of
                          mechanical impact: N/A
                        </p>
                        <p class="msds-text">
                          Risks of explosion of the product in presence of
                          static discharge: N/A
                        </p>
                        <p class="msds-text">
                          <b>Fire Fighting Media and Instructions:</b>
                        </p>
                        <p class="msds-text">
                          SMALL FIRE: Use DRY chemical powder.
                        </p>
                        <p class="msds-text">
                          LARGE FIRE: Use water spray, fog or foam. Do not use
                          water jet.
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Fire Hazards:</b>
                          <span> N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Explosion Hazards:</b>
                          <span> N/A</span>
                        </p>
                      </div>

                      <div class="section-6">
                        <h3 class="msds-header">
                          Section 6: Accidental Release Measures
                        </h3>
                        <p class="msds-text">
                          <b>Small Spill:</b>
                        </p>
                        <span
                          >Use appropriate tools to put the spilled solid in a
                          convenient waste disposal container. Finish cleaning
                          by spreading water on the contaminated surface and
                          dispose of according to local and regional authority
                          requirements.</span
                        >
                        <p class="msds-text">
                          <b>Large Spill:</b>
                        </p>
                        <span
                          >Finish cleaning by spreading water on the
                          contaminated surface and allow to evacuate through the
                          sanitary system.</span
                        >
                      </div>

                      <div class="section-7">
                        <h3 class="msds-header">
                          Section 7: Handling and Storage
                        </h3>
                        <p class="msds-text">
                          <b>Precautions:</b>
                        </p>
                        <p class="msds-text">
                          Do not breathe gas/fumes/vapour/spray. Avoid contact
                          with eyes Wear suitable protective clothing. In case
                          of insufficient ventilation, wear suitable respiratory
                          equipment. If you feel unwell, seek medical attention
                          and show the label when possible. Keep container
                          tightly closed and in a well-ventilated place.
                        </p>
                        <p class="msds-text">
                          <b>Storage:</b>
                        </p>
                        <span class="msds-text"
                          >No specific storage is required.Use shelves or
                          cabinets sturdy enough to bear the weight of the
                          chemicals. Be sure that it is not necessary to strain
                          to reach materials, and that shelves are not
                          overloaded.</span
                        >
                      </div>

                      <div class="section-8">
                        <h3 class="msds-header">
                          Section 8: Exposure Controls/Personal Protection
                        </h3>
                        <p class="msds-text">
                          <b>Engineering Controls:</b>
                          <span class="msds-text"
                            >No special ventilation requirements</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Personal Protection:</b>
                        </p>
                        <span class="msds-text"
                          >Splash goggles. Lab coat. Vapor respirator. Be sure
                          to use an approved/certified respirator or equivalent.
                          Gloves.</span
                        >
                        <p class="msds-text">
                          <b>Personal Protection in case of a Large Spill:</b>
                        </p>
                        <span class="msds-text"
                          >Splash goggles. Full suit. Vapor respirator. Boots.
                          Gloves. A self contained breathing apparatus should be
                          used to avoid inhalation of the product. Suggested
                          protective clothing might not be sufficient; consult a
                          specialist BEFORE handling this product.</span
                        >
                        <p class="msds-text">
                          <b>Exposure Limits:</b>
                          <span class="msds-text">N/A</span>
                        </p>
                      </div>

                      <div class="section-9">
                        <h3 class="msds-header">
                          Section 9: Physical and Chemical Properties
                        </h3>
                        <p class="msds-text">
                          <b>Physical state and appearance:</b>
                          <span style="font-weight: normal"
                            >Pale yellowish brown hygroscopic powder</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Odor:</b>
                          <span style="font-weight: normal"
                            >Characteristic</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Taste:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Molecular Weight:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Taste:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Color:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Decomposition temperature range:</b>
                          <span style="font-weight: normal">110-120&degC</span>
                        </p>
                        <p class="msds-text">
                          <b>pH(1% soln/water):</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Boiling Point:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Melting Point:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Critical Temperature:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Specific Gravity:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Vapour Pressure:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Vapour Density:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Volatility:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Odor Threshold:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Water/Oil Dist:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Ionicity (in water):</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Dispersion Properties:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Solubility:</b>
                          <span style="font-weight: normal"
                            >Not completely soluble in water.</span
                          >
                        </p>
                      </div>
                      <div class="section-10">
                        <h3 class="msds-header">
                          Section 10: Stability and Reactivity Data
                        </h3>
                        <p class="msds-text">
                          <b>Stability:</b>
                          <span style="font-weight: normal"
                            >The product is stable.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Instability Temperature:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Conditions of Instability:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Incompatability with various substances:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Corrosivity:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Reactivity:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Corrosivity:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Polymerization:</b>
                          <span style="font-weight: normal">No.</span>
                        </p>
                      </div>

                      <div class="section-11">
                        <h3 class="msds-header">
                          Section 11: Toxicological Information
                        </h3>
                        <p class="msds-text">
                          <b>Routes of Entry:</b>
                          <span style="font-weight: normal"
                            >Absorbed through skin. Eye contact.
                            Inhalation.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Toxicity to Animals:</b>
                          <span class="msds-text">LD50:N/A</span>
                          <span class="msds-text">LC50:N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Chronic Effects on Humans:</b>
                          <span style="font-weight: normal">
                            The substance is toxic to gastrointestinal
                            tract.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Other Toxic Effects on Humans:</b>
                          <span style="font-weight: normal"
                            >Hazardous in case of inhalation(lung
                            irritant).</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Toxicity to Animals:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Chronic Effects on Humans:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b
                            >Special Remarks on other Toxic Effects on
                            Humans:</b
                          >
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Section 12: </b>
                          <span>Ecological Information:</span>
                        </p>

                        <p class="msds-text">
                          <b>Ecotoxicity:</b>
                          <span style="font-weight: normal"
                            >NOT APPLICABLE</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>BOD5 and COD:</b>
                          <span style="font-weight: normal"
                            >NOT APPLICABLE</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Products and Biodegradation:</b>
                          <span style="font-weight: normal">
                            Posibly hazardous short term degradation products
                            are not likely. However, long term degradation
                            products may arise.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Toxicity of the Products of Biodegradation:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Products of Biodegradation:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                      </div>

                      <div class="section-12">
                        <h3 class="msds-header">
                          Section 13: Disposal Considerations
                        </h3>
                        <p class="msds-text">
                          <b>Waste Disposal:</b>
                          <span style="font-weight: normal">Land-fill</span>
                        </p>
                      </div>

                      <div class="section-13">
                        <h3 class="msds-header">
                          Section 14: Transport Information
                        </h3>
                        <p class="msds-text">
                          <b>DOT Classification:</b>
                          <span style="font-weight: normal"
                            >Not a Controlled material</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Identification:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Provisions for Transport:</b>
                          <span style="font-weight: normal">N/A</span>
                        </p>
                      </div>

                      <div class="section-14">
                        <h3 class="msds-header">
                          Section 15: Other Regulatory Information
                        </h3>
                        <p class="msds-text">
                          <b>Federal and State Regulations:</b>
                          <span
                            >TSCA 8(b) inventory: No products were found.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Other Regulations:</b>
                          <span>
                            EINECS: This product is on the European Inventory of
                            Existing Commercial Chemical Substances.</span
                          >
                        </p>
                        <p class="msds-text">
                          <b>Other Classsifications:</b>
                        </p>
                        <p class="msds-text">
                          <b>WHIMS(Canada):</b>
                          <span> Not controlled under WHIMS(Canada).</span>
                        </p>
                        <p class="msds-text">
                          <b>DSCL (EEC)</b>
                          <br />
                          <span
                            >R36/37-Irritating to eyes and <br />respiratory
                            system.</span
                          >
                        </p>

                        <p class="msds-text">
                          <b>HMIS(U.S.A):</b>
                        </p>
                        <p class="msds-text">
                          <b>Health Hazard:</b>
                          <span>2</span>
                        </p>
                        <p class="msds-text">
                          <b>Fire Hazard:</b>
                          <span>1</span>
                        </p>
                        <p class="msds-text"><b>Reactivity:</b>0</p>
                        <p class="msds-text">
                          <b>Personal Protection:</b>
                          <span>h</span>
                        </p>
                        <p class="msds-text">
                          <b>National Fire Protection Association(U.S.A):</b>
                        </p>
                        <p class="msds-text">
                          <b>Health:</b>
                          <span>2</span>
                        </p>
                        <p class="msds-text">
                          <b>Flammability:</b>
                          <span>0</span>
                        </p>
                        <p class="msds-text">
                          <b>Reactivity:</b>
                          <span>0</span>
                        </p>
                        <p class="msds-text">
                          <b>Specific hazard:</b>
                        </p>
                        <p class="msds-text">
                          <b>Protective Equipment:</b>
                          <br />
                          <span
                            >Gloves. Lab coat. Vapor respirator. Be sure to use
                            an approved/certified respirator or equivalent.
                            Splash goggles.</span
                          >
                        </p>
                      </div>

                      <div class="section-15">
                        <h3 class="msds-header">
                          Section 16: Other Information
                        </h3>
                        <p class="msds-text">
                          <b>References:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Other Special Considerations:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Created:</b>
                          <span>
                            <b></b>
                          </span>
                        </p>
                        <p class="msds-text italic">
                          The information above is believed to be accurate and
                          represents the best information currently available to
                          us. However,we make no warranty of merchantability or
                          any other warranty, express or implied, with respect
                          to such information, and we assume no liability
                          resulting from its use.Users should make their own
                          investigations to determine the suitability of the
                          information for theirparticular purposes.In no event
                          shall {{ orderFormCompanyDetails?.shipperName }} be
                          liable for any claims,losses, or damages of any third
                          party or for lost profits or any special, indirect,
                          incidental,consequential or exemplary damages,
                          howsoever arising, even if ScienceLab.com has been
                          advised of the possibility of such damages.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- ICTT Declaration -->
                <div
                  #ictt
                  [class]="ictt.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_sso && !is_automech && showICTT"
                >
                  <div class="inner-container" [class.collapse]="!showIctt">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>ICTT - DECLARATION</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateIcttPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateIcttPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleIctt()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showIctt"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showIctt">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showIctt">
                      <div class="section-1">
                        <p class="msds-text">
                          <b>Shipping Bill No.:</b>
                          {{ icttData.shipping_no }}
                        </p>
                        <p class="msds-text">
                          <b>DATE:</b>
                          <span>{{ icttData.date_added }}</span>
                        </p>
                        <p class="msds-text">
                          <b>Commodity:</b>
                          <span>{{ icttData.product_name }}</span>
                        </p>
                        <p class="msds-text">
                          <b>No. of Pkgs.:</b>
                          <span>{{ icttData.quantity }}</span>
                        </p>
                        <p class="msds-text">
                          <b>Net Weight:</b>
                          <span>{{ icttData.net_weight }}</span>
                        </p>
                        <p class="msds-text">
                          <b>Gross Weight:</b>
                          <span>{{ icttData.gross_weight }}</span>
                        </p>
                        <p class="msds-text"><b>C.M.:</b> {{ icttData.cm }}</p>
                        <p class="msds-text">
                          <b>Destination: {{ icttData.destination }}</b>
                        </p>
                        <p class="msds-text">
                          <b>Country: {{ icttData.country }}</b>
                        </p>
                        <p class="msds-text">
                          <b>FOB Value: </b>
                          <span></span>
                        </p>
                        <p class="msds-text">
                          <b>Export Vessel: {{ icttData.vessel_name }}</b>
                        </p>
                        <p class="msds-text">
                          <b>COMPANY ADDRESS:</b>
                          <b>
                            {{
                              icttData?.export_address1 != ""
                                ? icttData?.export_address1 + ","
                                : ""
                            }}<br />
                            {{
                              icttData?.export_address2 != ""
                                ? icttData?.export_address2 + ","
                                : ""
                            }}
                          </b>
                        </p>
                        <p class="msds-text">
                          <b>
                            {{
                              icttData?.export_city != ""
                                ? icttData?.export_city + ","
                                : ""
                            }}</b
                          >
                          <b>
                            {{
                              icttData?.export_state != ""
                                ? icttData?.export_state + ","
                                : ""
                            }}</b
                          >
                        </p>
                        <p class="msds-text">
                          <b>
                            {{
                              icttData?.export_country != ""
                                ? icttData?.export_country + ","
                                : ""
                            }}</b
                          >
                          <b> {{ icttData?.export_postal }}</b>
                        </p>
                        <p class="msds-text">
                          <b>Location of Stuffing: </b>
                          <span>{{ icttData.export_city }}</span>
                        </p>
                      </div>
                      <div [formGroup]="icttForm">
                        <div
                          formArrayName="icttItem"
                          *ngFor="
                            let item of icttForm.get('icttItem').controls;
                            let i = index
                          "
                        >
                          <div [formGroupName]="i">
                            <mat-form-field
                              class="custom-input ictt-items"
                              floatLabel="never"
                            >
                              <input
                                matInput
                                class="custom-input"
                                formControlName="container_no"
                                placeholder="Container No."
                              />
                            </mat-form-field>
                            <mat-form-field
                              class="custom-input ictt-items"
                              floatLabel="never"
                            >
                              <input
                                matInput
                                class="custom-input"
                                formControlName="custom_seal"
                                placeholder="Custom Seal"
                              />
                            </mat-form-field>
                            <mat-form-field
                              class="custom-input ictt-items"
                              floatLabel="never"
                            >
                              <input
                                matInput
                                class="custom-input"
                                formControlName="steamer_steal"
                                placeholder="Steamer Steal"
                              />
                            </mat-form-field>
                            <mat-form-field
                              class="custom-input ictt-items"
                              floatLabel="never"
                            >
                              <input
                                matInput
                                class="custom-input"
                                formControlName="net_wt"
                                placeholder="Net Weight"
                              />
                            </mat-form-field>
                            <mat-form-field
                              class="custom-input ictt-items"
                              floatLabel="never"
                            >
                              <input
                                matInput
                                class="custom-input"
                                formControlName="gross_wt"
                                placeholder="Gross Weight"
                              />
                            </mat-form-field>
                            <mat-form-field
                              class="custom-input ictt-items"
                              floatLabel="never"
                            >
                              <input
                                matInput
                                class="custom-input"
                                formControlName="pkgs_count"
                                placeholder="No. of Pkgs"
                              />
                            </mat-form-field>
                            <mat-icon
                              title="Delete"
                              (click)="deleteRow(i)"
                              style="cursor: pointer"
                              mat-button
                              >delete</mat-icon
                            >
                          </div>
                        </div>
                        <button (click)="addRows()" mat-raised-button>
                          Add
                        </button>
                      </div>
                      <div>
                        <section class="section-right" *ngIf="enableIcttSave">
                          <button
                            type="button"
                            (click)="cancelIctt()"
                            mat-button
                          >
                            Cancel
                          </button>
                          <button
                            type="submit"
                            (click)="saveIcttData()"
                            mat-raised-button
                          >
                            Save
                          </button>
                        </section>
                      </div>
                    </div>
                  </div>
                </div>
                <!--///////////////////////-->
                <!--non hazarduoud certificate-->
                <div
                  #nonHazardous
                  [class]="nonHazardous.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showNonHaz"
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showNonhazardous"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Non Hazardous Certificate</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateHazardousPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateHazardousPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleNonHazardus()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showNonhazardous"
                        />
                        <mat-icon
                          class="toggle-arrow"
                          *ngIf="!showNonhazardous"
                        >
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showNonhazardous">
                      <table class="shippers-table-one">
                        <tr>
                          <!-- <th>AWB NO:</th> -->
                          <th>
                            {{
                              orders.shipping_data.transport_mode == 1
                                ? "Airway Bill Number"
                                : orders.shipping_data.transport_mode == 15
                                ? "Road"
                                : "Bill Of Lading Number"
                            }}
                          </th>
                          <th>
                            {{
                              orders.shipping_data.transport_mode == 1
                                ? "AIRPORT OF DEPT"
                                : "PORT OF DEPT"
                            }}
                          </th>
                          <th>
                            {{
                              orders.shipping_data.transport_mode == 1
                                ? "AIRPORT OF DEST"
                                : "PORT OF DEST"
                            }}
                          </th>
                        </tr>
                        <tr>
                          <!-- <td>{{orders.shipping_data.shipping_id}}</td> -->
                          <td>
                            {{
                              orders.shipping_data.transport_mode == 1
                                ? orders.shipping_data.shipping_id
                                : orders.shipping_data.bol_id
                            }}
                          </td>
                          <!-- <td *ngIf="orders.shipping_data.transport_mode != 1">{{orders.shipping_data.bol_id}}</td> -->
                          <td>Hyderabad</td>
                          <td *ngFor="let invoice of orders.invoice">
                            {{ invoice.shippingAddr.ship_countrty }}
                          </td>
                        </tr>
                      </table>
                      <div class="certification-text">
                        <p>
                          This is to certify that the articles/substances of
                          this shipment are properly described by the name that
                          they are not listed in the current edition of IATA
                          Dangerous goods. Regulation (DGR). Alphabetical List
                          Dangerous Goods. Nor do they correspond to any of the
                          hazard classes appearing in the DGR. Section 3.
                          Classification of Dangerous. i.e. not restricted.
                          Further more the shipper confirms that the goods are
                          in proper condition for transportation on passenger
                          carrying aircraft (DGR.para 8.1.23).
                        </p>
                      </div>
                      <table
                        class="shippers-table-two"
                        *ngIf="orders?.packageOrders?.packing?.length"
                      >
                        <tr>
                          <td><b>Marks & Nos/Batch No.</b></td>
                          <td>
                            <b
                              >Proper Description of Goods(Trade name not
                              permitted)Specify each</b
                            >
                          </td>
                          <td><b>Net quantity per</b></td>
                        </tr>
                        <tr
                          *ngFor="
                            let package of orders.packageOrders.packing;
                            index as productIndex
                          "
                        >
                          <td class="shippers-table-data">
                            <p
                              *ngFor="
                                let batch of package.batchesData;
                                index as batchIndex
                              "
                              style="line-height: 20px; margin: 0"
                            >
                              <span>{{ batch.batch_nbr }}</span>
                            </p>
                          </td>
                          <td class="shippers-table-data">
                            <p
                              *ngFor="
                                let batch of package.batchesData;
                                index as batchIndex
                              "
                              style="line-height: 20px"
                            >
                              <span>{{
                                package.productPackage.product_name
                              }}</span>
                            </p>
                          </td>
                          <td class="shippers-table-data">
                            <p
                              *ngFor="
                                let batch of package.batchesData;
                                index as batchIndex
                              "
                              class="batch-qty"
                              style="line-height: 20px"
                            >
                              <span
                                *ngFor="
                                  let container of batch.contains;
                                  index as containerIndex
                                "
                                >NT.WT :{{ container.net_wgt_total }}
                                {{ batch.uom_name }}<br />
                                GR.WT: {{ container.gross_weight_total }}
                                {{ batch.uom_name }}
                              </span>
                            </p>
                          </td>
                        </tr>
                      </table>
                      <div class="shipper_address">
                        <p class="shipper-head">
                          Packed in
                          {{ orders?.packageOrders?.container_string }}
                        </p>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head">Name and Address of Shipper:</p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.name }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.address1 }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.address2 }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.city }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.state }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.country }}
                        </p>
                        <p class="shipper-head-address">
                          {{ compnayDetails?.postal_code }}
                        </p>
                      </div>

                      <div class="authorized-signature">
                        <h4 class="authorized-head">
                          {{ compnayDetails?.name }}
                        </h4>
                        <h4 class="authorized-head">Authorized Signatory</h4>
                      </div>
                      <div class="certification-text">
                        <p>To be completed in duplicate</p>
                        <div class="distribution">
                          <p>Distribution:</p>
                        </div>
                        <div class="distribution">
                          <p>
                            One copy to accompany the AWB One copy to be filed
                            at airport of departure(with AWB copy).
                          </p>
                        </div>
                        <p>Fore 3254 Version 1987.</p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--/////////-->
                <!--form sdf-->
                <div
                  #Formsdf
                  [class]="Formsdf.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && showSDF"
                >
                  <div class="inner-container" [class.collapse]="!showSdf">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Original Form - SDF</span>
                      <span fxFlex></span>
                      <button
                        mat-icon-button
                        *ngIf="
                          blockContent &&
                          orders.selectedOrder.status != 'In-transit' &&
                          orders.selectedOrder.status != 'Cancelled' &&
                          orders.selectedOrder.status != 'Delivered' &&
                          showEditIcon
                        "
                      >
                        <mat-icon
                          class="edit-icon"
                          title="Edit"
                          mat-icon-button
                          (click)="editformSdf()"
                          >mode_edit
                        </mat-icon>
                      </button>
                      <!--<a href="">-->
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateSdfPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateSdfPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printFormSdf" (click)="printSdf()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleSdf()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showSdf"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showSdf"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div
                      class="table-container"
                      *ngIf="showSdf"
                      [formGroup]="sdfFormDates"
                    >
                      <div class="scomat-address">
                        <p
                          style="
                            margin: 0;
                            margin-bottom: 14px;
                            text-align: center;
                            font-weight: 700;
                            font-size: 16px;
                            text-decoration: underline;
                          "
                        >
                          APPENDIX-1
                        </p>
                        <p
                          style="
                            margin: 0;
                            margin-bottom: 14px;
                            text-align: center;
                            font-weight: 700;
                            font-size: 16px;
                          "
                        >
                          FORM SDF
                        </p>

                        <div class="d-flex align-center justify-between mb-1">
                          <div class="d-flex align-center">
                            <b>Shipping Bill No.:</b>
                            <span
                              *ngIf="!editable"
                              style="display: inline-block; margin-left: 4px"
                            >
                              {{
                                getSdfData?.shipping_bill_no
                                  ? getSdfData?.shipping_bill_no
                                  : shipping_bill_no
                              }}
                            </span>
                            <mat-form-field
                              class="custom-input mat-input-custom-spacing mt-0 ml-1"
                              floatLabel="never"
                              *ngIf="editable"
                            >
                              <input
                                type="text"
                                matInput
                                maxlength="20"
                                oninput="validity.valid||(value='')"
                                [(ngModel)]="getSdfData.shipping_bill_no"
                                [name]="sdfData.shipping_bill_no"
                                placeholder="Shipping Bill No."
                                class="price-value"
                                formControlName="shipping_bill_no"
                              />
                            </mat-form-field>
                          </div>
                          <div class="d-flex align-center">
                            <div
                              class="shipper-head-address export-inline-check"
                            >
                              <b>Date: </b>
                              <span *ngIf="!editable">
                                {{
                                  getSdfData?.entry_date
                                    ? getSdfData?.entry_date
                                    : (shipping_bill_date | date : "dd-MM-yyyy")
                                }}
                              </span>
                              <div
                                class="custom-date-container pdf-date"
                                *ngIf="editable"
                              >
                                <input
                                  class="datepicker"
                                  (focus)="openCalendar(picker1)"
                                  readonly="true"
                                  [(ngModel)]="getSdfData.entry_date"
                                  (click)="openCalendar(picker1)"
                                  formControlName="entry_date"
                                  [matDatepicker]="picker1"
                                  placeholder="Date"
                                  style="margin-left: 6px"
                                />
                                <mat-datepicker-toggle
                                  matSuffix
                                  [for]="picker1"
                                >
                                </mat-datepicker-toggle>
                                <mat-datepicker
                                  #picker1
                                  startView="year"
                                ></mat-datepicker>
                              </div>
                            </div>
                            <!-- <p class="date-error" *ngIf="noShippingDate && !sdfData.entry_date">Please select Entry date.</p> -->
                          </div>
                        </div>
                      </div>
                      <p
                        style="
                          margin: 8px 0;
                          font-weight: 500;
                          text-decoration: underline;
                          text-align: center;
                        "
                      >
                        Declaration under Foreign Exchange Regulation Act, 1999
                      </p>
                      <div class="shipper_address">
                        <p class="shipper-head-address">
                          <b>1.</b>
                          <span class="sdf-rule" style="padding-left: 2px"
                            >I/We hereby declare that I/we am/are the
                            seller/consignor of the goods in respect of which
                            this declaration is made and that the particulars
                            given in the
                            <b
                              >Shipping Bill No. :
                              {{
                                getSdfData?.shipping_bill_no
                                  ? getSdfData?.shipping_bill_no
                                  : shipping_bill_no
                              }}</b
                            >
                            and
                            <b
                              >Date:
                              {{
                                getSdfData?.entry_date
                                  ? getSdfData?.entry_date
                                  : (shipping_bill_date | date : "dd-MM-yyyy")
                              }}</b
                            >
                            are true and that
                          </span>
                        </p>
                        <p
                          class="shipper-head-address"
                          style="padding: 0px 12px"
                        >
                          <b>(a)*</b>
                          <span class="sdf-rule" style="padding-left: 2px"
                            >the value as contracted with the buyer is same as
                            the full export value declared in the above shipping
                            bills.</span
                          >
                        </p>
                        <p
                          class="shipper-head-address"
                          style="padding: 0px 12px"
                        >
                          <b>(b)*</b>
                          <span class="sdf-rule" style="padding-left: 2px"
                            >the full export value of the goods is not
                            ascertainable at the time of export and that the
                            value declared is that which I/we, having regard to
                            the prevailing market conditions, expect to receive
                            on the sale of goods in the overseas market.</span
                          >
                        </p>
                        <p class="shipper-head-address">
                          <b>2.</b>
                          <span class="sdf-rule" style="padding-left: 2px"
                            >I/We undertake that I/we will deliver to the bank
                            named herein ................ the Foreign exchange
                            representing the full export value of the goods on
                            or before ................ in the manner prescribed
                            in Rule 9 of the Foreign Exchange Regulation Rules,
                            1999.</span
                          >
                        </p>
                        <p class="shipper-head-address">
                          <b>3.</b>
                          <span class="sdf-rule" style="padding-left: 2px"
                            >I/We further declare that I/we am/are resident of
                            India and I/We have a place of business in
                            India</span
                          >
                        </p>
                        <p class="shipper-head-address">
                          <b>4.</b>
                          <span class="sdf-rule" style="padding-left: 2px"
                            >I/We *am/are not in Caution List of the Reserve
                            Bank of India.</span
                          >
                        </p>
                        <p class="shipper-head-address" *ngIf="is_automech">
                          <b>CIN. U29299PN1992PTC138015</b>
                        </p>
                      </div>

                      <div
                        style="
                          display: flex;
                          justify-content: space-between;
                          align-items: baseline;
                        "
                      >
                        <div
                          class="scomat-date shipper_address"
                          style="padding: 6px 0px"
                        >
                          <div class="shipper-head-address export-inline-check">
                            <b>Date:</b>
                            <span style="padding-left: 4px">{{
                              currentDate | date : "dd-MM-yyyy"
                            }}</span>
                          </div>

                          <!-- <div class="custom-date-container pdf-date" *ngIf="editable">
                          <input class="datepicker" readonly="true" (focus)="openCalendar(picker2)"
                            (click)="openCalendar(picker2)" formControlName="check_date" [matDatepicker]="picker2"
                            placeholder="Date" style="margin-left: 6px;">
                          <mat-datepicker-toggle matSuffix [for]="picker2">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker2 startView="year"></mat-datepicker>
                        </div> -->
                          <!-- <p class="date-error" *ngIf="noSdfDate && !sdfData.check_date">Please Enter check date.</p> -->
                          <div
                            class="shipper_address"
                            style="display: flex; gap: 4px; margin-top: 10px"
                          >
                            <p class="shipper-head-address">
                              <b>Name of Exporter:</b>
                            </p>
                            <div>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.name }}
                              </p>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.address1 }}
                              </p>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.address2 }}
                              </p>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.city }}
                              </p>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.state }}
                              </p>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.country }}
                              </p>
                              <p class="shipper-head-address">
                                {{ compnayDetails?.postal_code }}
                              </p>
                            </div>
                          </div>
                        </div>

                        <div
                          class="authorized-signature"
                          style="margin-right: 30px"
                        >
                          <!-- <p class="authorized-head declaration-left" style="text-align:center;"> -->
                          <!-- For {{compnayDetails?.name}} -->

                          <!-- </p> -->
                          <p
                            class="authorized-head declaration-left"
                            style="text-align: center; padding-top: 40px"
                          >
                            (Signature of the Exporter)
                          </p>
                        </div>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address">
                          *State appropriate date of delivery which must be date
                          due for payment or within six months from the date of
                          shipment, whichever is earlier, but for exports to
                          warehouses established outside India with permission
                          of the Reserve Bank, the date of delivery must be
                          within fifteen months.
                        </p>
                      </div>
                      <div
                        class="footer-bottom fxflex"
                        *ngIf="editable"
                        fxLayout="row"
                        fxLayoutAlign="end center"
                      >
                        <span fxFlex></span>
                        <section class="section-right">
                          <button
                            type="button"
                            (click)="cancelsdf()"
                            mat-button
                          >
                            Cancel
                          </button>
                          <button
                            type="submit"
                            (click)="addSdfData()"
                            mat-raised-button
                          >
                            Save
                          </button>
                        </section>
                        <div class="cb"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--////////////////////////////-->

                <!--Export value declaration-->
                <div
                  #Exportvalue
                  [class]="Exportvalue.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && showEVD"
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showExportvalue"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Original Export Value Declaration</span>
                      <span fxFlex></span>
                      <div *ngIf="viewActivityLogIcon">
                        <button
                          mat-icon-button
                          class="action-orderbtn"
                          (click)="openActivityModal('order_EVD')"
                        >
                          <img
                            [src]="images.activity_log_icon"
                            title="Activity Log"
                          />
                        </button>
                      </div>
                      <button
                        mat-icon-button
                        *ngIf="
                          blockContent &&
                          orders.companyShpAddrDt.ksm_postal_code != 509301 &&
                          orders.selectedOrder.status != 'In-transit' &&
                          orders.selectedOrder.status != 'Cancelled' &&
                          orders.selectedOrder.status != 'Delivered' &&
                          showEditIcon
                        "
                      >
                        <mat-icon
                          class="edit-icon"
                          title="Edit"
                          mat-icon-button
                          (click)="editExportValue()"
                          >mode_edit
                        </mat-icon>
                      </button>
                      <!--<a href="">-->
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateOrigExportPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateOrigExportPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printExport" (click)="printExportValue()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleExportValue()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showExportvalue"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showExportvalue">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showExportvalue">
                      <!-- <p
                        style="
                          margin: 0;
                          margin-bottom: 14px;
                          text-align: center;
                          font-weight: 700;
                          font-size: 16px;
                          text-decoration: underline;
                        "
                      >
                        New Export Customs Valuation Rules in India
                      </p> -->
                      <p
                        style="
                          margin: 0;
                          margin-bottom: 14px;
                          text-align: center;
                          font-weight: 700;
                          font-size: 16px;
                          text-decoration: underline;
                        "
                      >
                        Annexure-A
                      </p>
                      <p
                        style="
                          margin: 0;
                          margin-bottom: 14px;
                          text-align: center;
                          font-weight: 700;
                          font-size: 16px;
                        "
                      >
                        EXPORT VALUE DECLARATION
                      </p>
                      <div class="shipper_address">
                        <p class="shipper-head-address">
                          (See Rule 7 of Customs Valuation (Determination of
                          Value of Export Goods) Rules, 2007)
                        </p>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address">
                          1. Shipping Bill No. & Date:-
                          {{
                            getSdfData?.shipping_bill_no
                              ? getSdfData?.shipping_bill_no
                              : shipping_bill_no
                          }}
                          &
                          {{
                            getSdfData?.entry_date
                              ? getSdfData?.entry_date
                              : (shipping_bill_date | date : "dd-MM-yyyy")
                          }}
                        </p>
                        <p
                          class="shipper-head-address"
                          *ngFor="let invoice of orders.invoice"
                        >
                          2. Invoice No. & Date:- {{ invoice.Inovice.inv_nbr }},
                          Dt {{ invoice.Inovice.date_added }}
                        </p>
                        <p class="shipper-head-address">
                          3. Nature of Transaction:-
                        </p>
                        <div class="export-checkbox">
                          <span class="shipper-head-address check-space"
                            >Sale
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="
                                onNatureoftransactionChange($event, 'sale')
                              "
                              [disabled]="!editExport"
                              [checked]="isCheckednature('sale')"
                            >
                            </mat-checkbox>
                            <!-- [checked]="true" -->
                          </span>
                          <span class="shipper-head-address check-space">
                            Sale on consignment Basis
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="
                                onNatureoftransactionChange(
                                  $event,
                                  'sale_onconsignment'
                                )
                              "
                              [checked]="isCheckednature('sale_onconsignment')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">
                            Gift
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="
                                onNatureoftransactionChange($event, 'gift')
                              "
                              [checked]="isCheckednature('gift')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">
                            Sample
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="
                                onNatureoftransactionChange($event, 'sample')
                              "
                              [checked]="isCheckednature('sample')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">
                            Other
                          </span>
                          <span class="shipper-head-address">
                            <!-- checked="true" -->
                            <mat-checkbox
                              class="export-checklist"
                              (change)="
                                onNatureoftransactionChange($event, 'other')
                              "
                              [checked]="isCheckednature('other')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                        </div>
                        <!-- <div class="export-checkbox">
                          <span class="shipper-head-address check-space">Sample </span>
                          <span class="shipper-head-address check-space">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">Other </span>
                          <span class="shipper-head-address"> -->
                        <!-- checked="true" -->
                        <!-- <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                        </div> -->

                        <p class="shipper-head-address">
                          4. Method of Valuation:
                        </p>
                        <div class="export-checkbox">
                          <span class="shipper-head-address"
                            >(See Export Valuation Rules)</span
                          >
                          <span class="shipper-head-address check-space"
                            >Rule3</span
                          >
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="onMethodOf($event, 'rule3')"
                              [checked]="isCheckedmethod('rule3')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">
                            Rule4
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="onMethodOf($event, 'rule4')"
                              [checked]="isCheckedmethod('rule4')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">
                            Rule5
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="onMethodOf($event, 'rule5')"
                              [checked]="isCheckedmethod('rule5')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">
                            Rule6
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist"
                              (change)="onMethodOf($event, 'rule6')"
                              [checked]="isCheckedmethod('rule6')"
                              [disabled]="!editExport"
                            >
                            </mat-checkbox>
                          </span>
                        </div>
                        <p class="shipper-head-address">
                          5. Whether Seller and Buyer are related:-
                        </p>
                        <div class="export-checkbox">
                          <mat-radio-group
                            [(ngModel)]="selectedOptionsBuyer"
                            (ngModelChange)="onSelectionChangeSeller($event)"
                          >
                            <mat-radio-button
                              [style.cursor]="
                                !editExport ? 'not-allowed' : 'pointer'
                              "
                              [disabled]="!editExport"
                              class="shipper-head-address"
                              [value]="'Yes'"
                              >Yes</mat-radio-button
                            >
                            <mat-radio-button
                              style="padding-left: 10px"
                              [style.cursor]="
                                !editExport ? 'not-allowed' : 'pointer'
                              "
                              [disabled]="!editExport"
                              class="shipper-head-address"
                              [value]="'No'"
                              >No</mat-radio-button
                            >
                          </mat-radio-group>
                        </div>
                        <!-- <div class="export-checkbox">
                          <span class="shipper-head-address check-space"
                            >Yes
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist uncheck"
                              (change)="onMethodOf($event, 'sale')"
                              [checked]="isCheckednature('sale')"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space"
                            >No
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist uncheck"
                              (change)="
                                onNatureoftransactionChange($event, 'sale')
                              "
                              [checked]="isCheckednature('sale')"
                            ></mat-checkbox>
                          </span>
                        </div> -->

                        <p class="shipper-head-address">
                          6. If yes, whether relationship has influenced the
                          price:-
                        </p>
                        <div class="export-checkbox">
                          <mat-radio-group
                            [(ngModel)]="selectedOptions"
                            (ngModelChange)="onSelectionChange($event)"
                          >
                            <mat-radio-button
                              [style.cursor]="
                                !editExport ? 'not-allowed' : 'pointer'
                              "
                              class="shipper-head-address"
                              [value]="'Yes'"
                              [disabled]="!editExport"
                              >Yes</mat-radio-button
                            >
                            <mat-radio-button
                              style="padding-left: 10px"
                              [style.cursor]="
                                !editExport ? 'not-allowed' : 'pointer'
                              "
                              class="shipper-head-address"
                              [value]="'No'"
                              [disabled]="!editExport"
                              >No</mat-radio-button
                            >
                          </mat-radio-group>
                        </div>
                        <!-- <div class="export-checkbox">
                          <span class="shipper-head-address check-space"
                            >Yes
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist uncheck"
                              (click)="checkboxDisable($event)"
                            >
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space"
                            >No
                          </span>
                          <span class="shipper-head-address">
                            <mat-checkbox
                              class="export-checklist uncheck"
                              (click)="checkboxDisable($event)"
                            >
                            </mat-checkbox>
                          </span>
                        </div> -->

                        <p class="shipper-head-address">
                          7. Terms of Payment:-
                          {{ orders.selectedOrder?.payment_terms }}
                          <span
                            class="shipper-head-address"
                            *ngFor="let invoice of orders.invoice"
                            >{{ invoice.Inovice.payment_type }}</span
                          >
                        </p>
                        <p class="shipper-head-address">
                          8. Terms of Delivery:-
                          <span
                            class="shipper-head-address"
                            *ngFor="let invoice of orders.invoice"
                            >{{ invoice.Inovice.inco_terms }}</span
                          >
                        </p>
                        <p class="shipper-head-address">
                          9. Previous exports of identical/similar goods,if
                          any:-
                        </p>
                        <p
                          class="shipper-head-address"
                          style="text-indent: 63px"
                        >
                          Shipping Bill No.
                          <span>
                            {{ exportValueDecl?.shipping_no }}
                            <!-- {{
                            getExportData?.e_shipping_bill_no || ""
                          }} -->
                          </span>
                          and Date:
                          {{
                            exportValueDecl?.shipping_date | date : "dd-MM-yyyy"
                          }}
                          <!-- {{
                            getExportData?.e_entry_date | date : "dd-MM-yyyy"
                          }} -->
                          <!-- <span
                                                        *ngIf="orders.companyShpAddrDt.ksm_postal_code != 509301">{{getExportData?.e_entry_date || ''}}</span> -->
                        </p>
                        <div
                          style="
                            display: flex;
                            gap: 16px;
                            align-items: baseline;
                          "
                        >
                          <mat-form-field
                            style="position: relative; top: 12px"
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="editExport"
                          >
                            <input
                              matInput
                              type="text"
                              maxlength="20"
                              oninput="validity.valid||(value='')"
                              placeholder="Shipping Bill No."
                              class="price-value"
                              [(ngModel)]="exportValueDecl.shipping_no"
                            />
                          </mat-form-field>
                          <div
                            class="custom-date-container pdf-date"
                            *ngIf="editExport"
                          >
                            <input
                              class="datepicker"
                              readonly="true"
                              (focus)="openCalendar(picker3)"
                              (click)="openCalendar(picker3)"
                              [(ngModel)]="exportValueDecl.shipping_date"
                              [matDatepicker]="picker3"
                              placeholder="Date"
                            />
                            <mat-datepicker-toggle matSuffix [for]="picker3">
                            </mat-datepicker-toggle>
                            <mat-datepicker
                              #picker3
                              startView="year"
                            ></mat-datepicker>
                          </div>
                        </div>
                        <p class="shipper-head-address">
                          10. Any other relevant information (Attach separate
                          sheet, if necessary):-
                        </p>
                      </div>
                      <div class="shipper_address">
                        <h4 class="export-declaration">DECLARATION</h4>
                        <p class="shipper-head-address">
                          1. I/We hereby declare that the information furnished
                          above is true, complete and correct in every respect
                        </p>
                        <p class="shipper-head-address">
                          2. I/We also undertake to bring to the notice of
                          proper officer any particulars which subsequently come
                          to my/our knowledge which will have bearing on a
                          valuation
                        </p>
                        <p
                          class="shipper-head-address"
                          style="margin: 8px 0px 6px"
                        >
                          <b>Place:</b>
                          <span style="padding-left: 4px">{{
                            compnayDetails?.city
                          }}</span>
                        </p>
                        <p class="shipper-head-address">
                          <b>Date:</b>
                          <span style="padding-left: 4px">{{
                            currentDate | date : "dd-MM-yyyy"
                          }}</span>
                        </p>
                        <p
                          class="shipper-head-address"
                          style="margin-top: 8px"
                          *ngIf="is_automech"
                        >
                          <b>CIN. U29299PN1992PTC138015 </b>
                        </p>
                      </div>
                      <div
                        class="authorized-signature"
                        style="display: flex; justify-content: end"
                      >
                        <div>
                          <p
                            class="authorized-head declaration-left"
                            style="text-align: center"
                          >
                            <!-- For {{compnayDetails?.name}} -->
                            SIGNATURE OF THE EXPORTER
                          </p>
                          <p
                            class="authorized-head declaration-left"
                            style="text-align: center; padding-top: 40px"
                          >
                            NAME OF THE SIGNATORY
                          </p>
                        </div>
                      </div>
                      <div
                        class="footer-bottom fxflex"
                        *ngIf="editExport"
                        fxLayout="row"
                        fxLayoutAlign="end center"
                        style="margin-top: 20px"
                      >
                        <span fxFlex></span>
                        <section class="section-right">
                          <button
                            type="button"
                            (click)="cancelExport()"
                            mat-button
                          >
                            Cancel
                          </button>
                          <button
                            type="submit"
                            (click)="saveExportValueDeclaration()"
                            mat-raised-button
                          >
                            Save
                          </button>
                        </section>
                        <div class="cb"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--///////////////////////////////////-->
                <!--declaration-->
                <div
                  #Declaration
                  [class]="Declaration.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && showDec"
                >
                  <div
                    class="inner-container declaration-section"
                    [class.collapse]="!showDeclaration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Declaration</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateDeclarationPdf?id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateDeclarationPdf?id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printDecl" (click)="printDeclaration()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleDeclaration()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showDeclaration"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showDeclaration">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showDeclaration">
                      <div class="shipper_address declaration-one">
                        <div>
                          <p class="shipper-head-address" style="margin: 0">
                            Date: {{ currentDate | date : "dd-MM-yyyy" }}
                          </p>
                          <p class="shipper-head-address" style="margin: 0">
                            To,
                          </p>
                          <p class="shipper-head-address" style="margin: 0">
                            Dy. Commissioner of Export,
                          </p>
                          <p
                            class="shipper-head-address"
                            style="margin: 0; height: 60px"
                          ></p>
                        </div>
                        <p
                          class="shipper-head-address"
                          style="text-align: center; margin-bottom: 6px"
                        >
                          <b>Declaration of Metal Pallet</b>
                        </p>

                        <p class="shipper-head-address">
                          I/We declare that we have used steel pallets in
                          following Export containers. We have not used wooden
                          pallets in following containers.
                        </p>
                        <p class="shipper-head-address">
                          Container Number: {{ container_nbr }}
                        </p>
                        <p
                          class="shipper-head-address"
                          style="margin-bottom: 10px"
                          *ngFor="let invoice of orders.invoice"
                        >
                          2. Invoice No. & Date:- {{ invoice.Inovice.inv_nbr }},
                          Dt {{ invoice.Inovice.date_added }}
                        </p>
                      </div>

                      <div class="authorized-signature">
                        <p
                          class="authorized-head declaration-left"
                          style="font-weight: normal"
                        >
                          For {{ compnayDetails?.name }}
                        </p>
                        <p
                          class="authorized-head declaration-left"
                          style="padding-top: 40px; font-weight: normal"
                        >
                          Authorized Signatory
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--self sealed document in automech -->
                <div
                  #selfsealcr
                  [class]="selfsealcr.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs && is_automech && showSSC && ordersInvoiceData
                  "
                >
                  <app-self-seal-certificate
                    [compnayDetails]="compnayDetails"
                    [orderId]="orderId"
                    [container_nbr]="container_nbr"
                    [type_size]="type_size"
                    [inlineSelfSealData]="inlineSelfSealData"
                    [invoiceDetails]="ordersInvoiceData"
                    [freightData]="freightData"
                  ></app-self-seal-certificate>
                </div>
                <!--////////////////////////-->
                <!--shippers letter of instruction-->
                <div
                  #Shippersletter
                  [class]="Shippersletter.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showSSL"
                >
                  <div class="inner-container" [class.collapse]="!showShippers">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Shipper's Letter of Instruction</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateShipperPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateShipperPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printShipper" (click)="printShippersLetter()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleShippers()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showShippers"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showShippers"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showShippers">
                      <!--<div class="shipper_address">
                                        <p class="shipper-head-address">We are exporting KSM-66 ASHWAGANDHA to the <b>Throne Research</b></p>
                                    </div>-->
                      <table class="shippers-table">
                        <tr>
                          <!-- <td colspan="6" class="shippers-date">Date: {{orders.selectedOrder.date_added}} </td> -->
                          <td colspan="6" class="shippers-date">
                            Date: {{ getSdfData?.check_date }}
                          </td>
                        </tr>
                        <tr>
                          <td colspan="1" class="shippers-date">
                            <p class="shippers-text">
                              AWB NO: {{ orders.shipping_data.shipping_id }}
                            </p>
                            <p class="shippers-text">
                              FRT.FORWARDER / CO_LOADER / COURIER:
                            </p>
                          </td>
                          <td colspan="2">
                            <p
                              class="shippers-text"
                              *ngFor="let invoice of orders.invoice"
                            >
                              INV.NO. {{ invoice.Inovice.inv_nbr }}
                            </p>
                            <p class="shippers-text">
                              PAN NO.:
                              {{
                                bankDetails?.pan_no ? bankDetails?.pan_no : ""
                              }}
                            </p>
                          </td>
                          <td colspan="3">
                            <p class="shippers-text">
                              IEC NO.*
                              {{
                                bankDetails?.iec_no ? bankDetails?.iec_no : ""
                              }}
                            </p>
                            <p class="shippers-text">
                              AD CODE NO.:
                              {{
                                bankDetails?.add_code_no
                                  ? bankDetails?.add_code_no
                                  : ""
                              }}
                            </p>
                          </td>
                        </tr>
                        <!-- <tr>
                                                <td colspan="1" style="border-right:none;"></td>
                                                <td colspan="5">
                                                    <p class="shippers-text shipper-hdng">CONTRACT TYPE* (tick one) <b>(MANDATORY FIELD)</b></p>
                                                </td>
                                            </tr> -->
                        <tr>
                          <td colspan="1">
                            <p class="shippers-text shipper-hdng">SHIPPER</p>
                            <!-- <p class="shippers-text shipper-hdng">
                              {{orderFormCompanyDetails?.shipperName}}</p>
                            <p class="shippers-text">
                              #{{orderFormCompanyDetails?.shipperAddressPart1}}</p>
                            <p class="shippers-text">
                              {{orderFormCompanyDetails?.shipperAddressPart2}}</p>
                            <p class="shippers-text">
                              {{orderFormCompanyDetails?.shipperAddressPart3}}.</p> -->
                            <!-- <p class="shippers-text">#{{orders.shippingAddr.ship_address1}}</p>
                                                        <p class="shippers-text">{{orders.shippingAddr.ship_address2}}</p>
                                                        <p class="shippers-text">{{orders.shippingAddr.ship_address3}}.</p> -->
                            <!-- <p class="shippers-text">{{orders.companyShpAddrDt.ksm_countrty}} - {{orders.companyShpAddrDt.ksm_postal_code}}</p> -->

                            <p class="shippers-text shipper-hdng">
                              {{ orders.companyShpAddrDt.ksm_address1 }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.companyShpAddrDt.ksm_address2 }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.companyShpAddrDt.ksm_city }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.companyShpAddrDt.ksm_state }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.companyShpAddrDt.ksm_countrty }} -
                              {{ orders.companyShpAddrDt.ksm_postal_code }}
                            </p>
                          </td>
                          <td colspan="5" class="check-data">
                            <table class="shipper-currency">
                              <tbody>
                                <tr>
                                  <td colspan="3">
                                    <p class="shippers-text shipper-hdng">
                                      CONTRACT TYPE* (tick one)
                                      <b>(MANDATORY FIELD)</b>
                                    </p>
                                  </td>
                                </tr>
                                <tr>
                                  <td class="w_25">
                                    <p
                                      class="shippers-text shipper-hdng checkbox-input"
                                    >
                                      <span>
                                        <mat-checkbox
                                          class="export-checklist uncheck"
                                          (click)="checkboxDisable($event)"
                                        >
                                        </mat-checkbox>
                                      </span>
                                      <span class="check-lbl">FOB</span>
                                    </p>
                                  </td>
                                  <td>
                                    <p
                                      class="shippers-text shipper-hdng checkbox-input"
                                    >
                                      <span>
                                        <mat-checkbox
                                          class="export-checklist uncheck"
                                          (click)="checkboxDisable($event)"
                                          checked="true"
                                        ></mat-checkbox>
                                      </span>
                                      <span class="cost-name check-lbl"
                                        >C&F (breakup) COST FREIGHT
                                      </span>
                                    </p>
                                  </td>
                                  <td>
                                    <p
                                      class="shippers-text shipper-hdng checkbox-input"
                                    >
                                      <span>
                                        <mat-checkbox
                                          class="export-checklist uncheck"
                                          (click)="checkboxDisable($event)"
                                        >
                                        </mat-checkbox>
                                      </span>
                                      <span class="cost-name check-lbl"
                                        >CIF (breakup) COST INSURANCE
                                        FREIGHT</span
                                      >
                                    </p>
                                  </td>
                                </tr>
                                <tr>
                                  <td colspan="5">
                                    <p
                                      class="shippers-text shipper-hdng p_t_40 checkbox-input"
                                    >
                                      <span>Currency:</span>
                                      <span>
                                        <mat-checkbox
                                          class="export-checklist"
                                          (click)="editShippersLetter()"
                                        >
                                        </mat-checkbox>
                                      </span>
                                      <span class="check-lbl">USD/OTHER</span>
                                    </p>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                          <!-- <td colspan="2">
                                                    <p class="shippers-text shipper-hdng">
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)" checked="true"></mat-checkbox></span>
                                                        <span>FOB</span>
                                                    </p>
                                                    <p class="shippers-text shipper-hdng">
                                                        <span>Currency</span>
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"></mat-checkbox></span>
                                                        <span>USD/OTHER</span>
                                                    </p>
                                                </td>
                                                <td colspan="2">
                                                    <p class="shippers-text shipper-hdng">
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)" checked="true"></mat-checkbox></span>
                                                        <span>C&F</span>
                                                    </p>
                                                </td>
                                                <td colspan="1">
                                                    <p class="shippers-text shipper-hdng">
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"></mat-checkbox></span>
                                                        <span>CIF</span>
                                                    </p>
                                                </td> -->
                        </tr>
                        <tr>
                          <td colspan="1">
                            <p class="shippers-text shipper-hdng">CONSIGNEE</p>
                            <p class="shippers-text shipper-hdng">
                              {{ orders.shippingAddr.company_name }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr.ship_address1 }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr.ship_address2 }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr?.ship_address3 }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr?.ship_address4 }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr.ship_city }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr.ship_state }}
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr.ship_countrty }}.
                            </p>
                            <p class="shippers-text">
                              {{ orders.shippingAddr.ship_postal_code }}
                            </p>
                          </td>
                          <td colspan="5" style="padding: 0px">
                            <table class="table-export-type">
                              <tr>
                                <td colspan="5">
                                  <p class="shippers-text shipper-hdng">
                                    TYPE OF SHIPPING BILL
                                    <b>(MANDATORY FIELD)</b>
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td colspan="2">
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>DRAWBACK</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>NON-DRAWBACK</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>DEPB</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>DEEC</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>EPCG</span>
                                  </p>
                                </td>
                                <td colspan="3">
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>DFIA</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>NFEI</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>RE-EXPORT</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                      >
                                      </mat-checkbox>
                                    </span>
                                    <span>100% EOU</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox
                                        checked="true"
                                        class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)"
                                        checked="true"
                                      ></mat-checkbox>
                                    </span>
                                    <span>MEIS</span>
                                  </p>
                                </td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text draw-backs">
                              Duty drawback details (mandatory only for drawback
                              shipping bill)
                            </p>
                            <p class="shippers-text draw-backs">
                              drawback bank-
                            </p>
                            <p class="shippers-text draw-backs">
                              drawback pnb ac-
                            </p>
                            <p class="shippers-text draw-backs">
                              drawback sr. no-
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="1" class="shipper-second-table">
                            <table class="shippers-inner-table">
                              <tr>
                                <td>
                                  <p>Destination</p>
                                  <p *ngFor="let invoice of orders.invoice">
                                    {{ invoice.shippingAddr.ship_countrty }}
                                  </p>
                                </td>
                                <td>
                                  <p>No.of packages</p>
                                  <p>{{ orders.packageOrders.count }}</p>
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <p>Net Weight</p>
                                  <p>{{ orders.packageOrders.sum?.net_wt }}</p>
                                </td>
                                <td>
                                  <p>Gross Weight</p>
                                  <p>
                                    {{ orders.packageOrders.sum?.gross_wt }}
                                  </p>
                                </td>
                              </tr>
                            </table>
                          </td>
                          <td colspan="5" class="shipper-third-table">
                            <p class="shippers-text shipper-hdng">
                              BANK DETAILS (MANDATORY FOR ALL TYPE OF SHIPPING
                              BILL EXCEPT NFE)
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng"
                                >BANK NAME AND ADDRESS:</span
                              >
                              <span>{{ bankDetails?.bank_name }}</span>
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng"
                                >AD CODE:</span
                              >
                              <span>{{ bankDetails?.add_code }}</span>
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng"
                                >EEFC Ac No:</span
                              >
                              <span>{{ bankDetails?.eefc_ac_no }}</span>
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng"
                                >CURRENT AC NO.</span
                              >
                              <span>{{ bankDetails?.current_ac_no }}</span>
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">
                              DESCRIPTION OF GOODS
                            </p>
                            <p class="shippers-text">
                              {{ productDetails }}
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">
                              DOCUMENTS ENCLOSED
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <div class="shippers-list w_48">
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >AWB (DULY COMPLETE)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >INVOICE (3 COPIES)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >PACKING LIST (3 COPIES)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl">BUYER ORDER</span>
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl">GSP/COF/FORM A</span>
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >ORIGINAL, DUPLICATE VISA (WITH 2
                                  COPIES)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >EXPORT CERTIFICATES (WITH 2 COPIES)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl">PHOTOCOPY OF IEC</span>
                              </p>
                            </div>
                            <div class="shippers-list w_44">
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >RCMC (REGISTRATION CUM MEMBERSHIP
                                  CERTIFICATE)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >ARE-1
                                  <b>(MANDATORY FOR EOU TYPE SHIPPING BILL)</b>
                                </span>
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >ANY EXPORT PROMOTION COUNCIL REGN. COPY</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >US IMPORTANT CHECKLIST (FOR TEXTILE SHIPMENTS
                                  TO USA)</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >CENVAT FORM
                                  <b
                                    >(MANDATORY FOR DRAWBACK TYPE SHIPPING
                                    BILL)</b
                                  >
                                </span>
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    checked="true"
                                  ></mat-checkbox>
                                </span>
                                <span class="check-lbl">SDF FORM</span>
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >ADVANCE PAYMENT PROOF/FIRC</span
                                >
                              </p>
                              <p
                                class="shippers-text checklist-size checkbox-input"
                              >
                                <span>
                                  <mat-checkbox
                                    class="export-checklist uncheck"
                                    (click)="checkboxDisable($event)"
                                  >
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl"
                                  >GR WAVIER FORM
                                  <b
                                    >(MANDATORY FOR REEXPORT TYPE SHIPPING
                                    BILL)</b
                                  >
                                </span>
                              </p>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text draw-backs">with pan no.</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text draw-backs">
                              any other documents:
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">
                              <span class="shippers-text draw-backs"
                                >gsp required:
                              </span>
                              <span class="shippers-text"
                                >(TO BE PREPARED)</span
                              >
                              <span>
                                <mat-checkbox
                                  class="export-checklist uncheck"
                                  (click)="checkboxDisable($event)"
                                >
                                </mat-checkbox>
                              </span>
                              <span class="check-label-pad">Yes</span>
                              <span>
                                <mat-checkbox
                                  class="export-checklist uncheck"
                                  (click)="checkboxDisable($event)"
                                >
                                </mat-checkbox>
                              </span>
                              <span class="check-label-pad">No</span>
                            </p>
                            <p class="shippers-text shipper-hdng">
                              <span class="shippers-text draw-backs"
                                >gsp registration no.</span
                              >
                              <span>----------</span>
                              <span>(MANDATORY TO PREPARE GSP)</span>
                            </p>
                            <p class="shippers-text">
                              VISIT
                              <a href="http://www.eicindia.org/" target="_blank"
                                >www.eicindia.org</a
                              >
                              TO GET GSP REGISTRATION NO.
                            </p>
                            <p class="shippers-text">
                              * Preparation of GSP / Endorsement etc. are not
                              the part of services provided by FedEx, hence a
                              cheque/DD of
                              <b>INR 350 in favour of "JEENA AND COMPANY"</b>
                              need to be enclosed along with shipment documents.
                              if preparing GSP for the first time than STAMP of
                              the shipper is also required.
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text">
                              ANY OTHER HANDLING INFORMATION
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">
                              MANDATORY REQUIREMENTS FOR BELOW SHIPPING TYPES
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">DRAWBACK</p>
                            <p class="shippers-text">CENVAT FORM</p>
                            <p class="shippers-text">(with comm. divisor)</p>
                            <p class="shippers-text">ANEX 7 (for leather)</p>
                            <p class="shippers-text">NET WT OF ITEMS</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">DEEC/DFIA</p>
                            <p class="shippers-text">ORIGINAL CONSUMER</p>
                            <p class="shippers-text">COPY OF REGISTRATION</p>
                            <p class="shippers-text">IEC Copy</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">DEP</p>
                            <p class="shippers-text">DEPB</p>
                            <p class="shippers-text">IEC Copy</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">EPCG</p>
                            <p class="shippers-text">EPCG LICENCE</p>
                            <p class="shippers-text">COPY OF REG.SHEET</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">RE-EXPORT</p>
                            <p class="shippers-text">Original Bill of Entry</p>
                            <p class="shippers-text">
                              Original Important Invoice
                            </p>
                            <p class="shippers-text">GR Wavier (Bank NOC)</p>
                            <p class="shippers-text">
                              Chartered Engg. Certificate
                            </p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">100% EOU</p>
                            <p class="shippers-text">Anex C1 ARE 1</p>
                            <!-- <p class="shippers-text">ARE 1</p> -->
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <div class="authorized-signature">
                              <p class="authorized-head declaration-left">
                                For {{ compnayDetails?.name }}
                              </p>
                              <p
                                class="authorized-head declaration-left"
                                style="padding-top: 30px"
                              >
                                Authorized Signatory
                              </p>
                            </div>
                          </td>
                        </tr>
                      </table>
                    </div>
                    <div
                      class="footer-bottom fxflex"
                      *ngIf="editable"
                      fxLayout="row"
                      fxLayoutAlign="end center"
                    >
                      <span fxFlex></span>
                      <section class="section-right">
                        <button type="button" (click)="cancelsdf()" mat-button>
                          Cancel
                        </button>
                        <button
                          type="submit"
                          (click)="addSdfData()"
                          mat-raised-button
                        >
                          Save
                        </button>
                      </section>
                      <div class="cb"></div>
                    </div>
                  </div>
                </div>
                <!--////////////////////////-->
                <!--adc sheet-->
                <div
                  #Adcsheet
                  [class]="Adcsheet.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayAdc && !is_automech && showADC"
                >
                  <div
                    id="adc-landscape"
                    class="inner-container adc-sheet"
                    [class.collapse]="!showAdcsheet"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>ADC Sheet</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateAdcPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateAdcPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleAdcsheet()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showAdcsheet"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showAdcsheet"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showAdcsheet">
                      <div
                        class="adc-form"
                        *ngFor="let invoice of orders.invoice"
                      >
                        <table class="adc-table">
                          <tr>
                            <td colspan="2">Port of Loading</td>
                            <td colspan="2">Name & address of Exporter:</td>
                            <td colspan="9"></td>
                          </tr>
                          <tr>
                            <td>ADC Entry No</td>
                            <td>Shipping Bill No & Date</td>
                            <td>Invoice No & Date</td>
                            <td>Name of the Product</td>
                            <td>Batch No</td>
                            <td>Mfg. Date</td>
                            <td>Exp. Date</td>
                            <td>Total Export Qty</td>
                            <td>ADC Sample Qty</td>
                            <td>DSL/DML. No.</td>
                            <td>Name & Address of Consignee</td>
                            <td>FOB value in INR</td>
                            <td>Remarks / CHL Details</td>
                          </tr>
                          <tr
                            *ngFor="
                              let product of invoice.ADCproductsData;
                              index as productIndex
                            "
                          >
                            <td></td>
                            <td>
                              <p class="adc-data">
                                {{ getExportData?.e_shipping_bill_no }}
                              </p>
                              <p class="adc-data">
                                {{ getExportData?.e_entry_date }}
                              </p>
                              <!-- | date: 'MMM dd, yyyy' -->
                            </td>
                            <td>
                              <p
                                class="adc-data"
                                *ngFor="let invoice of orders.invoice"
                              >
                                {{ invoice.Inovice.inv_nbr }}
                              </p>
                              <p
                                class="adc-data"
                                *ngFor="let invoice of orders.invoice"
                              >
                                {{ invoice.Inovice.date_added }}
                              </p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>{{ product.product_name }}</td>
                            <td>
                              <p class="adc-data">{{ product.batch_nbr }}</p>
                            </td>
                            <td>
                              <p class="adc-data">{{ product.mfd_date }}</p>
                            </td>
                            <td>
                              <p class="adc-data">{{ product.exp_date }}</p>
                            </td>
                            <td>
                              <p class="adc-data">
                                {{ product.product_quantity }}
                              </p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="adc-data">100gms</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="shippers-text shipper-hdng">
                                {{ orders.selectedOrder.client_name }}
                              </p>
                              <p class="shippers-text">
                                {{ orders.shippingAddr.ship_address1 }}
                              </p>
                              <p class="shippers-text">
                                {{ orders.shippingAddr.ship_address2 }}
                              </p>
                              <p class="shippers-text">
                                {{ orders.shippingAddr.ship_state }}
                              </p>
                              <p class="shippers-text">
                                {{ orders.shippingAddr.ship_countrty }}.
                              </p>
                              <p class="shippers-text">
                                {{ orders.shippingAddr.ship_postal_code }}
                              </p>
                            </td>
                            <td class="fob_val">
                              <p
                                *ngIf="
                                  orders.selectedOrder.orders_types_id == '4' ||
                                  orders.selectedOrder.orders_types_id == '3'
                                "
                                contenteditable="false"
                                (keyup)="changefob(invoice.Inovice, $event)"
                                class="adc-data"
                              >
                                {{ invoice.fobCalValue }}
                              </p>
                              <p
                                *ngIf="
                                  !(
                                    orders.selectedOrder.orders_types_id ==
                                      '4' ||
                                    orders.selectedOrder.orders_types_id == '3'
                                  )
                                "
                                contenteditable="true"
                                (keyup)="changefob(invoice.Inovice, $event)"
                                class="adc-data editable"
                              >
                                {{ invoice.fobCalValue }}
                              </p>
                            </td>
                            <td></td>
                          </tr>
                        </table>
                        <div>
                          <div class="adc-enclosure shipper_address">
                            <p class="shipper-head-address">Enclosures:-</p>
                            <p class="shipper-head-address">
                              1. Shipping Bill:
                            </p>
                            <p class="shipper-head-address">2. Invoice:</p>
                            <p class="shipper-head-address">3. Packing List:</p>
                            <!-- <p class="shipper-head-address">Signature of the Exporter with Date & Stamp</p> -->
                            <p class="shipper-head-address">
                              4. Certificate of Analysis:
                            </p>
                            <p class="shipper-head-address">5. Sample:</p>
                            <p class="shipper-head-address">6. Drug Licence:</p>
                            <p class="shipper-head-address">
                              7. If any Intermidate Please Submit MSDS with
                            </p>
                            <p class="shipper-head-address">
                              Supporting Letter:
                            </p>
                          </div>
                          <div class="adc-signature authorized-signature">
                            <p class="authorized-head">
                              Signature of the Exporter with Date & Stamp
                            </p>
                            <p class="authorized-head">
                              Signature of the CHA With Stamp
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--///////////////-->
                <!--declaration for incentive-->
                <div
                  #Incentivedeclaration
                  [class]="Incentivedeclaration.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showDFI"
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showDeclarationIncentive"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Declaration for Incentive</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="genDeclarIncen?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="genDeclarIncen?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printInc" (click)="printIncentive()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button
                        mat-icon-button
                        (click)="toggleDeclarationIncentive()"
                      >
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showDeclarationIncentive"
                        />
                        <mat-icon
                          class="toggle-arrow"
                          *ngIf="!showDeclarationIncentive"
                        >
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div
                      class="table-container"
                      *ngIf="showDeclarationIncentive"
                    >
                      <div class="shipper_address declaration-one">
                        <p
                          class="shipper-head-address"
                          style="
                            text-decoration: underline;
                            font-size: 16px;
                            padding: 12px 0px 20px;
                            text-align: center;
                          "
                        >
                          <b>Declaration for Incentive</b>
                        </p>
                        <p class="shipper-head-address">
                          We intend to claim rewards under Merchandise Exports
                          from India scheme.
                        </p>
                      </div>

                      <div
                        class="authorized-signature"
                        style="padding-top: 30px"
                      >
                        <p class="authorized-head">
                          For {{ compnayDetails?.name }}
                        </p>
                        <p class="authorized-head" style="padding-top: 30px">
                          Authorized Signatory
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--//////////////////////////////////-->

                <div
                  #Scomatdeclaration
                  [class]="Scomatdeclaration.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayNonScomet && showSD && orders"
                >
                  <!--changing scomet to non-scomet-->
                  <scomat-declaration
                    (getSiDraft)="getSiDraft()"
                    [orders]="orders"
                    [compnayDetails]="compnayDetails"
                    [clientPermission]="clientPermission"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                    [productDetails]="productDetails"
                    [data]="scomataeditData"
                  ></scomat-declaration>
                </div>

                <!--scomat declaration automech-->
                <div
                  #Nonscometdecl
                  [class]="Nonscometdecl.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && displayScomet && is_automech"
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showScomatDeclaration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Scomet Declaration</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateScomatePdf?id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateScomatePdf?id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>

                      <button
                        mat-icon-button
                        (click)="toggleScomatDeclaration()"
                      >
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showScomatDeclaration"
                        />
                        <mat-icon
                          class="toggle-arrow"
                          *ngIf="!showScomatDeclaration"
                        >
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showScomatDeclaration">
                      <div class="shipper_address declaration-one">
                        <p
                          style="
                            margin: 0;
                            margin-bottom: 14px;
                            text-align: center;
                            font-weight: 700;
                            font-size: 16px;
                            text-decoration: underline;
                          "
                        >
                          Scomet Declaration
                        </p>
                        <div class="scomat-address">
                          <div class="scomat-add shipper_address">
                            <p
                              class="shipper-head-address"
                              style="margin-bottom: 20px"
                            >
                              Date: {{ currentDate | date : "dd-MM-yyyy" }}
                            </p>
                            <p class="shipper-head-address">To,</p>
                            <p class="shipper-head-address">
                              The Supt. of Custom, Export,
                            </p>
                            <p
                              class="shipper-head-address"
                              style="height: 80px"
                            ></p>

                            <p class="shipper-head-address">Sir,</p>
                          </div>

                          <div>
                            <p
                              style="
                                margin: 0;
                                padding: 6px 0px;
                                margin-left: 20px;
                                color: #565656;
                              "
                            >
                              Sub:- Scomet Decleration
                            </p>
                            <p
                              style="
                                margin-left: 20px;
                                color: #565656;
                                margin-bottom: 10px;
                              "
                              *ngFor="let invoice of orders.invoice"
                            >
                              Ref.: Invoice No.
                              {{ invoice.Inovice.inv_nbr }} Dt.
                              {{ invoice.Inovice.date_added }}
                            </p>
                          </div>
                        </div>
                        <div class="scomat-detail">
                          <p>
                            With reference to mentioned export shipment under
                            Export invoice.
                          </p>
                          <p>
                            We wish to state that product mention in the export
                            invoice does not fall under the SCOMET category.
                          </p>
                          <p>
                            We request you to kindly release our consignment.
                          </p>
                        </div>
                      </div>
                      <div class="authorized-signature scomat-signature">
                        <p style="color: #565656; margin: 0">
                          With Kind Regards,
                        </p>
                        <p class="authorized-head">
                          For {{ compnayDetails?.name }}
                        </p>
                        <p class="authorized-head" style="padding-top: 40px">
                          Authorized Signatory
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <!--FEMA Declration showFemaDeclration-->
                <div
                  #FEMADeclration
                  [class]="FEMADeclration.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && showFEMA"
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showFemaDeclration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>FEMA Declaration</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateFemaDeclarationPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateFemaDeclarationPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleFemaDeclration()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showFemaDeclration"
                        />
                        <mat-icon
                          class="toggle-arrow"
                          *ngIf="!showFemaDeclration"
                        >
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div
                      class="Fema-declration table-container"
                      *ngIf="showFemaDeclration"
                    >
                      <!-- <p style="text-align: center;" class="fema-decl">DECLARATION</p> -->
                      <div class="fema-container">
                        <div>
                          <p
                            style="
                              margin: 0;
                              margin-bottom: 14px;
                              text-align: center;
                              font-weight: 700;
                              font-size: 16px;
                              text-decoration: underline;
                            "
                          >
                            Declaration
                          </p>
                          <p style="margin: 0; margin-bottom: 6px">
                            I/We declare that the particulars given herein above
                            are true, correct and complete.
                          </p>
                          <p style="margin: 0; margin-bottom: 6px">
                            I/We enclose herewith copies of the following
                            documents*.
                          </p>
                        </div>
                        <div class="fema-table">
                          <table>
                            <tr style="height: 50px">
                              <td class="pl">Name of Exporter</td>
                              <td class="pl" style="width: 200px">
                                <!-- {{orders.companyShpAddrDt.ksm_address1}} -->
                              </td>
                              <td class="pl">Name of Customs Broker</td>
                              <td class="pl" style="width: 200px"></td>
                            </tr>
                            <tr style="height: 50px">
                              <td class="pl">Designation</td>
                              <td class="pl" style="width: 200px"></td>
                              <td class="pl">Designation</td>
                              <td class="pl"></td>
                            </tr>
                            <tr style="height: 50px">
                              <td class="pl"></td>
                              <td class="pl" style="width: 200px"></td>
                              <td class="pl">Identity card number</td>
                              <td class="pl" style="width: 200px"></td>
                            </tr>
                          </table>
                        </div>
                        <div>
                          <p
                            style="
                              white-space: break-spaces;
                              margin: 0;
                              margin-bottom: 6px;
                            "
                          >
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            I/We undertake to abide by the provisions of foreign
                            Exchange Management Act 1999, as amended from time
                            to time, including realization or repatriation of
                            foreign exchange to or from India.
                          </p>
                          <p style="margin: 0; margin-bottom: 6px">
                            *To be submitted with the exports goods in the
                            warehouse.
                          </p>
                          <p style="margin-bottom: 6px">
                            Date:{{ currentDate | date : "dd-MM-yyyy" }}
                          </p>
                        </div>
                        <div>
                          <p>
                            <b>For {{ compnayDetails?.name }}</b>
                          </p>
                          <p style="padding-top: 40px">
                            <b>Authorized Signatory</b>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--Self Sealed Container showSealedContainer-->
                <div
                  #SealedContainer
                  [class]="SealedContainer.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs &&
                    is_aapl &&
                    showSSCON &&
                    orders &&
                    selfSelaContainer
                  "
                >
                  <self-seal-container
                    (getSiDraft)="getSiDraft()"
                    [data]="selfSelaContainer"
                    [orderId]="orderId"
                    [freightData]="freightData"
                    [orders]="orders"
                    [clientPermission]="clientPermission"
                    [compnayDetails]="compnayDetails"
                  >
                  </self-seal-container>
                </div>
                <!--CHA Letter showChaLetter-->
                <div
                  #ChaLetter
                  [class]="ChaLetter.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs && is_aapl && showCHA && orders && chaLetter
                  "
                >
                  <cha-letter
                    (getSiDraft)="getSiDraft()"
                    [data]="chaLetter"
                    [freightData]="freightData"
                    [orderId]="orderId"
                    [clientPermission]="clientPermission"
                    [orders]="orders"
                    [transport_name]="transport_name"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  >
                  </cha-letter>
                </div>

                <!-- <div
                  #ChaLetter
                  [class]="ChaLetter.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && is_aapl && showCHA"
                >
                  <div
                    class="inner-container"
                    [class.collapse]="!showChaLetter"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>CHA Letter</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generatecha1Pdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generatecha1Pdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleChaLetter()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showChaLetter"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showChaLetter">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showChaLetter">
                      <div
                        class="sealed-container"
                        style="font-size: 14px; color: #565656"
                      >
                        <table style="width: 100%">
                          <tr>
                            <td valign="top">
                              <p style="margin: 0; margin-bottom: 4px">To,</p>
                              <p style="padding-top: 20px; margin: 0"></p>
                            </td>
                            <td
                              valign="top"
                              style="text-align: right; margin-right: 30px"
                            >
                              <b>{{ currentDate | date : "dd-MM-yyyy" }}</b>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">
                              <p
                                style="margin: 6px 0px 12px"
                                *ngFor="let invoice of orders.invoice"
                              >
                                Kind Attention: {{ invoice.Inovice?.kindName }}
                              </p>
                              <p style="margin: 16px 0px">
                                Sub:
                                <span style="text-decoration: underline"
                                  >Export Document
                                  <span
                                    *ngFor="let invoice of orders.invoice"
                                    >{{ invoice.Inovice.inv_nbr }}</span
                                  >– By
                                  <span> {{ transport_name }}</span>
                                </span>
                              </p>
                              <p style="margin-bottom: 4px">Dear Sir,</p>
                            </td>
                          </tr>
                          <tr>
                            <td
                              colspan="2"
                              *ngFor="let invoice of orders.invoice"
                            >
                              <p style="padding: 6px 0px">
                                We are sending here with below exports documents
                                for custom clearing purpose:
                              </p>
                              <div style="padding-left: 24px">
                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">1.</span
                                  >Invoice No.
                                  {{ invoice.Inovice.inv_nbr }} dtd.
                                  {{ invoice.Inovice.date_added }} (5 Original)
                                </p>
                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">2.</span
                                  >Packing List No.
                                  {{ invoice.Inovice.inv_nbr }} dtd.
                                  {{ invoice.Inovice.date_added }} (5 Original)
                                </p>
                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">3.</span>Tax
                                  Invoice No. {{ invoice.Inovice.inv_nbr }} dtd.
                                  {{ invoice.Inovice.date_added }} (5 Original)
                                </p>
                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">4.</span>
                                  Documents are under Duty Drawback scheme.
                                </p>
                                <p
                                  style="padding: 6px 0px; padding-left: 36px"
                                  *ngFor="
                                    let product of orders.productsData.data;
                                    index as productIndex
                                  "
                                >
                                  <b>
                                    {{ product?.product_name }} - HS CODE-
                                    {{ product?.hs_code }}
                                  </b>
                                </p>

                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">5.</span>
                                  Collect original transport documents from
                                  truck driver and courier to us.
                                </p>
                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">6.</span>
                                  Kindly Pick up Empty Container for
                                  <b>
                                    <span
                                      *ngFor="
                                        let item of freightData.containers
                                      "
                                      >{{ item.type_of_container }}, </span
                                    >// (
                                    <span>{{
                                      freightData?.location_stuffing
                                    }}</span
                                    >)</b
                                  >
                                </p>
                                <p style="padding: 6px 0px">
                                  <span style="padding-right: 10px">7.</span>
                                  CFS Invoice should be in our name.
                                </p>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td style="padding-left: 24px">
                              <p style="padding: 6px 0px">
                                <span style="padding-right: 10px">8.</span>
                                Please mention Bank Name AD Code :
                              </p>
                              <table style="width: 100%; padding-left: 32px">
                                <tr>
                                  <td>
                                    <p style="padding-top: 6px">
                                      <b>BANK DETAILS</b>
                                    </p>
                                    <p style="height: 40px"></p>
                                  </td>
                                </tr>
                              </table>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">
                              <p style="padding: 6px 0px 12px">
                                <b>
                                  Please declare commission 12.50% in shipping
                                  bill payable to agent in foreign country.
                                </b>
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">
                              <p style="line-height: 22px">
                                Please declare
                                <b>
                                  “We intend to claim rewards under Remission of
                                  Duties and Taxes on Exported Products Scheme
                                  (RoDTEP)”
                                </b>
                                in shipping Bill.
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">
                              <p style="margin-bottom: 16px">
                                Kindly confirm receipt.
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td colspan="2">
                              <p style="margin: 4px 0px">Thanks & Regards</p>
                              <p>For AAPL Solutions Pvt. Ltd.</p>
                              <p style="padding-top: 40px">
                                Authorised Signatory
                              </p>
                            </td>
                          </tr>
                        </table>
                      </div>
                    </div>
                  </div>
                </div> -->
                <!--RodTep showRodTep-->
                <div
                  #RodTep
                  [class]="RodTep.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && is_aapl && showRODTEP"
                >
                  <div class="inner-container" [class.collapse]="!showRodTep">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>RodTep Declaration</span>
                      <span fxFlex></span>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateannexurePdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateannexurePdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleRodTep()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="showRodTep"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!showRodTep">
                          keyboard_arrow_down</mat-icon
                        >
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showRodTep">
                      <div class="" style="font-size: 14px; color: #565656">
                        <table style="width: 100%">
                          <tr>
                            <td
                              style="
                                text-decoration: underline;
                                text-align: center;
                                font-size: 16px;
                                padding-bottom: 16px;
                              "
                            >
                              <b>Annexure</b>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <p style="padding: 10px 0px 16px">
                                <b
                                  >DECLARATION TO BE FILED AS PART OF SHIPPING
                                  BILL OR BILL OF EXPORT FOR EXPORT OF GOODS
                                  UNDER RoDTEP SCHEME</b
                                >
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <p style="padding: 10px 0px 16px">
                                "I/We, in regard to my/our claim under RoDTEP
                                scheme made in this shipping Bill or Bill of
                                Export, hereby declare that:
                              </p>
                            </td>
                          </tr>
                          <tr>
                            <td>
                              <div
                                style="padding-left: 30px; line-height: 24px"
                              >
                                <p>
                                  1. I/ We undertake to abide by the provisions,
                                  including conditions, restrictions, exclusions
                                  and time-limits as provided under RoDTEP
                                  scheme, and relevant notifications,
                                  regulations, etc., as amended from time to
                                  time.
                                </p>
                                <p>
                                  2. Any claim made in this shipping bill or
                                  bill of export is not with respect to any
                                  duties or taxes or levies which are exempted
                                  or remitted or credited under any other
                                  mechanism outside RoDTEP.
                                </p>

                                <p>
                                  3. I/We undertake to preserve and make
                                  available relevant documents relating to the
                                  exported goods for the purposes of audit in
                                  the manner •and for the time period prescribed
                                  in the Customs Audit Regulations, 2018.”
                                </p>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td
                              style="
                                text-align: right;
                                margin-right: 20px;
                                padding-top: 30px;
                              "
                            >
                              <p>For AAPL Solutions Pvt. Ltd.</p>

                              <p style="padding-top: 40px">
                                Authorised Signatory
                              </p>
                            </td>
                          </tr>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <!--VGM -->
                <div
                  #VGM
                  [class]="VGM.print ? 'print' : 'no-print'"
                  *ngIf="
                    preShipDocs && showVGMD && freightData && ordersInvoiceData
                  "
                >
                  <app-vgm
                    [compnayDetails]="compnayDetails"
                    [max_permissble]="max_permissble"
                    [orderId]="orderId"
                    [inlineVGMData]="inlineVGMData"
                    [container_nbr]="container_nbr"
                    [type_size]="type_size"
                    [invoiceDetails]="ordersInvoiceData"
                    [freightData]="freightData"
                    [packgeVerifiedgross]="
                      is_aapl
                        ? orders.packageOrders?.sum?.verfied_grs
                        : packagingDataAutomech
                    "
                    [viewActivityLogIcon]="viewActivityLogIcon"
                    [changeShipperAdd]="orders.companyShpAddrDt"
                  ></app-vgm>
                </div>
                <!--Shipping Instructions Draft-->
                <div
                  #SIDraft
                  *ngIf="preShipDocs && showSID"
                  [class]="SIDraft.print ? 'print' : 'no-print'"
                >
                  <si-draft
                    *ngIf="getSidraft"
                    [compnayDetails]="compnayDetails"
                    [orderData]="orders"
                    [siData]="getSidraft"
                    [portOfDischarge]="port_of_dischargepdf"
                    [orderId]="orderId"
                    [specialInstructions]="
                      orders.selectedOrder.special_instructions
                    "
                    [selectedOrderStatus]="selectedOrderStatus"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                  ></si-draft>
                </div>
                <!--package-list-->
                <div #PostPackage *ngIf="preShipDocs && is_aapl">
                  <post-package
                    *ngIf="selectedOrderData && PostpackageData"
                    [companyDetails]="compnayDetails"
                    [shippingData]="orders.shipping_data"
                    [freightData]="freightDataPack"
                    [PackageData]="PostpackageData"
                    [container_nbr]="container_nbr"
                    [custom_seal_nbr]="custom_seal_nbr"
                    [carrier_seal_nbr]="carrier_seal_nbr"
                    [PackageList]="selectedOrderData"
                    [inlineData]="packageEdit"
                    [order_id]="orderId"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                    [viewExcelIcon]="viewExcelIcon"
                  ></post-package>
                </div>
                <!--package-list end-->
                <!--//////////////////////-->

                <!--whom ever concern-->
                <div
                  #Concern
                  [class]="Concern.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showTOD"
                >
                  <div class="inner-container" [class.collapse]="!concern">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Turn Over Declaration</span>
                      <span fxFlex></span>
                      <!--<a href="">-->
                      <button
                        mat-icon-button
                        *ngIf="
                          blockContent &&
                          orders.selectedOrder.status != 'In-transit' &&
                          orders.selectedOrder.status != 'Cancelled' &&
                          orders.selectedOrder.status != 'Delivered'
                        "
                      >
                        <mat-icon
                          class="edit-icon"
                          title="Edit"
                          mat-icon-button
                          (click)="editConcern()"
                          >mode_edit
                        </mat-icon>
                      </button>
                      <a
                        *ngIf="!clientPermission"
                        target="_blank"
                        href="generateconcernPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=1"
                      >
                        <button mat-icon-button>
                          <img [src]="images.printer_icon" title="Print" />
                        </button>
                      </a>
                      <a
                        href="generateconcernPdf?orders_id={{
                          orders.selectedOrder.id
                        }}&is_printable=0"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!--</a>-->
                      <!-- <button mat-icon-button *ngIf="!printCon" (click)="printConcern()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleConcern()">
                        <img
                          [src]="images.grey_arrow"
                          mat-icon-button
                          *ngIf="concern"
                        />
                        <mat-icon class="toggle-arrow" *ngIf="!concern"
                          >keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="concern">
                      <div class="shipper_address">
                        <p
                          class="shipper-head-address"
                          style="
                            font-size: 16px;
                            text-decoration: underline;
                            text-align: center;
                            padding: 12px 0px;
                          "
                        >
                          <b>Turn Over Declaration</b>
                        </p>
                        <p
                          class="shipper-head-address"
                          style="text-align: right; padding: 4px 0px 12px"
                        >
                          <b>Date:</b> {{ currentDate | date : "dd-MM-yyyy" }}
                        </p>
                        <p class="shipper-head-address">
                          We are exporting {{ productDetails }} to the
                          <b>{{ orders.selectedOrder.client_name }}</b>
                        </p>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address">
                          Domestic sales of our firm did not exceed INR
                          <b *ngIf="!concernEditable">{{
                            getConcernData?.concern_data.price
                          }}</b>
                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="position: relative; top: 10px"
                          >
                            <input
                              matInput
                              type="number"
                              min="0"
                              max="99999999999999"
                              oninput="validity.valid||(value='')"
                              [name]="concernData.price"
                              placeholder="price"
                              class="price-value"
                              [(ngModel)]="concernData.price"
                            />
                          </mat-form-field>
                          during the Current financial Year. So, we request the
                          concerned authorities to release the Consignment for
                          export.
                        </p>
                      </div>
                      <div class="shipper_address">
                        <div style="display: flex">
                          <p
                            class="shipper-head-address sales-heading"
                            style="padding-top: 12px"
                          >
                            Sales in the Financial Year:
                            <span *ngIf="!concernEditable">{{
                              getConcernData?.concern_data.year1 || ""
                            }}</span>
                          </p>

                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="margin-left: 4px"
                          >
                            <input
                              matInput
                              [name]="concernData.year1"
                              placeholder="year"
                              class="price-value"
                              [(ngModel)]="concernData.year1"
                              maxlength="4"
                            />
                          </mat-form-field>
                        </div>
                        <div style="display: flex">
                          <p
                            class="shipper-head-address"
                            style="padding-top: 12px"
                          >
                            EXPORT:
                            <span *ngIf="!concernEditable"
                              >INR
                              {{ getConcernData?.concern_data.export1 }}</span
                            >
                          </p>
                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="margin-left: 4px"
                          >
                            <input
                              matInput
                              type="number"
                              min="0"
                              max="99999999999999"
                              step="0.01"
                              oninput="validity.valid||(value='')"
                              [name]="concernData.export1"
                              placeholder="Export Price"
                              class="price-value"
                              [(ngModel)]="concernData.export1"
                            />
                          </mat-form-field>
                        </div>

                        <div style="display: flex">
                          <p
                            class="shipper-head-address"
                            style="padding-top: 12px"
                          >
                            DOMESTIC:
                            <span *ngIf="!concernEditable"
                              >INR
                              {{ getConcernData?.concern_data.domestic1 }}</span
                            >
                          </p>
                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="margin-left: 4px"
                          >
                            <input
                              matInput
                              type="number"
                              min="0"
                              max="99999999999999"
                              step="0.01"
                              oninput="validity.valid||(value='')"
                              [name]="concernData.domestic1"
                              placeholder="Domestic price"
                              class="price-value"
                              [(ngModel)]="concernData.domestic1"
                            />
                          </mat-form-field>
                        </div>
                      </div>

                      <div class="shipper_address">
                        <!--<p class="shipper-head-address sales-heading">Sales in the Financial Year <a *ngIf="!concernEditable">2016-2017 (Up to January)</a>                                                </p><input *ngIf="concernEditable" matInput [name]="concernData.year2" placeholder="year"
                                               <input matInput class="price-value" [(ngModel)]="concernData.year2"></p>-->
                        <div style="display: flex">
                          <p
                            class="shipper-head-address sales-heading"
                            style="padding-top: 12px"
                          >
                            Sales in the Financial Year:
                            <span *ngIf="!concernEditable">{{
                              getConcernData?.concern_data.year2
                            }}</span>
                          </p>
                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="margin-left: 4px"
                          >
                            <input
                              matInput
                              [name]="concernData.year2"
                              placeholder="year"
                              class="price-value"
                              maxlength="4"
                              [(ngModel)]="concernData.year2"
                            />
                          </mat-form-field>
                        </div>

                        <div style="display: flex">
                          <p
                            class="shipper-head-address"
                            style="padding-top: 12px"
                          >
                            EXPORT:
                            <span *ngIf="!concernEditable"
                              >INR
                              {{ getConcernData?.concern_data.export2 }}</span
                            >
                          </p>
                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="margin-left: 4px"
                          >
                            <input
                              matInput
                              type="number"
                              min="0"
                              max="9999999999999999"
                              step="0.01"
                              oninput="validity.valid||(value='')"
                              *ngIf="concernEditable"
                              [name]="concernData.export2"
                              placeholder="Export Price"
                              class="price-value"
                              [(ngModel)]="concernData.export2"
                            />
                          </mat-form-field>
                        </div>

                        <div style="display: flex">
                          <p
                            class="shipper-head-address"
                            style="padding-top: 12px"
                          >
                            DOMESTIC:
                            <span *ngIf="!concernEditable"
                              >INR
                              {{ getConcernData?.concern_data.domestic2 }}</span
                            >
                          </p>
                          <mat-form-field
                            class="custom-input pdf-feild"
                            floatLabel="never"
                            *ngIf="concernEditable"
                            style="margin-left: 4px"
                          >
                            <input
                              matInput
                              type="number"
                              min="0"
                              max="9999999999999999"
                              step="0.01"
                              oninput="validity.valid||(value='')"
                              *ngIf="concernEditable"
                              [name]="concernData.domestic2"
                              placeholder="Domestic price"
                              class="price-value"
                              [(ngModel)]="concernData.domestic2"
                            />
                          </mat-form-field>
                        </div>
                      </div>

                      <div
                        class="authorized-signature"
                        style="padding-top: 30px"
                      >
                        <p class="authorized-head">
                          For {{ compnayDetails?.name }}
                        </p>
                        <p class="authorized-head" style="padding-top: 50px">
                          Authorized Signatory
                        </p>
                      </div>
                      <div
                        class="footer-bottom fxflex"
                        *ngIf="concernEditable"
                        fxLayout="row"
                        fxLayoutAlign="end center"
                      >
                        <span fxFlex></span>
                        <section class="section-right">
                          <button
                            type="button"
                            (click)="cancelConcern()"
                            mat-button
                          >
                            Cancel
                          </button>
                          <button
                            type="submit"
                            (click)="addConcernData()"
                            mat-raised-button
                          >
                            Save
                          </button>
                        </section>
                        <div class="cb"></div>
                      </div>
                    </div>

                    <!--<div class="footer-bottom fxflex" *ngIf="concernEditable" fxLayout="row" fxLayoutAlign="end center">
                                        <span fxFlex></span>
                                        <section class="section-right">
                                            <button type="button" (click)="cancelConcern()" mat-button>Cancel</button>
                                            <button type="submit" (click)="addConcernData()" mat-raised-button>Save</button>
                                        </section>
                                        <div class="cb"></div>
                                    </div>-->
                  </div>
                </div>
                <!--/////////////////////-->

                <!-- {{invoice.ksmAddr.bankUrl}}{{orders.companyShpAddrDt.ksm_postal_code}} -->
                <!-- /// Adcode -->

                <div
                  #Adcode
                  [class]="Adcode.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showADCode"
                >
                  <div
                    class="inner-container sample-document"
                    [class.collapse]="!showScomatDeclaration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>AD Code</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateadCodePdf/{{orders.companyShpAddrDt.ksm_postal_code}}&is_printable=1">
                                                    <button mat-icon-button>
                                                        <img [src]='images.printer_icon' title="Print">
                                                    </button>
                                                </a> -->
                      <a href="generateadCodePdf/">
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///// -->

                <!-- //LUT///////////// -->
                <div
                  #Lut
                  [class]="Lut.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && !is_aapl"
                >
                  <div
                    class="inner-container sample-document"
                    [class.collapse]="!showScomatDeclaration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>LUT</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateLutPdf?is_printable=1">
                                                <button mat-icon-button>
                                                    <img [src]='images.printer_icon' title="Print">
                                                </button>
                                            </a> -->
                      <a href="generateLutPdf?is_printable=0">
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printSco" (click)="printScomat()">
                                            <img [src]='images.printer_icon' title="Print">
                                        </button> -->
                      <!-- <button mat-icon-button (click)="toggleScomatDeclaration()">
                                            <img [src]='images.grey_arrow' mat-icon-button *ngIf="showScomatDeclaration">
                                            <mat-icon class="toggle-arrow" *ngIf="!showScomatDeclaration">keyboard_arrow_down</mat-icon>
                                        </button> -->
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///////////////////////////// -->
                <!-- //Iec///////////// -->
                <div
                  #Iec
                  [class]="Iec.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && !is_aapl"
                >
                  <div class="inner-container sample-document">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>IEC</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateSkpPdf?is_printable=1">
                                                    <button mat-icon-button>
                                                        <img [src]='images.printer_icon' title="Print">
                                                    </button>
                                                </a> -->
                      <a href="generateSkpPdf?is_printable=0">
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printSco" (click)="printScomat()">
                                            <img [src]='images.printer_icon' title="Print">
                                        </button> -->
                      <!-- <button mat-icon-button (click)="toggleScomatDeclaration()">
                                            <img [src]='images.grey_arrow' mat-icon-button *ngIf="showScomatDeclaration">
                                            <mat-icon class="toggle-arrow" *ngIf="!showScomatDeclaration">keyboard_arrow_down</mat-icon>
                                        </button> -->
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///////////////////////////// -->
                <!-- //Ssi///////////// -->

                <div
                  #Ssi
                  [class]="Ssi.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showSSI"
                >
                  <div
                    class="inner-container sample-document"
                    [class.collapse]="!showScomatDeclaration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>SSI</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateSsiPdf?is_printable=1">
                                                    <button mat-icon-button>
                                                        <img [src]='images.printer_icon' title="Print">
                                                    </button>
                                                </a> -->
                      <a href="generateSsiPdf/">
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///////////////////////////// -->

                <!-- Unit1 -->
                <div
                  #Unit
                  [class]="Unit.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showCHK"
                >
                  <div
                    class="inner-container sample-document"
                    [class.collapse]="!showScomatDeclaration"
                  >
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Check List</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateSsiPdf?is_printable=1">
                                                            <button mat-icon-button>
                                                                <img [src]='images.printer_icon' title="Print">
                                                            </button>
                                                        </a> -->
                      <a
                        href="generateShipToParty?orders_id={{
                          orders.selectedOrder.id
                        }}"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- Unit1 ends  -->
                <!-- Sealed Report -->
                <div
                  #SealedReport
                  [class]="SealedReport.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showSSR"
                >
                  <div class="inner-container sample-document">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>Self -Sealed Container</span>
                      <span fxFlex></span>
                      <a
                        href="generateSealedReportPdf?orders_id={{
                          orders.selectedOrder.id
                        }}"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- Sealed Report ends -->
                <!-- Draft Bl -->
                <div
                  #DraftBl
                  [class]="DraftBl.print ? 'print' : 'no-print'"
                  *ngIf="preShipDocs && !is_automech && showDBL"
                >
                  <div class="inner-container sample-document">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]="images.pdf_download" />
                      <span>DRAFT BL</span>
                      <span fxFlex></span>
                      <a
                        href="generateDraftBlPdf?orders_id={{
                          orders.selectedOrder.id
                        }}"
                      >
                        <button mat-icon-button>
                          <img [src]="images.download_arrow" title="Download" />
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- Draft Bl ends -->

                <!--commercial invoice starts-->
                <div
                  #postCommercialInvoice
                  *ngIf="postShipDocs && commercialInvoiceData && is_aapl"
                >
                  <post-invoice
                    *ngIf="selectedOrderData"
                    [invoiceData]="commercialInvoiceData"
                    [invoiceDetails]="selectedOrderData"
                    [orderId]="orderId"
                    [packageDetails]="PostpackageData"
                    [orders]="order_no_po"
                    [viewActivityLogIcon]="viewActivityLogIcon"
                    [viewExcelIcon]="viewExcelIcon"
                    [editClosePOPup]="editClosePOPup"
                  >
                  </post-invoice>
                </div>
                <!--commercial invoice end-->

                <div class="activity-container" #origin *ngIf="postShipDocs">
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img
                        class="logo-img"
                        [src]="images.pdf_download"
                        title="Activity"
                      />
                      <span>Country of Origin </span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <!-- <div class="img_label_type">
                                                                                    <label>Valid File Types:</label>
                                                                                    <p>jpg, jpeg, pdf, png</p>
                                                                                  </div>
                                                                                  <div class="img_label_type">
                                                                                    <label>File Size: </label>
                                                                                    <p>&nbsp;Upto 5MB</p>
                                                                                  </div> -->
                      <div
                        class="image-upload"
                        [ngClass]="{ justify: originFileAttachments.length }"
                        [class.not-allowed]="pointerEvent"
                      >
                        <div
                          *ngIf="!clientPermission"
                          ng2FileDrop
                          [ngClass]="{ 'file-over': hasDropZoneOver }"
                          (fileOver)="fileOverBase($event)"
                          (onFileDrop)="fileDrop($event)"
                          [uploader]="uploader"
                          class="file-zone"
                          [ngClass]="{
                            disableClass: selectedOrderStatus == 'Delivered'
                          }"
                          multiple
                        >
                          <input
                            id="addedFiles"
                            type="file"
                            ng2FileSelect
                            [uploader]="uploader"
                            (change)="fileSelected($event)"
                            [hidden]="true"
                            multiple
                          />
                          <div
                            class="pdf-upload attachment_upload layout-column"
                          >
                            <label for="addedFiles">
                              <div class="upload_post">
                                <div
                                  class="upload_section"
                                  (click)="setAddedFilesUrl('origin')"
                                >
                                  <mat-icon
                                    class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                    role="img"
                                    aria-hidden="true"
                                    >add</mat-icon
                                  >
                                  <h3 class="contact-text">Upload</h3>
                                </div>
                              </div>
                            </label>
                          </div>
                        </div>
                        <div
                          class="image_wrap"
                          *ngFor="
                            let file of originFileAttachments;
                            let i = index
                          "
                        >
                          <div class="upload_post">
                            <div class="upload_section">
                              <a [href]="file.link_url" target="_blank">
                                <img
                                  *ngIf="
                                    file.link_url.lastIndexOf('.pdf') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.xlsx') == -1
                                  "
                                  class="list-upload-img"
                                  [src]="file.link_url"
                                />
                                <div
                                  style="width: 216px; height: 200px"
                                  *ngIf="file.link_url.lastIndexOf('.pdf') > -1"
                                >
                                  <pdf-viewer
                                    [src]="file.link_url"
                                    [original-size]="false"
                                    [fit-to-page]="false"
                                    [render-text]="true"
                                    [show-all]="false"
                                    [page]="1"
                                    style="display: block; height: 200px"
                                  ></pdf-viewer>
                                </div>

                                <ngx-doc-viewer
                                  *ngIf="
                                    file.link_url.lastIndexOf('.doc') > -1 ||
                                    file.link_url.lastIndexOf('.docx') > -1 ||
                                    file.link_url.lastIndexOf('.xlsx') > -1
                                  "
                                  [url]="file.link_url"
                                  viewer="google"
                                  style="width: 216px; height: 200px"
                                >
                                </ngx-doc-viewer>

                                <div class="file-info">
                                  {{ file.original_name }}
                                </div>
                              </a>
                            </div>
                            <div class="icon-section">
                              <div class="icon-content">
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Download"
                                    (click)="downloadFile(file, i, 'origin')"
                                  >
                                    <span class="material-icons">
                                      cloud_download
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Preview"
                                    (click)="openPreview(file, i, 'origin')"
                                  >
                                    <span class="material-icons">
                                      remove_red_eye
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Delete"
                                    (click)="deleteUploads(file, i, 'origin')"
                                    [class.disableClass]="
                                      selectedOrderStatus == 'Delivered' ||
                                      selectedOrderStatus == 'Cancelled'
                                    "
                                    [class.events-none]="
                                      selectedOrderStatus == 'Delivered' ||
                                      selectedOrderStatus == 'Cancelled'
                                    "
                                  >
                                    <span class="material-icons">
                                      delete_outline
                                    </span>
                                  </a>
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Insurance  -->
                <div class="activity-container" #insurance *ngIf="postShipDocs">
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img
                        class="logo-img"
                        [src]="images.pdf_download"
                        title="Insurance"
                      />
                      <span>Insurance</span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <div
                        class="image-upload"
                        [ngClass]="{ justify: insuranceAttachments.length }"
                        [class.not-allowed]="pointerEvent"
                      >
                        <div
                          *ngIf="!clientPermission"
                          ng2FileDrop
                          [ngClass]="{ 'file-over': hasDropZoneOver }"
                          (fileOver)="fileOverBase($event)"
                          (onFileDrop)="fileDrop($event)"
                          [uploader]="uploader"
                          class="file-zone"
                          [ngClass]="{
                            disableClass: selectedOrderStatus == 'Delivered'
                          }"
                          multiple
                        >
                          <input
                            id="insuranceFiles"
                            type="file"
                            ng2FileSelect
                            [uploader]="uploader"
                            (change)="fileSelected($event)"
                            [hidden]="true"
                            multiple
                          />
                          <div
                            class="pdf-upload attachment_upload layout-column"
                          >
                            <label for="insuranceFiles">
                              <div class="upload_post">
                                <div
                                  class="upload_section"
                                  (click)="setAddedFilesUrl('insuranceFlag')"
                                >
                                  <mat-icon
                                    class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                    role="img"
                                    aria-hidden="true"
                                    >add</mat-icon
                                  >
                                  <h3 class="contact-text">Upload</h3>
                                </div>
                              </div>
                            </label>
                          </div>
                        </div>
                        <div
                          class="image_wrap"
                          *ngFor="
                            let file of insuranceAttachments;
                            let i = index
                          "
                        >
                          <div class="upload_post">
                            <div class="upload_section">
                              <a [href]="file.link_url" target="_blank">
                                <img
                                  *ngIf="
                                    file.link_url.lastIndexOf('.pdf') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.xlsx') == -1
                                  "
                                  class="list-upload-img"
                                  [src]="file.link_url"
                                />
                                <div
                                  style="width: 216px; height: 200px"
                                  *ngIf="file.link_url.lastIndexOf('.pdf') > -1"
                                >
                                  <pdf-viewer
                                    [src]="file.link_url"
                                    [original-size]="false"
                                    [fit-to-page]="false"
                                    [render-text]="true"
                                    [show-all]="false"
                                    [page]="1"
                                    style="display: block; height: 200px"
                                  ></pdf-viewer>
                                </div>

                                <ngx-doc-viewer
                                  *ngIf="
                                    file.link_url.lastIndexOf('.doc') > -1 ||
                                    file.link_url.lastIndexOf('.docx') > -1 ||
                                    file.link_url.lastIndexOf('.xlsx') > -1
                                  "
                                  [url]="file.link_url"
                                  viewer="google"
                                  style="width: 216px; height: 200px"
                                >
                                </ngx-doc-viewer>
                                <div class="file-info">
                                  {{ file.original_name }}
                                </div>
                              </a>
                            </div>
                            <div class="icon-section">
                              <div class="icon-content">
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Download"
                                    (click)="downloadFile(file, i, 'insurance')"
                                  >
                                    <span class="material-icons">
                                      cloud_download
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Preview"
                                    (click)="openPreview(file, i, 'insurance')"
                                  >
                                    <span class="material-icons">
                                      remove_red_eye
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Delete"
                                    (click)="
                                      deleteUploads(file, i, 'insurance')
                                    "
                                    [class.disableClass]="
                                      selectedOrderStatus == 'Delivered' ||
                                      selectedOrderStatus == 'Cancelled'
                                    "
                                    [class.events-none]="
                                      selectedOrderStatus == 'Delivered' ||
                                      selectedOrderStatus == 'Cancelled'
                                    "
                                  >
                                    <span class="material-icons">
                                      delete_outline
                                    </span>
                                  </a>
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Insurance ends  -->
                <!-- Airway  -->
                <div class="activity-container" #airway *ngIf="postShipDocs">
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img
                        class="logo-img"
                        [src]="images.pdf_download"
                        title="Shipping Bill"
                      />
                      <span>Shipping Bill</span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <div
                        class="image-upload"
                        [ngClass]="{ justify: airwayAttachments.length }"
                        [class.not-allowed]="pointerEvent"
                      >
                        <div
                          *ngIf="!clientPermission"
                          ng2FileDrop
                          [ngClass]="{ 'file-over': hasDropZoneOver }"
                          (fileOver)="fileOverBase($event)"
                          (onFileDrop)="fileDrop($event)"
                          [uploader]="uploader"
                          class="file-zone"
                          [ngClass]="{
                            disableClass: selectedOrderStatus == 'Delivered'
                          }"
                          multiple
                        >
                          <input
                            id="airwayFiles"
                            type="file"
                            ng2FileSelect
                            [uploader]="uploader"
                            (change)="fileSelected($event)"
                            [hidden]="true"
                            multiple
                          />
                          <div
                            class="pdf-upload attachment_upload layout-column"
                          >
                            <label for="airwayFiles">
                              <div class="upload_post">
                                <div
                                  class="upload_section"
                                  (click)="setAddedFilesUrl('landing')"
                                >
                                  <mat-icon
                                    class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                    role="img"
                                    aria-hidden="true"
                                    >add</mat-icon
                                  >
                                  <h3 class="contact-text">Upload</h3>
                                </div>
                              </div>
                            </label>
                          </div>
                        </div>
                        <div
                          class="image_wrap"
                          *ngFor="let file of airwayAttachments; let i = index"
                        >
                          <div class="upload_post">
                            <div class="upload_section">
                              <a [href]="file.link_url" target="_blank">
                                <img
                                  *ngIf="
                                    file.link_url.lastIndexOf('.pdf') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.doc') == -1 &&
                                    file.link_url.lastIndexOf('.xlsx') == -1
                                  "
                                  class="list-upload-img"
                                  [src]="file.link_url"
                                />
                                <div
                                  style="width: 216px; height: 200px"
                                  *ngIf="file.link_url.lastIndexOf('.pdf') > -1"
                                >
                                  <pdf-viewer
                                    [src]="file.link_url"
                                    [original-size]="false"
                                    [fit-to-page]="false"
                                    [render-text]="true"
                                    [show-all]="false"
                                    [page]="1"
                                    style="display: block; height: 200px"
                                  ></pdf-viewer>
                                </div>

                                <ngx-doc-viewer
                                  *ngIf="
                                    file.link_url.lastIndexOf('.doc') > -1 ||
                                    file.link_url.lastIndexOf('.docx') > -1 ||
                                    file.link_url.lastIndexOf('.xlsx') > -1
                                  "
                                  [url]="file.link_url"
                                  viewer="google"
                                  style="width: 216px; height: 200px"
                                >
                                </ngx-doc-viewer>
                                <div class="file-info">
                                  {{ file.original_name }}
                                </div>
                              </a>
                            </div>
                            <div class="icon-section">
                              <div class="icon-content">
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Download"
                                    (click)="downloadFile(file, i, 'airway')"
                                  >
                                    <span class="material-icons">
                                      cloud_download
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Preview"
                                    (click)="openPreview(file, i, 'airway')"
                                  >
                                    <span class="material-icons">
                                      remove_red_eye
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a
                                    class="click"
                                    title="Delete"
                                    (click)="deleteUploads(file, i, 'airway')"
                                    [class.disableClass]="
                                      selectedOrderStatus == 'Delivered' ||
                                      selectedOrderStatus == 'Cancelled'
                                    "
                                    [class.events-none]="
                                      selectedOrderStatus == 'Delivered' ||
                                      selectedOrderStatus == 'Cancelled'
                                    "
                                  >
                                    <span class="material-icons">
                                      delete_outline
                                    </span>
                                  </a>
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Airway ends  -->
              </div>
            </div>
          </div>
        </div>
        <div class="container-ui new-center-empty-ui" *ngIf="showNoDatFound">
          <mat-card class="no-results">
            <div class="empty-img-holder">
              <!-- <img [src]='images.ordersIcon_o'> -->
              <span class="material-icons"> info </span>
            </div>
            <p class="no-result-text">No Data Found</p>
          </mat-card>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
    <div *ngIf="totalSpinner">
      <mat-spinner class="medium-spinner"></mat-spinner>
    </div>
  </div>
</div>
