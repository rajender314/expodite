<div class="orders">

  <div>
    <mat-horizontal-stepper #stepper>
      <mat-step-header></mat-step-header>

      <mat-step>
        <div *ngIf="!fetchingData">
          <mat-toolbar class="inner-detail-toolbar" id="order-toolbar">
            <div class="inv-back" (click)="backToOrders(stepper)">
              <mat-icon class="back-to-orders">arrow_back</mat-icon>
            </div>
            <img [src]="images.small_icon">
            <span class="title" *ngIf="!clientPermission"
              title="{{orders.selectedOrder.order_no}}">{{orders.selectedOrder.order_no}}</span>
            <span class="title" *ngIf="clientPermission"
              title="{{orders.selectedOrder.po_nbr}}">{{orders.selectedOrder.po_nbr}}</span>
            <div class="order-detail-status"
              [ngClass]="{'accepted':selectedOrderStatus == 'Accepted' , 'in-transit':selectedOrderStatus == 'In-transit', 'delivered':selectedOrderStatus == 'Delivered', 'cancelled':selectedOrderStatus == 'Cancelled','received':selectedOrderStatus == 'Received','processing':selectedOrderStatus == 'Processing'}">
              {{selectedOrderStatus}}</div>
            <span fxFlex></span>
            <!-- {{orders.selectedOrder.orders_types_id}}
                        {{blockContent}}
                        {{disableCancel}}
                        {{factoryPermission}}
                        {{orders.selectedOrder.orders_types_id}} -->
            <span class="order-date">Client Name:
              <b>{{orders.selectedOrder.client_name}}</b>
            </span>
            <span class="vertical-divider"></span>
            <span class="order-date">Order Date:
              <b>{{orders.selectedOrder.date_added}}</b>
            </span>
            <span class="vertical-divider"></span>

            <button mat-button class="cancel-order-button" [disableRipple]="true"
              *ngIf="(!(orders.selectedOrder.orders_types_id=='5') && blockContent && !disableCancel && factoryPermission && !(orders.selectedOrder.orders_types_id=='4'))"
              (click)="cancelAllOrder()">Cancel this order</button>
            <button mat-button class="cancel-order-button" [disableRipple]="true"
              *ngIf="(disableCancel  && blockContent && factoryPermission &&  !(orders.selectedOrder.orders_types_id=='4'))"
              (click)="deliverOrder()">Mark as Delivered</button>
            <button mat-button class="cancel-order-button" [disableRipple]="true"
              *ngIf="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Mail Sent'"
              (click)="deliverOrder()">Delivery Info</button>
            <!-- *ngIf="orders.shipping_data.shipping_id" -->
            <!-- orders.shipping_data.link_url -->
            <button mat-button class="cancel-order-button" *ngIf="factoryPermission && !clientPermission"
            [disabled]="sendDocumentMails == false || selectedOrderStatus == 'Cancelled'" [disableRipple]="true" (click)="sendMails()">Email
              Documents</button>
            <span class="vertical-divider"></span>
           

            <button mat-button class="order-download" *ngIf="factoryPermission && !clientPermission"
                            [disabled]="downloadStatus == false" [disableRipple]="true" (click)="orderDownload()">
                            <img [src]='images.download_order' title="order download">
                            <span class="download-order-text">Download All Documents</span>
                        </button>
            <!-- <a href="generateCoaPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                            <button mat-icon-button>
                                <img [src]='images.download_arrow' title="Download">
                            </button>
                        </a> -->
            <!-- (click)="orderDownload()" -->
          </mat-toolbar>
          <div class="inner-detail-container" id="innerDetailContent" fxLayout="row">
            <div class="side-nav">
              <mat-list class="inner-detail-list">
                <!-- <ng-container *ngFor="let item of docsList.standardLinks">
                                    <mat-list-item class="inactive-tab" *ngIf="item.selected" title={{item.name}} (click)="this[item.function]()"
                                        [class.active]="(activeTab== item.class)">
                                        <mat-icon mat-list-icon>
                                            <img src={{item.imgSrc}} alt={{item.name}}>
                                        </mat-icon>
                                        <h4 mat-line>{{item.name}}</h4>
                                    </mat-list-item>
                                </ng-container> -->
                <mat-list-item class="inactive-tab" title="Activity" (click)="moveToActivity()"
                  [class.active]="(activeTab=='activity')">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #ef5350;">
                    <img [src]='images.activity_small' title="Activity">
                  </mat-icon>
                  <h4 mat-line>Activity</h4>
                </mat-list-item>

                <mat-list-item class="inactive-tab" title="Order Details" (click)="moveToDetails()"
                  [class.active]="(activeTab=='details')">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #f07e0a">
                    <img [src]='images.orders_small' style="position: relative; top: 3px;" title="Order Details">
                  </mat-icon>
                  <h4 mat-line>Order Details</h4>
                </mat-list-item>
                <mat-list-item class="inactive-tab" title="Invoice" [class.active]="(activeTab=='invoice')"
                  (click)="moveToInvoice()" [ngClass]="{'active':activeTab=='invoice','no-details': !enableInvoice}">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #1f8080">
                    <img [src]='images.invoice_small' title="Invoice" style="position: relative; top: -1px;">
                  </mat-icon>
                  <h4 mat-line>Invoice</h4>
                </mat-list-item>
                <mat-list-item class="inactive-tab" title="Packing Details" (click)="moveToPackaging()"
                  [ngClass]="{'active':activeTab=='packaging','no-details':orders.packageOrders.invStatus !='2'}">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #8b5729">
                    <img [src]='images.pkgDetails_small' title="Packing Details">
                  </mat-icon>
                  <h4 mat-line>Packing Details</h4>
                </mat-list-item>
                <!-- <mat-list-item class="inactive-tab" title="UOM" (click)="moveToUom()"
                [ngClass]="{'active':activeTab=='uom','no-details':orders.packageOrders.invStatus !='2'}">
                <mat-icon mat-list-icon class="icon-menu" style="background: #8b5729">
                  <img [src]='images.pkgDetails_small' title="UOM">
                </mat-icon>
                <h4 mat-line>UOM</h4>
                </mat-list-item> -->
                <mat-list-item class="inactive-tab" title="UOM" (click)="moveToPrimaryPackage()"
                [ngClass]="{'active':activeTab=='primary-packaging','no-details':orders.packageOrders.invStatus !='2'}">
                <mat-icon mat-list-icon class="icon-menu" style="background: #8b5729">
                  <img [src]='images.pkgDetails_small' title="Primary Primary Package">
                </mat-icon>
                <h4 mat-line>Primary Packing Details</h4>
              </mat-list-item>
              
                <mat-list-item class="inactive-tab" title="COA" (click)="moveToCoa()"
                  [ngClass]="{'active':activeTab=='coa','no-details':orders.packageOrders.invStatus !='2'}">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #55a2aa">
                    <img [src]='images.coa_small' title="COA" style="position: relative; top: 1px;">
                  </mat-icon>
                  <h4 mat-line>COA</h4>
                </mat-list-item>
                <mat-list-item class="inactive-tab" title="Shipping Details" (click)="moveToShipping()"
                  *ngIf="factoryPermission"
                  [ngClass]="{'active':activeTab=='shipping','no-details':orders.packageOrders.invStatus !='2'}">
                  <mat-icon mat-list-icon class="icon-menu" style="background: #679136">
                    <img [src]='images.shippingDetails_small' title="Shipping Details">
                  </mat-icon>
                  <h4 mat-line>Shipping Details</h4>
                </mat-list-item>

              </mat-list>

              <mat-divider class="divider"></mat-divider>
              <mat-list class="shipment_section" style="padding-top: 0;">
                <mat-expansion-panel class="shipment_panel" *ngIf="factoryPermission && !clientPermission">
                  <mat-expansion-panel-header [collapsedHeight]="'40px'" [expandedHeight]="'40px'">
                    <mat-list-item class="inactive-tab shipping_item"
                      [ngClass]="{'no-details-grp':orders.packageOrders.invStatus !='2'}">
                      <mat-icon mat-list-icon class="post_ship_icon icon-menu" style="background-color: #f07e0a;">
                        <img [src]='images.orders_small' style="position: relative; top: 1px;"
                          title="Pre-Shipping Documents">
                      </mat-icon>
                      <h4 mat-line class="shipment_title">Pre-Shipping Documents</h4>
                    </mat-list-item>
                  </mat-expansion-panel-header>
                  <!-- <ng-container *ngFor="let item of docsList.preShip">
                                        <mat-list-item class="inactive-tab" *ngIf="item.selected" title={{item.name}} (click)="this[item.function]()"
                                            [class.active]="(activeTab== item.class)" [class.no-details]="orders.packageOrders.invStatus !='2'">
                                            <mat-icon mat-list-icon>
                                                <img src={{item.imgSrc}} alt={{item.name}}>
                                            </mat-icon>
                                            <h4 mat-line>{{item.name}}</h4>
                                        </mat-list-item>
                                    </ng-container> -->
                  <mat-list-item class="inactive-tab" title="MSDS For" (click)="moveToMsdsForm()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='msdsForm','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="MSDS For">
                    </mat-icon>
                    <h4 mat-line>MSDS Form</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Non Hazardous Certificate"
                    *ngIf="factoryPermission && !clientPermission" (click)="moveToNonHazardous()"
                    [ngClass]="{'active':activeTab=='nonHazardous','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Non Hazardous Certificate">
                    </mat-icon>
                    <h4 mat-line title="Non Hazardous Certificate">Non Hazardous Certificate</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Form SDF" (click)="moveToFormSdf()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Formsdf','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Form SDF">
                    </mat-icon>
                    <h4 mat-line>Form SDF</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Export Value Declaration"
                    *ngIf="factoryPermission && !clientPermission" (click)="moveToExportValue()"
                    [ngClass]="{'active':activeTab=='Exportvalue','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Export Value Declaration">
                    </mat-icon>
                    <h4 mat-line title="Export Value Declaration">Export Value Declaration</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Declaration" (click)="moveToDeclaration()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Declaration','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Declaration">
                    </mat-icon>
                    <h4 mat-line>Declaration</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Shipper's Letter"
                    *ngIf="factoryPermission && !clientPermission" (click)="moveToShipperLetter()"
                    [ngClass]="{'active':activeTab=='Shippersletter','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Shipper's Letter">
                    </mat-icon>
                    <h4 mat-line>Shipper's Letter</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="ADC Sheet" (click)="moveToAdcSheet()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Adcsheet','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="ADC Sheet">
                    </mat-icon>
                    <h4 mat-line>ADC Sheet</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Declaration for Incentive"
                    *ngIf="factoryPermission && !clientPermission" (click)="moveToIncentive()"
                    [ngClass]="{'active':activeTab=='Incentivedeclaration','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Declaration for Incentive">
                    </mat-icon>
                    <h4 mat-line title="Declaration for Incentive">Declaration for Incentive</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Scomat Declaration" (click)="moveToScomat()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Scomatdeclaration','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Scomat Declaration">
                    </mat-icon>
                    <h4 mat-line title="Scomat Declaration">Scomat Declaration </h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Turn Over Declaration"
                    *ngIf="factoryPermission && !clientPermission" (click)="moveToConcern()"
                    [ngClass]="{'active':activeTab=='Concern','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Turn Over Declaration">
                    </mat-icon>
                    <h4 mat-line title="Turn Over Declaration">Turn Over Declaration</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="AD Code" (click)="moveToAdcode()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Adcode','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="AD Code">
                    </mat-icon>
                    <h4 mat-line title="AD Code">AD Code</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="LUT" (click)="moveToLut()"
                    *ngIf="(factoryPermission && showDocuments) && !clientPermission"
                    [ngClass]="{'active':activeTab=='Lut','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="LUT">
                    </mat-icon>
                    <h4 mat-line title="LUT">LUT</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="IEC" (click)="moveToIec()"
                    *ngIf="(factoryPermission && showDocuments) && !clientPermission"
                    [ngClass]="{'active':activeTab=='Iec','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="IEC">
                    </mat-icon>
                    <h4 mat-line title="IEC">IEC</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="SSI" (click)="moveToSsi()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Ssi','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="SSI">
                    </mat-icon>
                    <h4 mat-line title="SSI">SSI</h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="UNIT" (click)="moveToUnit()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='Unit','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="UNIT">
                    </mat-icon>
                    <h4 mat-line title="UNIT">Check List</h4>
                  </mat-list-item>
                  <!-- <mat-list-item class="inactive-tab" title="SEZ UNIT" (click)="moveToSez()" *ngIf="factoryPermission && !clientPermission" [ngClass]="{'active':activeTab=='SezUnit','no-details':orders.packageOrders.invStatus !='2'}">
                                    <mat-icon mat-list-icon>
                                        <img [src]='images.pdf_download' title="SEZ UNIT">
                                    </mat-icon>
                                    <h4 mat-line title="SEZ UNIT">SEZ UNIT</h4>
                                </mat-list-item> -->
                </mat-expansion-panel>
              </mat-list>
              <mat-list class="shipment_section post_document_section" style="padding-top: 0;">
                <mat-expansion-panel class="shipment_panel" *ngIf="factoryPermission && !clientPermission">
                  <mat-expansion-panel-header [collapsedHeight]="'40px'" [expandedHeight]="'40px'">
                    <mat-list-item class="inactive-tab shipping_item"
                      [ngClass]="{'no-details-grp':orders.packageOrders.invStatus !='2'}">
                      <mat-icon mat-list-icon class="post_ship_icon icon-menu" style="background-color: #1f8080;">
                        <img [src]='images.invoice_small' style="position: relative; top: -1px;"
                          title="Post-Shipping Documents">
                      </mat-icon>
                      <h4 mat-line class="shipment_title">Post-Shipping Documents</h4>
                    </mat-list-item>
                  </mat-expansion-panel-header>
                  <!-- <ng-container *ngFor="let item of docsList.postShip">
                                        <mat-list-item class="inactive-tab" *ngIf="item.selected" title={{item.name}} (click)="this[item.function]()"
                                            [class.active]="(activeTab== item.class)" [class.no-details]="orders.packageOrders.invStatus !='2'">
                                            <mat-icon mat-list-icon>
                                                <img src={{item.imgSrc}} alt={{item.name}}>
                                            </mat-icon>
                                            <h4 mat-line>{{item.name}}</h4>
                                        </mat-list-item>
                                    </ng-container> -->
                  <mat-list-item class="inactive-tab" title="Country of Origin" (click)="moveToOrigin()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='origin', 'no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Country of Origin">
                    </mat-icon>
                    <h4 mat-line>Country of Origin
                      <span *ngIf="originFileAttachments.length">({{originFileAttachments.length}})</span>
                    </h4>
                  </mat-list-item>
                  <mat-list-item class="inactive-tab" title="Insurance" (click)="moveToInsurance()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='insurance','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Insurance">
                    </mat-icon>
                    <h4 mat-line>Insurance
                      <span *ngIf="insuranceAttachments.length">({{insuranceAttachments.length}})</span>
                    </h4>
                  </mat-list-item>

                  <mat-list-item class="inactive-tab" title="Shipping Bill" (click)="moveToAirway()"
                    *ngIf="factoryPermission && !clientPermission"
                    [ngClass]="{'active':activeTab=='airway','no-details':orders.packageOrders.invStatus !='2'}">
                    <mat-icon mat-list-icon>
                      <img [src]='images.pdf_download' title="Shipping Bill">
                    </mat-icon>
                    <h4 mat-line>Shipping Bill
                      <span *ngIf="airwayAttachments.length">({{airwayAttachments.length}})</span>
                    </h4>
                  </mat-list-item>
                </mat-expansion-panel>
              </mat-list>
              <mat-divider class="divider"></mat-divider>


              <div fxLayout="column" class="image-upload uploader-ui-section" *ngIf="factoryPermission"
                [class.not-allowed]="pointerEvent">
                <p class="label-title">Other Documents <span class="upload-inform"
                    *ngIf="!(orders.selectedOrder.orders_types_id=='5') && blockContent">
                    <mat-icon class="mat-icon material-icons" role="img" aria-hidden="true"
                      title="Valid File Types: jpg, jpeg, pdf, png, doc, docx. File Size: Upto 5MB">info</mat-icon>
                  </span>
                </p>
                <div *ngIf="!clientPermission" ng2FileDrop [ngClass]="{'file-over': hasDropZoneOver}"
                  (fileOver)="fileOverBase($event)" (onFileDrop)="fileDrop($event)" [uploader]="uploader"
                  class="file-zone"
                  [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered', 'events-none': selectedOrderStatus == 'Delivered'}">
                  <input id="upload-attachments" type="file" ng2FileSelect [uploader]="uploader"
                    [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered', 'events-none': selectedOrderStatus == 'Delivered'}"
                    (change)="fileSelected($event)" [hidden]="true" multiple />
                  <div class="pdf-upload layout-column">
                    <div class="upload-block">
                      <!-- <span class="title">Other Documents</span> -->
                    </div>
                    <label for="upload-attachments"
                      *ngIf="!(orders.selectedOrder.orders_types_id=='5') && blockContent">
                      <span class="upload-btn" [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered',
                                             'events-none': selectedOrderStatus == 'Delivered'}"
                        (click)="setImageUrl($event)">
                        <mat-icon class="mat-icon material-icons" role="img" aria-hidden="true">
                          add</mat-icon>
                        <span>Upload</span>
                      </span>
                    </label>

                  </div>
                  <p class="no-docs" *ngIf="!attachments.length">No Documents Uploaded</p>
                </div>
                <div class="images">
                  <mat-list class="other-docs-images" *ngIf="attachments.length">
                    <mat-list-item class="images-list" *ngFor="let file of attachments; let i = index"
                      (click)="moveToOtherdocs(file)">
                      <span class="upload-image">
                        <img class="list-upload" [src]='images.fileupload_pdf'>

                      </span>
                      <span class="upload-name" title="{{file.original_name}}">
                        <a [href]="file.link_url" target="_blank">{{file.original_name}}</a>
                      </span>
                      <span fxFlex></span>
                      <mat-icon class="delete-upload" *ngIf="blockContent" [class.disableClass]="selectedOrderStatus == 'Delivered' 
                                                                              || selectedOrderStatus == 'Cancelled'"
                        [class.events-none]="selectedOrderStatus == 'Delivered' 
                                                                              || selectedOrderStatus == 'Cancelled'"
                        (click)="deleteAttachment(i, file)" title="Delete">delete</mat-icon>
                    </mat-list-item>
                  </mat-list>
                </div>
              </div>
            </div>
            <div fxFlex class="inner-detail-content order-detail-content" id="printAll" #scrollContainer
              (scroll)="scrollOrdersContainer($event)">
              <div class="app-container order-form-view">
                <div class="activity-container" #activity>
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]='images.activity_small' title="Activity">
                      <span>Activity Log</span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status">
                      <mat-list *ngFor="let activity of orders.activityDetails.activityLog">
                        <mat-list-item class="activity-list">
                          <div class="activity-progress today-activity"></div>
                          <div class="activity-details">
                            <span class="activity-name">Order {{activity.name}}
                            </span>
                            <span>{{activity.date_added}}</span>
                          </div>
                        </mat-list-item>
                      </mat-list>
                    </div>
                  </div>
                </div>
                <div [class]="(details.print?'print':'no-print')">
                  <div class="order-inner-container" #details [class.collapse]="!show">
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]='images.ordersIcon_o'>
                      <span>Order Details</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        [ngClass]="{'events-none': orders.selectedOrder.status == 'Cancelled'}"
                        href="generate_pdf?id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button class="action-orderbtn">
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generate_pdf?id={{orders.selectedOrder.id}}&is_printable=0"
                        [ngClass]="{'events-none': orders.selectedOrder.status == 'Cancelled'}">
                        <button mat-icon-button class="action-orderbtn">
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggle()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="show">
                        <mat-icon class="toggle-arrow" *ngIf="!show">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="show">
                      <div class="address-container" fxLayout="row" style="min-height: 400px;">
                        <div class="shipper-secction" fxFlex="33">
                          <h4 class="gray-title">SHIPPER</h4>
                          <div class="address-inner-content" *ngIf="(orders.selectedOrder.status == 'Placed')">The
                            shipper
                            address will be updated
                            once the order is accepted.</div>
                          <div class="address-inner-content" *ngIf="(orders.selectedOrder.status != 'Placed')">
                            <b>{{orders.companyShpAddrDt.ksm_address1}}</b>
                            <p style="margin:0px;">{{orders.companyShpAddrDt.ksm_address2}}
                            </p>
                            <p style="margin:0px;">{{orders.companyShpAddrDt.ksm_city}} -
                              {{orders.companyShpAddrDt.ksm_postal_code}}</p>
                            <p style="margin:0px;">{{orders.companyShpAddrDt.ksm_state}}</p>
                            <p style="margin:0px;">{{orders.companyShpAddrDt.ksm_countrty}}
                            </p>
                          </div>
                          <button mat-button class="cancel-order-button change-shipper"
                            [class.disableClass]="hideShipperAddress && orders.selectedOrder.status != 'Received' "
                            [class.events-none]="hideShipperAddress && orders.selectedOrder.status != 'Received'"
                            [disabled]="(orders.selectedOrder.orders_types_id=='5') || (hideShipperAddress && orders.selectedOrder.status != 'Received')"
                            [disableRipple]="true"
                            *ngIf="blockContent && factoryPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')"
                            (click)="changeAddress()">
                            <mat-icon>mode_edit</mat-icon>Change Shipper Address
                          </button>
                          <div class="instructions">
                            <span title="{{orders.selectedOrder.special_instructions}}"
                              *ngIf="(orders.selectedOrder.special_instructions) && (factoryPermission && !clientPermission)">Special
                              Instructions:
                              <b>{{orders.selectedOrder.special_instructions}}</b>
                            </span>
                          </div>
                          <div class="instructions">
                            <span title="{{orders.selectedOrder.special_instructions}}"
                              *ngIf="(factoryPermission && !clientPermission)">Expected
                              Delivery Date:
                              <b>{{orders.selectedOrder.delivery_date | date: 'MMM dd, yyyy'}}</b>
                            </span>
                          </div>
                        </div>
                        <div class="vertical-divider"></div>
                        <div fxFlex="33" class="order-billing">
                          <div class="shipper-secction">
                            <h4 class="gray-title">BILL TO PARTY</h4>
                            <p class="shippers-text shipper-hdng">
                              {{orders.billingAddr.company_name}}</p>
                            <div class="address-inner-content">
                              <b class="bill-address">{{orders.billingAddr.bill_address1}}</b>
                              <p class="bill-address">{{orders.billingAddr.bill_address2}}
                              </p>
                              <p class="bill-address"
                                *ngIf="orders.billingAddr.bill_city || orders.billingAddr.bill_postal_code">
                                {{orders.billingAddr.bill_city}} -
                                {{orders.billingAddr.bill_postal_code}}</p>
                              <p class="bill-address">{{orders.billingAddr.bill_state}}
                              </p>
                              <p class="bill-address">{{orders.billingAddr.bill_countrty}}
                              </p>

                            </div>
                          </div>
                          <div class="shipper-secction mt_30">
                            <h4 class="gray-title">SHIP TO PARTY</h4>
                            <p class="shippers-text shipper-hdng">
                              {{orders.shippingAddr.company_name}}</p>
                            <div class="address-inner-content">
                              <b class="bill-address">{{orders.shippingAddr.ship_address1}}</b>
                              <p class="bill-address">
                                {{orders.shippingAddr.ship_address2}}</p>
                              <p class="bill-address"
                                *ngIf="orders.shippingAddr.ship_city || orders.shippingAddr.ship_postal_code">
                                {{orders.shippingAddr.ship_city}} -
                                {{orders.shippingAddr.ship_postal_code}}</p>
                              <p class="bill-address">{{orders.shippingAddr.ship_state}}
                              </p>
                              <p class="bill-address">
                                {{orders.shippingAddr.ship_countrty}}</p>

                            </div>
                          </div>
                          <div class="shipper-secction mt_30" *ngIf="showNotifyAddress">
                            <h4 class="gray-title">NOTIFY TO PARTY</h4>
                            <p class="shippers-text shipper-hdng">
                              {{orders.notifyAddr.company_name}}</p>
                            <div class="address-inner-content">
                              <b class="bill-address">{{orders.notifyAddr.notify_address1}}</b>
                              <p class="bill-address">
                                {{orders.notifyAddr.notify_address2}}</p>
                              <p class="bill-address"
                                *ngIf="orders.notifyAddr.notify_city || orders.notifyAddr.notify_postal_code">
                                {{orders.notifyAddr.notify_city}} -
                                {{orders.notifyAddr.notify_postal_code}}</p>
                              <p class="bill-address">{{orders.notifyAddr.notify_state}}
                              </p>
                              <p class="bill-address">{{orders.notifyAddr.notify_country}}
                              </p>

                            </div>
                          </div>
                          <!-- <div class="po-date">
                                                        <span>PO DATE :</span>
                                                        <div class="custom-date-container date_po">
                                                            <input class="datepicker" (focus)="openCalendar(picker4)" readonly="true" (click)="openCalendar(picker4)" [(ngModel)]="orders.selectedOrder.po_date"
                                                                [matDatepicker]="picker4" placeholder="Date">
                                                            <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker4 startView="year"></mat-datepicker>
                                                        </div>
                                                    </div> -->
                          <!-- <div class="po-date">
                                                        <p (keydown)="savePoDate($event)">
                                                            <span>PO Date - </span>
                                                                <span
                                                                  contenteditable="true">{{orders.selectedOrder.po_date}}</span>
                                                            </p>
                                                    </div> -->

                        </div>
                        <div fxFlex class="order-po-container">
                          <div class="order-po">
                            <a *ngIf="orders.selectedOrder.image" href="{{orders.selectedOrder.po_url}}" target="_blank"
                              class="po-img">
                              <img class="logo-img" [src]="orders.selectedOrder.image" />
                            </a>
                            <a *ngIf="!orders.selectedOrder.image" class="no-img">
                              <img class="logo-img" [src]='images.file_pdf'>
                            </a>
                            <div class="po-numbheader">
                              <p (keydown)="changePoNo($event)">
                                <span>PO NO - </span>
                                <!-- !((orders.selectedOrder.status ==
                                                                  'Cancelled') || (orders.selectedOrder.status ==
                                                                  'In-transit') || (orders.selectedOrder.status ==
                                                                  'Delivered')) -->
                                <span class="editable-cell" contenteditable="true"
                                  *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && factoryPermission && adminUser)">{{orders.selectedOrder.po_nbr}}</span>
                                <span contenteditable="false"
                                  *ngIf="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' || orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser)">{{orders.selectedOrder.po_nbr}}</span>
                              </p>
                            </div>
                          </div>
                          <div class="po-date">
                            <mat-form-field class="custom-deliveryDate custom-deliveryDatePo" floatLabel="never" style="position: relative;
                                                        bottom: 21px;">
                              <label class="custom-labeldate po-date">PO Date</label>
                              <input matInput class="datepicker" (focus)="openCalendar(picker2)"
                                (click)="openCalendar(picker2)"
                                [disabled]="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' || orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser)"
                                [(ngModel)]="po_date2" [matDatepicker]="picker2" placeholder="PO Date"
                                (dateChange)="savePoDate()">
                              <mat-datepicker-toggle class="mat-picker" matSuffix [for]="picker2">
                              </mat-datepicker-toggle>
                              <mat-datepicker #picker2 startView="year"></mat-datepicker>
                            </mat-form-field>
                            <!-- <p (keydown)="savePoDate($event)">
                                                            <span>PO Date : </span>
                                                            <span class="editable-cell" contenteditable="true"
                                                                *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && factoryPermission && adminUser)">{{orders.selectedOrder.po_date}}</span>
                                                            <span contenteditable="false"
                                                                *ngIf="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' || orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser)">{{orders.selectedOrder.po_date}}</span>
                                                        </p> -->
                          </div>
                        </div>
                      </div>
                      <div fxLayout="row">
                        <div class="orders-table">
                          <mat-table #table [dataSource]="orders.productsData">
                            <ng-container matColumnDef="order_product_id">
                              <mat-header-cell *matHeaderCellDef> Item </mat-header-cell>
                              <mat-cell *matCellDef="let element"> {{element.index}}
                              </mat-cell>
                            </ng-container>
                            <ng-container matColumnDef="product_name">
                              <mat-header-cell *matHeaderCellDef> Description
                              </mat-header-cell>
                              <mat-cell *matCellDef="let element">
                                {{element.product_name}} </mat-cell>
                            </ng-container>
                            <ng-container matColumnDef="product_quantity">
                              <span
                                *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' &&
                                 orders.selectedOrder.status != 'Delivered' && adminUser && allowProductEditing)">

                                <mat-header-cell *matHeaderCellDef> Quantity
                                </mat-header-cell>
                                <mat-cell *matCellDef="let element" contenteditable="true"
                                  (keydown)="changePrice(element, $event,1)">
                                  {{element.product_quantity}} </mat-cell>
                              </span>



                              <span
                                *ngIf="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' ||
                                 orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser || !allowProductEditing)">
                                <mat-header-cell *matHeaderCellDef> Quantity
                                </mat-header-cell>
                                <mat-cell *matCellDef="let element" contenteditable="false"
                                  (keydown)="changePrice(element, $event,1)">
                                  {{element.product_quantity}} </mat-cell>
                              </span>
                            </ng-container>

                            <ng-container matColumnDef="product_uom">
                              <span
                                *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && adminUser)">

                                <mat-header-cell *matHeaderCellDef> UOM
                                </mat-header-cell>
                                <mat-cell *matCellDef="let element" contenteditable="false">
                                  {{element.uom_name}} </mat-cell>
                              </span>



                              <span
                                *ngIf="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' || orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser)">
                                <mat-header-cell *matHeaderCellDef> UOM
                                </mat-header-cell>
                                <mat-cell *matCellDef="let element" contenteditable="false">
                                  {{element.uom_name}} </mat-cell>
                              </span>
                            </ng-container>
                            <!-- <ng-container matColumnDef="product_quantity">
                                                            

                                                        </ng-container> -->
                            <ng-container matColumnDef="product_price">
                              <span
                                *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered' && adminUser)">
                                <mat-header-cell *matHeaderCellDef> Price / Unit
                                </mat-header-cell>
                                <mat-cell *matCellDef="let element">
                                  <span class="total-text">{{element.currency}}&nbsp;&nbsp;</span>
                                  <span contenteditable="true" (keydown)="changePrice(element, $event,0)">
                                    {{element.product_price_number}}</span>
                                </mat-cell>
                              </span>
                              <span
                                *ngIf="(orders.selectedOrder.status == 'In-transit' || orders.selectedOrder.status == 'Cancelled' || orders.selectedOrder.status == 'Delivered' || !factoryPermission || !adminUser)">
                                <mat-header-cell *matHeaderCellDef> Unit / Price 
                                </mat-header-cell>
                                <mat-cell *matCellDef="let element">
                                  <span class="total-text">{{element.currency}}&nbsp;&nbsp;</span>
                                  <span contenteditable="false" (keydown)="changePrice(element, $event,0)">
                                    {{element.product_price_number}}</span>
                                </mat-cell>
                              </span>
                            </ng-container>
                            <ng-container matColumnDef="product_price_total">
                              <mat-header-cell *matHeaderCellDef> Amount
                              </mat-header-cell>
                              <mat-cell *matCellDef="let element">
                                  <span class="total-text">{{element.currency}}&nbsp;&nbsp;</span>
                                  <span contenteditable="false" (keydown)="changePrice(element, $event,0)">
                                      {{element.product_price_total }}</span>
                                
                              </mat-cell>
                            </ng-container>
                            <mat-header-row *matHeaderRowDef="displayedColumns">
                            </mat-header-row>
                            <mat-row *matRowDef="let row; columns: displayedColumns;">
                            </mat-row>
                          </mat-table>
                          <div class="footer">
                            <span class="total-text">Total:</span>
                            <span class="total-text">{{orders.productsData.data[0]?.currency}}</span>
                            <span contenteditable="false" (keydown)="changePrice(element, $event,0)">
                                {{orders.selectedOrder.total_amount }}</span>
                          </div>
                          <div fxLayout="row"
                            *ngIf="orders.selectedOrder.orders_types_id=='1' && blockContent && (factoryPermission && !clientPermission)"
                            class="packages-footer" fxLayoutAlign="end center">
                            <button mat-button (click)="cancelPackages()" [disabled] = "disabledSave">Cancel
                              Order</button>
                            <button mat-raised-button class="green-btn" (click)="acceptOrder($event)">Accept
                              Order</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div #invoice>
                  <div class="inner-container invoice-container"
                    *ngIf="(orders.selectedOrder.orders_types_id =='2') && !(orders.selectedOrder.orders_types_id=='5') && (factoryPermission && !clientPermission)">
                    <div class="invoice empty-ui">
                      <div class="invoice-icon empty-icon">
                        <img class="logo-img" style="background: #fff; border-radius: 3px;" [src]='images.invoice_gray'
                          title="Orders">
                      </div>
                      <p>Generate Invoice For this Order</p>
                      <button mat-raised-button *ngIf="factoryPermission" [disabled]="clickedGenerateInvoice"
                        (click)="generateInvoice()">Generate
                        Invoice Now</button>
                    </div>
                  </div>
                  <div [class]="(invoice.print?'print':'no-print')"
                    *ngIf=" !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id >'2')">
                    <div class="inner-container" [class.collapse]="!showInvoice" *ngFor="let invoice of orders.invoice">
                      <mat-toolbar class="package-toolbar">
                        <img [src]='images.invoice_green'>
                        <div class="invoice-toolbar">
                          <div class="invoice-number">
                            <span class="details-span">{{invoice.Inovice.inv_nbr}}</span>
                            <span class="order-detail-status"
                              [ngClass]="{'due':invoice.Inovice.status == 'Due','overdue':invoice.Inovice.status == 'Overdue','open':invoice.Inovice.status == 'Open','paid':invoice.Inovice.status == 'Paid'}"
                              >{{invoice.Inovice.status}}</span>

                          </div>
                          <div class="xyz">
                            <span class="details-date">{{invoice.Inovice.invoice_date_added}}</span>
                          </div>
                        </div>
                        <span fxFlex></span>
                        <div class="packages-icons">
                          <a *ngIf="!clientPermission" target="_blank"
                            href="generateInvpdf?orders_id={{invoice.Inovice.orders_id}}&is_printable=1">
                            <button mat-icon-button>
                              <img [src]='images.printer_icon' title="Print">
                            </button>
                          </a>
                          <a href="generateInvpdf?orders_id={{invoice.Inovice.orders_id}}&is_printable=0">
                            <button mat-icon-button>
                              <img [src]='images.download_arrow' title="Download">
                            </button>
                          </a>
                          <button mat-icon-button (click)="toggleInvoice()">
                            <img [src]='images.grey_arrow' mat-icon-button *ngIf="showInvoice">
                            <mat-icon class="toggle-arrow" *ngIf="!showInvoice">
                              keyboard_arrow_down</mat-icon>
                          </button>
                        </div>
                      </mat-toolbar>
                      <div *ngIf="showInvoice">
                        <div class="address-container" fxLayout="row">
                          <div class="shipper-secction" fxFlex="45">
                            <h4 class="gray-title">BILL TO PARTY</h4>
                            <div class="address-inner-content">
                              <b class="bill-address">{{invoice.billingAddr.company_name}}</b>
                              <p class="bill-address">
                                {{invoice.billingAddr.bill_address1}}</p>
                              <p class="bill-address">
                                {{invoice.billingAddr.bill_address2}}</p>
                              <p class="bill-address">{{invoice.billingAddr.bill_city}}
                              </p>
                              <p class="bill-address"
                                *ngIf="invoice.billingAddr.bill_state || invoice.billingAddr.bill_postal_code">
                                {{invoice.billingAddr.bill_state}} -
                                {{invoice.billingAddr.bill_postal_code}}</p>
                              <p class="bill-address">
                                {{invoice.billingAddr.bill_countrty}}</p>

                            </div>
                            <div class="notify-address" *ngIf="showNotifyAddress">
                              <div class="shipper-secction">
                                <h4 class="gray-title">NOTIFY TO PARTY</h4>
                                <div class="address-inner-content">
                                  <b class="bill-address">{{invoice.notifyingAddr.company_name}}</b>
                                  <p class="bill-address">
                                    {{invoice.notifyingAddr.notify_address1}}</p>
                                  <p class="bill-address">
                                    {{invoice.notifyingAddr.notify_address2}}</p>
                                  <p class="bill-address">
                                    {{invoice.notifyingAddr.notify_city}}</p>
                                  <p class="bill-address"
                                    *ngIf="invoice.notifyingAddr.notify_state || invoice.notifyingAddr.notify_postal_code">
                                    {{invoice.notifyingAddr.notify_state}} -
                                    {{invoice.notifyingAddr.notify_postal_code}}</p>
                                  <p class="bill-address">
                                    {{invoice.notifyingAddr.notify_country}}</p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="vertical-divider"></div>
                          <div fxFlex="45">
                            <div class="shipper-secction">
                              <h4 class="gray-title">SHIP TO PARTY</h4>
                              <div class="address-inner-content">
                                <b class="bill-address">{{invoice.shippingAddr.company_name}}</b>
                                <p class="bill-address">
                                  {{invoice.shippingAddr.ship_address1}}</p>
                                <p class="bill-address">
                                  {{invoice.shippingAddr.ship_address2}}</p>
                                <p class="bill-address">
                                  {{invoice.shippingAddr.ship_city}}</p>
                                <p class="bill-address">
                                  {{invoice.shippingAddr.ship_state}} -
                                  {{invoice.shippingAddr.ship_postal_code}}</p>
                                <p class="bill-address">
                                  {{invoice.shippingAddr.ship_countrty}}</p>
                              </div>
                            </div>
                            <div class="shipper-secction mt_16">

                              <div class="address-inner-content">
                                <p class="invoice-contact">
                                  <span>Phone: {{invoice.Inovice.phone}}</span>
                                  <span style="margin-left: 4px;">Ext: {{invoice.Inovice.ext}}</span>
                                </p>
                                <!-- <p class="invoice-contact"> </p> -->
                                <p class="invoice-contact">Attention:
                                  {{invoice.Inovice.kindName}}</p>
                                <p class="invoice-contact">Email:
                                  {{invoice.Inovice.email}}</p>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div fxLayout="row">
                          <div class="orders-table">
                            <table class="invoice-table">
                              <thead>
                                <!-- <tr> -->
                                <th class="invoice-head">SL No.</th>
                                <th class="invoice-head">Description</th>
                                <th class="invoice-head">Batch No.</th>
                                <th class="invoice-head">Mfg. Date</th>
                                <th class="invoice-head">Exp. Date</th>
                                <th class="invoice-head">Quantity</th>
                                <th class="invoice-head">UOM</th>
                                <th class="invoice-head">Rate per UOM
                                  ({{invoice.Inovice.currency}})</th>
                                <th class="invoice-head">Amount
                                  ({{invoice.Inovice.currency}})</th>
                                <!-- </tr> -->
                              </thead>
                              <tbody>
                                <tr class="invoice-row"
                                  *ngFor="let product of invoice.productsData; index as productIndex;">
                                  <td class="invoice-tdata">{{productIndex+1}}</td>
                                  <td class="invoice-tdata">{{product.product_name}}
                                    <!-- <p class="invoice-name"></p> -->
                                  </td>
                                  <td class="invoice-tdata">
                                    <!-- <span *ngFor="let number of batchNumArray;let i = index">

                                                                            <span *ngIf="batchNumArray.length == 1 || i == batchNumArray.length-1 ;else batchNumbers">{{number}}
                                                                                <br>
                                                                            </span>
                                                                            <ng-template #batchNumbers>
                                                                                <span>{{number}},
                                                                                    <br>
                                                                                </span>
                                                                            </ng-template>
                                                                        </span> -->
                                    <span *ngIf="product.batch_nbr">
                                      <p class="invoice-batch">
                                        {{product.batch_nbr}}</p>
                                    </span>
                                    <span class="add-batch add-Line" title="Add Batch Quantity"
                                      *ngIf="!product.batch_nbr && blockContent && factoryPermission && !clientPermission"
                                      (click)="addBatchNumber(product)">
                                      <mat-icon>add</mat-icon>
                                      <span>Add Batch Quantity</span>
                                    </span>
                                    <span class="add-batch add-Line m_t_10" title="Edit Batch Quantity"
                                      *ngIf="(orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered') && product.batch_nbr && factoryPermission && !clientPermission"
                                      (click)="addBatchNumber(product,orders.selectedOrder.id)">
                                      <mat-icon>edit</mat-icon>
                                      <span class="edit-batch" title="Edit Batch Quantity">Edit Batch Quantity</span>
                                    </span>
                                  </td>
                                  <td class="invoice-tdata">
                                    <span *ngIf="product.batch_nbr">
                                      <p class="invoice-batch">
                                        {{product.mfd_date}}</p>
                                    </span>
                                  </td>
                                  <td class="invoice-tdata">
                                    <span *ngIf="product.batch_nbr">
                                      <p class="invoice-batch">
                                        {{product.exp_date}}</p>
                                    </span>
                                  </td>
                                  <td class="invoice-tdata">
                                    {{product.product_quantity}}</td>
                                  <td class="invoice-tdata">
                                    {{product.uom_name}}</td>
                                  <td class="invoice-tdata">
                                    {{product.product_price }}
                                  </td>
                                  <td class="invoice-tdata">
                                    {{product.product_price_total }}
                                  </td>
                                </tr>
                                <tr class="invoice-row">
                                  <td class="invoice-tdata gst-data" colspan="5" style="padding: 0;">
                                    <table class="invoice-row-table">
                                      <tbody>
                                        <tr>
                                          <td>
                                            <div class="gst-details">
                                              <span class="gst-one">GSTN
                                                TYPE: {{compnayDetails?.gstin_type}}</span>
                                              <span class="gst-two">END
                                                USE: {{compnayDetails?.end_use}}</span>
                                            </div>
                                          </td>
                                        </tr>
                                        <tr>
                                          <td>
                                            <div class="gst-details ">
                                              <span class="invoice-desc">We
                                                intend to claim rewards
                                                under
                                                Merchandise Exports from
                                                India Scheme (MEIS).We
                                                undertake
                                                to abide by the
                                                provisions
                                                of Foreign Exchange
                                                Management
                                                Act, 1999, as amended
                                                from
                                                time to time, including
                                                realization/repatriation
                                                of foreign exchange to
                                                or
                                                from India.
                                              </span>
                                            </div>
                                          </td>
                                        </tr>

                                      </tbody>
                                    </table>
                                  </td>
                                  <td class="invoice-tdata table-invoice invoice-tdata-border" colspan="4" rowspan="2">
                                    <table class="invoice-costTable">
                                      <thead>
                                        <tr>
                                          <th class="costTable-head font-normal" colspan="2">Sub Total</th>
                                          <th class="costTable-head font-normal">
                                            {{invoice.Inovice.total_amount}}
                                          </th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr>
                                          <td class="costTable-row" colspan="2">Packing Charges</td>

                                          <td
                                            *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            class="costTable-row editable" contenteditable="true"
                                            (keydown)="changeInvoicePackCharge(colIndex, $event)">
                                            {{invoice.Inovice.pack_charge }}
                                          </td>
                                          <td
                                            *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                            class="costTable-row" contenteditable="false"
                                            (keydown)="changeInvoicePackCharge(colIndex, $event)">
                                            {{invoice.Inovice.pack_charge }}
                                          </td>
                                        </tr>
                                        <tr>
                                          <td class="costTable-row" colspan="2">GST</td>

                                          <td
                                            *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            class="costTable-row editable" contenteditable="true"
                                            (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                            {{invoice.Inovice.tax_gst }}
                                          </td>
                                          <td
                                            *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')"
                                            class="costTable-row" contenteditable="false"
                                            (keydown)="changeInvoiceTaxGst(colIndex, $event)">
                                            {{invoice.Inovice.tax_gst }}
                                          </td>
                                        </tr>
                                        <!-- <tr>
                                                                                    <td class="costTable-row" colspan="2">CGST</td>

                                                                                    <td *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))" class="costTable-row" contenteditable="true" (keydown)="changeInvoiceTaxCgst(colIndex, $event)">{{invoice.Inovice.tax_csgt | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                    <td *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')" class="costTable-row" contenteditable="false" (keydown)="changeInvoiceTaxCgst(colIndex, $event)">{{invoice.Inovice.tax_csgt | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="costTable-row" colspan="2">IGST</td>

                                                                                    <td *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))" class="costTable-row" contenteditable="true" (keydown)="changeInvoiceTaxIgst(colIndex, $event)">{{invoice.Inovice.tax_igst | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                    <td *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5')" class="costTable-row" contenteditable="false" (keydown)="changeInvoiceTaxIgst(colIndex, $event)">{{invoice.Inovice.tax_igst | epiCurrency : invoice.Inovice.currency}}</td>
                                                                                </tr>-->
                                        <tr>
                                          <td class="costTable-row" colspan="2">Freight Charges</td>

                                          <td
                                            *ngIf="blockContent && factoryPermission && !((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))"
                                            class="costTable-row editable" contenteditable="true"
                                            (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                            {{invoice.Inovice.tax_others }}
                                          </td>
                                          <td
                                            *ngIf="!blockContent || !factoryPermission || (orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5')"
                                            class="costTable-row" contenteditable="false"
                                            (keydown)="changeInvoiceTaxOthers(colIndex, $event)">
                                            {{invoice.Inovice.tax_others }}
                                          </td>
                                        </tr>
                                        <tr *ngFor="let column of invoice.Inovice.extra_col; index as colIndex;">
                                          <td class="costTable-row delete">
                                            <mat-icon class="delete-icon" title="Delete"
                                            [class.disableClass]="selectedOrderStatus == 'Delivered' 
                                                                              || selectedOrderStatus == 'Cancelled' || selectedOrderStatus == 'In-transit'"
                        [class.events-none]="selectedOrderStatus == 'Delivered' 
                                                                              || selectedOrderStatus == 'Cancelled' || selectedOrderStatus == 'In-transit'"
                                              (click)="deleteLineItem(colIndex)">
                                              delete</mat-icon>
                                          </td>
                                          <td class="costTable-row cost-key"
                                            (input)="changeInvoiceExtraKey(colIndex, $event)"
                                            contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3') || (orders.selectedOrder.orders_types_id=='5'))">
                                            {{column.key}}</td>
                                          <td class="costTable-row"
                                            (keydown)="changeInvoiceExtraValue(colIndex, $event)"
                                            contenteditable="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3')  || (orders.selectedOrder.orders_types_id=='5'))">
                                            {{column.value}}</td>
                                        </tr>
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                            <div class="footer invoice-footer">
                              <div
                                *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')">
                                <span class="add-Line" (click)="addLineItem()">
                                  <mat-icon>add</mat-icon>
                                  Add Line Item
                                </span>
                              </div>
                              <span fxFlex></span>
                              <span class="total-text">Total:</span>
                              <span class="total-text"> {{invoice.Inovice.currency}}</span>
                              <span>{{invoice.totalSum }}</span>
                            </div>
                            <div class="payment-mode">

                              <p *ngIf="blockContent && factoryPermission">
                                <label>Terms of Payment:</label>
                                <mat-form-field class="custom-input" floatLabel="never">
                                  <mat-select class="payment-select" [disabled]="disablePayment"
                                    placeholder="Payment Type" [(value)]="invoice.Inovice.payment_type">
                                    <mat-option (click)="changePaymentType(pay.name)" *ngFor="let pay of paymentType"
                                      [value]="pay.name">
                                      {{ pay.name }}
                                    </mat-option>
                                  </mat-select>
                                </mat-form-field>

                              </p>
                              <div class="banking-detail">
                                <img class="logo-img" [src]='images.download_order' title="Download">
                                <a href="{{invoice.ksmAddr.bankUrl}}">Bank
                                  details</a>

                              </div>
                              <div *ngIf="activePayment">
                                <span fxFlex></span>
                                <section class="section-right">
                                  <button type="button" (click)="cancelpay()" mat-button>Cancel</button>
                                  <button type="submit" (click)="savePaymentType()" mat-raised-button>Save</button>
                                </section>
                                <div class="cb"></div>
                              </div>

                            </div>
                            <div class="add-paid">
                              <span fxFlex></span>
                              <button mat-raised-button
                                *ngIf="invoice.Inovice.invoice_status_id < '3' && !added	
                                                                                                                        && blockContent && factoryPermission && hidePaidBtn &&	
                                                                                                                        invoice.Inovice.payment_type !='Advance'"
                                (click)="paidInvoice()">Mark as paid</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- tax INVOICE -->
                <!-- <div class="inner-container invoice-container" *ngIf="!clientPermission && showDrumsList"> -->
                <!-- <div class="invoice"> -->
                <!-- <div class="invoice-icon">
                                            <img [src]='images.invoice_gray' title="Orders">{{clientPermission}}
                                        </div> -->
                <!-- <button mat-raised-button (click)="addDrums()">Add Drums</button> -->
                <!-- </div> -->
                <!-- </div> -->
                <!-- //////////// -->
                <div class="main" #packaging [class]="(packaging.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2') && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 1 ||  orders.packageStatus == 2) && !showDrumsList ">
                  <div class="inner-container" [class.collapse]="!showPackage">
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]='images.package_icon'>
                      <span>Packing Details</span>
                      <span fxFlex></span>
                      <div *ngIf="packageCompleted">
                        <a *ngIf="!clientPermission" target="_blank"
                          href="generatePackagePdf?id={{orders.selectedOrder.id}}&is_printable=1">
                          <button mat-icon-button>
                            <img [src]='images.printer_icon' title="Print">
                          </button>
                        </a>
                        <a href="generatePackagePdf?id={{orders.selectedOrder.id}}&is_printable=0">
                          <button mat-icon-button>
                            <img [src]='images.download_arrow' title="Download">
                          </button>
                        </a>

                        <!-- <button mat-icon-button *ngIf="!printPackage" (click)="printPackaging()">
                                                    <img [src]='images.printer_icon' title="Print">
                                                </button> -->
                      </div>
                      <button mat-icon-button (click)="togglePackage()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showPackage">
                        <mat-icon class="toggle-arrow" *ngIf="!showPackage">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showPackage">
                      <table class="package-details-table"
                        *ngFor="let package of orders.packageOrders.packing; index as productIndex;">
                        <tbody>
                          <!-- before batch -->

                          <tr class="product-details">
                            <td>{{productIndex+1}}</td>
                            <td>
                              <span class="product-name">{{package.productPackage.product_name}}</span>
                              <span *ngIf="!package.batchesData.length" class="remaining-txt">(Remaining Quantity
                                {{package.productPackage.productQty}}kg)</span>
                              <!-- <span class="add-batch" *ngIf="!package.batchesData.length && blockContent" (click)="addBatchNumber(package)">
                                                        <mat-icon>add</mat-icon> Add Batch Number</span> -->
                            </td>
                            <td class="v-top">
                              {{package.productPackage.productQty == 1 ? package.productPackage.productQty
                                                             : package.productPackage.productQty }}
                              {{package.productPackage.uom_name}}</td>
                          </tr>
                          <!-- after batch -->
                          <tr class="after-batch" *ngFor="let batch of package.batchesData; index as batchIndex;">
                            <td colspan="5" class="after-batch-data">
                              <mat-toolbar class="package-head">
                                <span>{{batchIndex+1}}. Batch No:
                                  {{batch.batch_nbr}}</span>
                                <!-- <span> </span> -->
                              </mat-toolbar>
                              <table class="package-table" cellpadding="0" cellspacing="0">
                                <thead>
                                  <tr>
                                    <th>SL.No</th>
                                    <th>Packing item</th>
                                    <th class="table-right">Quantity </th>
                                    <th class="table-right">Tare Weight (in kg)</th>
                                    <!-- <th class="table-right">Net Weight (in {{package?.productPackage?.uom_name}})</th> -->
                                    <th class="table-right">Net Weight (in kg)</th>
                                    <th class="table-right">Gross Weight (in kg)
                                    </th>
                                    <th class="table-right">Dimensions (HxWxD) (in
                                      {{batch?.contains[0]?.container_uom_name}})</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let container of batch.contains; index as containerIndex;">
                                    <td class="package-sno">{{containerIndex+1}}
                                    </td>
                                    <td>{{container.container_name}}</td>
                                    <td class="table-right">{{container.qty}}</td>
                                    <td class="table-right">
                                      <span class="package-weight">{{container.tar_weight_tot}}</span>
                                      <span class="package-weight">{{container?.tar_weight_str}}</span>
                                    </td>
                                    <td class="table-right">
                                      {{container.net_wgt_total}}
                                      <span
                                        class="package-weight">{{container?.net_weight_str}}</span>
                                    </td>

                                    <td class="table-right">
                                      {{container.gross_weight_total}}
                                      <!-- <span
                                        class="package-weight">({{container.qty+"x"+(container.gross_weight_total/container.qty)}})</span> -->
                                    </td>
                                    <td class="table-right">
                                      {{container.height+"x"+container.weight+"x"+container.dimensions}}
                                    </td>
                                  </tr>
                                  <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                                                    <td class="table-right" colspan="3">Total in Kgs</td>
                                                                    <td class="table-right">{{package.sum.tar_wt}}</td>
                                                                    <td class="table-right ">{{package.sum.net_wt}}</td>
                                                                    <td class="table-right gross-details">{{package.sum.gross_wt}}</td>
                                                                    <td></td>
                                                                </tr> -->
                                  <tr class="package-total" *ngIf="package.batchesData.length">
                                    <td class="table-right" colspan="3">Total (in
                                      Kgs)</td>
                                    <td class="table-right">
                                      {{batch.sum.tar_weight_tot}}</td>
                                    <td class="table-right ">
                                      {{batch.sum.net_wgt_total}}</td>
                                    <td class="table-right gross-details">
                                      {{batch.sum.gross_weight_total}}</td>
                                    <td></td>
                                  </tr>
                                </tbody>
                              </table>
                            </td>
                          </tr>

                        </tbody>
                      </table>


                      <div class="summary-footer"
                        *ngIf="(orders.packageOrders.sum && orders.packageOrders.sum.net_wt ) ">
                        <div class="summary-description" >
                          <div style="display: flex; cursor: pointer;"> 
                            <h4>Description: </h4>
                            <span (click)="descriptionEdit()" 
                            [class.disableClass]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'"
                            [class.events-none]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'">
                                <mat-icon style="font-size: 18px;width: 18px;height: 18px;position: relative;top: -1px;" mat-icon-button>edit</mat-icon>
                            </span>
                          </div>
                         
                          <!-- {{name.container_name}} -->
                          <span *ngIf="!editDescription">
                            <p style="line-height: 1.4; padding-top: 2px;">{{packageDescription}}</p>
                          </span> 
                          <div style="clear: both;"></div>
                         
                            <mat-form-field class="custom-input block-ele grid-full" floatLabel="never" *ngIf="editDescription" style="margin-top:0px; position: relative; left: -20px; top: -8px;" >
                                <textarea matInput placeholder="Enter Description" autofocus="on" style="height: 90px; line-height: 1.4; padding: 4px 10px; border-width: 2px;" rows="3" (keyup)="valChanged($event)" [(ngModel)]="packageDescription">
                                </textarea>
                               
                              </mat-form-field>
                          <!-- <p>Inner:
                                                        <span *ngFor="let data of containerName">{{data.inner_description}}</span>
                                                   </p> -->

                          <!-- <span>{{orders.packageOrders.sum?.net_wt}} Kg</span>
                                                    <p>Each Drum: </p> -->
                          <!-- <p *ngFor="let each of orders.packing"></p> -->

                          <!-- <p>Outer - HDPE Drum</p> -->
                          <div class="footer-bottom fxflex save-line-item"  fxLayout="row" *ngIf="showPackageSavePanel"
                          fxLayoutAlign="end center">
                              <span fxFlex></span>
                              <section class="section-right" style="position: relative; left: -26px;">
                                <button type="button" (click)="cancelPackageDescription()" mat-button>Cancel</button>
                                <button type="submit" (click)="editPackageDescription()" mat-raised-button>Save</button>
                              </section>
                              <div class="cb"></div>
                        </div>
                        </div>
                        <div class="summary">
                          <h4>Summary: </h4>
                          <p>Total Net Weight:
                            <span>{{orders.packageOrders.sum?.net_wt}}</span>
                          </p>
                          <p>Total Tare Weight:
                            <span>{{orders.packageOrders.sum?.tar_wt}}</span>
                          </p>
                          <p>Total Gross Weight:
                            <span>{{orders.packageOrders.sum?.gross_wt}}</span>
                          </p>
                        </div>
                       
                      </div>

                    

                    </div>

                  </div>
                </div>
                <!-- <div #uom [class]="(uom.print?'print':'no-print')" *ngIf="factoryPermission">
                  <div class="shipping-container" [class.collapse]="!showUom"
                    *ngIf="CoaDetails.length  && !showDrumsList && ((orders.packageOrders.invStatus=='2') && !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id >'2') && (orders.packageStatus == 2))">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.rocket'>
                      <span>UOM</span>
                      <span fxFlex></span>
                     
                      <button mat-icon-button (click)="toggleUom()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showUom">
                        <mat-icon class="toggle-arrow" *ngIf="!showUom">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showUom" >
                      <label>UOM:</label>
                      <mat-form-field class="custom-input" floatLabel="never">
                        <mat-select class="payment-select" [disabled]="disablePayment"
                          placeholder="UOM"  [(value)]="selectedUom">
                          <mat-option (click)="changeUomType(uom)" *ngFor="let uom of UomData"
                            [value]="uom.id">
                            {{ uom.name }}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <mat-list class="footer-bottom fxflex" *ngIf="showUOMSavePanel && blockContent"
                      fxLayout="row" fxLayoutAlign="end center">
                      <span fxFlex></span>
                      <section class="section-right">
                        <button type="button" (click)="cancelUomChange()" mat-button>Cancel</button>
                        <button type="submit" (click)="saveUomData()"
                          mat-raised-button>Save</button>
                      </section>
                      <div class="cb"></div>
                    </mat-list>
                    </div>
                  </div>
                </div> -->

                
                <!-- Primary Packaging -->
                <div class="main" #primaryPackaging [class]="(primaryPackaging.print?'print':'no-print')"
                *ngIf="(orders.selectedOrder.orders_types_id >'2') && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 1 ||  orders.packageStatus == 2) && !showDrumsList ">
                <div class="inner-container" [class.collapse]="!showPrimaryPackage">
                  <mat-toolbar class="package-toolbar">
                    <img class="logo-img" [src]='images.package_icon'>
                    <span>Primary Packing Details</span>
                    <span fxFlex></span>
                    <div *ngIf="packageCompleted">
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generatePackagePdf?id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generatePackagePdf?id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>

                      <!-- <button mat-icon-button *ngIf="!printPackage" (click)="printPackaging()">
                                                  <img [src]='images.printer_icon' title="Print">
                                              </button> -->
                    </div>
                    <button mat-icon-button (click)="togglePrimaryPackage()">
                      <img [src]='images.grey_arrow' mat-icon-button *ngIf="showPrimaryPackage">
                      <mat-icon class="toggle-arrow" *ngIf="!showPrimaryPackage">keyboard_arrow_down
                      </mat-icon>
                    </button>
                  </mat-toolbar>
                  <div class="payment-mode">

                  <div  >
                    <mat-form-field class="custom-input" floatLabel="never">
                        <label class="custom-label">UOM</label>
                      <mat-select class="payment-select" [disabled]="disablePayment"
                        placeholder="UOM"  [(value)]="selectedUom">
                        <mat-option (click)="changeUomType(uom)" *ngFor="let uom of UomData"
                          [value]="uom.id">
                          {{ uom.name }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-list class="footer-bottom fxflex" *ngIf="showUOMSavePanel && blockContent"
                    fxLayout="row" fxLayoutAlign="end center">
                    <span fxFlex></span>
                    <section class="section-right">
                      <button type="button" (click)="cancelUomChange()" mat-button>Cancel</button>
                      <button type="submit" (click)="saveUomData()"
                        mat-raised-button>Save</button>
                    </section>
                    <div class="cb"></div>
                  </mat-list>
                  </div>
                  </div>
                  <div *ngIf="showPrimaryPackage">
                    <table class="package-details-table"
                      *ngFor="let package of primaryPackageData; index as productIndex;">
                      <tbody>
                        <!-- before batch -->

                      
                        <tr class="product-details">
                          <!-- <td>{{productIndex+1}}</td> -->
                          <td>
                            <span class="product-name">{{package.container_name}}</span>
                            <!-- <span *ngIf="!package.batchesData.length" class="remaining-txt">(Remaining Quantity
                              {{package.productPackage.productQty}}kg)</span> -->
                          
                          </td>
                          <!-- <td class="v-top">
                            {{package.productPackage.productQty == 1 ? package.productPackage.productQty
                                                           : package.productPackage.productQty }}
                            {{package.productPackage.uom_name}}</td> -->
                        </tr> 
                        <tr class="after-batch" >
                          <td colspan="5" class="after-batch-data">
                            <!-- <mat-toolbar class="package-head">
                              <span>{{batchIndex+1}}. Batch No:
                                {{batch.batch_nbr}}</span>
                            </mat-toolbar> -->
                            <table class="package-table" cellpadding="0" cellspacing="0">
                              <thead>
                                <tr>
                                  <th rowspan="2">SL.No</th>
                                  <th rowspan="2">Container Name</th>
                               
                                  <th colspan="3" style="text-align: center">Container
                                  </th>
                                  <th colspan="3" style="text-align: center">Container Margin </th>
                                 
                                  <th rowspan="2" class="table-right">UOM</th>

                                </tr>
                                <tr>
                                  <th class="table-right"> Height </th>
                                  <th class="table-right"> Depth</th>
                                  <!-- <th class="table-right">Net Weight (in {{package?.productPackage?.uom_name}})</th> -->
                                  <th class="table-right"> Width</th>
                                 
                                  <th class="table-right"> Height</th>
                                  <th class="table-right"> Depth</th>
                                  <th class="table-right" style="border-right: 1px solid #d7dbe0"> Width</th>

                                </tr>
                              </thead>
                              <tbody>
                                <tr >
                                  <td class="package-sno">1
                                  </td>
                                  <td>{{package.container_name}}</td>
                                  <td class="table-right">{{package.container_height}}</td>
                                  <td class="table-right">
                                   {{package.container_depth}}
                                  </td>
                                  <td class="table-right">{{package?.container_width}}</td>
                                
                                  <td class="table-right">{{package?.container_margin_height}}</td>
                                  <td class="table-right">{{package?.container_margin_length}}</td>
                                  <td class="table-right">{{package?.container_margin_width}}</td>
                                  <td class="table-right">{{package.uom}}</td>

                                  
                                 
                                </tr>
                                <tr class="package-total" *ngIf="primaryPackageData.length">
                                  <td class="table-right" colspan="4"> </td>
                                  

                                  <td  colspan="7">
                                    Total Volume of Container (A) : <span style="float: right;">{{package.container_volume}}</span> </td>
                                 
                                 
                                </tr>

                                
                                <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                                                  <td class="table-right" colspan="3">Total in Kgs</td>
                                                                  <td class="table-right">{{package.sum.tar_wt}}</td>
                                                                  <td class="table-right ">{{package.sum.net_wt}}</td>
                                                                  <td class="table-right gross-details">{{package.sum.gross_wt}}</td>
                                                                  <td></td>
                                                              </tr> -->
                                <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                  <td class="table-right" colspan="3">Total (in
                                    Kgs)</td>
                                  <td class="table-right">
                                    {{batch.sum.tar_weight_tot}}</td>
                                  <td class="table-right ">
                                    {{batch.sum.net_wgt_total}}</td>
                                  <td class="table-right gross-details">
                                    {{batch.sum.gross_weight_total}}</td>
                                  <td></td>
                                </tr> -->
                              </tbody>
                            </table>
                          </td>
                        </tr>


                       
                        <!-- after batch -->
                        <tr class="after-batch" >
                          <td colspan="5" class="after-batch-data">
                            <!-- <mat-toolbar class="package-head">
                              <span>{{batchIndex+1}}. Batch No:
                                {{batch.batch_nbr}}</span>
                            </mat-toolbar> -->
                            <table class="package-table" cellpadding="0" cellspacing="0">
                              <thead>
                                <tr>
                                  <th>SL.No</th>
                                  <th>Packing item</th>
                                  <th class="table-right">Quantity </th>
                                  <th class="table-right">UOM</th>
                                  <!-- <th class="table-right">Net Weight (in {{package?.productPackage?.uom_name}})</th> -->
                                  <th class="table-right">Height
                                  </th>
                                  <th class="table-right">Depth</th>
                                  <th class="table-right">Width
                                  </th>
                                  <th class="table-right">Volume</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let container of package.orders.data; index as containerIndex;">
                                  <td class="package-sno">{{containerIndex+1}}
                                  </td>
                                  <td>{{container.packaging_name}}</td>
                                  <td class="table-right">{{container.quantity}}</td>
                                  <td class="table-right">
                                   {{container.uom}}
                                  </td>
                                  <td class="table-right"> {{container?.height}} </td>
                                  <td class="table-right">{{container?.depth}}</td>
                                  <td class="table-right"> {{container?.width}} </td>
                                  <td class="table-right">{{container?.volume}}</td>

                                  
                                 
                                </tr>
                                <tr class="package-total" *ngIf="primaryPackageData.length">
                                  <td class="table-right" colspan="4"></td>
                                  

                                  <td  colspan="6">
                                    Total Volume of Package (B) : <span style="float: right;">{{package.orders.orders_final_volume}}</span> </td>
                                 
                                 
                                </tr>
                                <tr class="package-total" *ngIf="primaryPackageData.length">
                                  <td class="table-right" colspan="4"></td>
                            
                                  <td colspan="6">
                                    Total Volume (A - B) : <span style="float: right;">{{package.container_final_volume}}</span> </td>
                                 
                                </tr>
                                <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                                                  <td class="table-right" colspan="3">Total in Kgs</td>
                                                                  <td class="table-right">{{package.sum.tar_wt}}</td>
                                                                  <td class="table-right ">{{package.sum.net_wt}}</td>
                                                                  <td class="table-right gross-details">{{package.sum.gross_wt}}</td>
                                                                  <td></td>
                                                              </tr> -->
                                <!-- <tr class="package-total" *ngIf="package.batchesData.length">
                                  <td class="table-right" colspan="3">Total (in
                                    Kgs)</td>
                                  <td class="table-right">
                                    {{batch.sum.tar_weight_tot}}</td>
                                  <td class="table-right ">
                                    {{batch.sum.net_wgt_total}}</td>
                                  <td class="table-right gross-details">
                                    {{batch.sum.gross_weight_total}}</td>
                                  <td></td>
                                </tr> -->
                              </tbody>
                            </table>
                          </td>
                        </tr>

                      </tbody>
                    </table>


               
                  

                  </div>

                </div>
              </div>

                <div #coa [class]="(coa.print?'print':'no-print')">
                  <div class="inner-container" [class.collapse]="!showCoa"
                    *ngIf="CoaDetails.length  && !showDrumsList && ((orders.packageOrders.invStatus=='2') && !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id >'2') && (orders.packageStatus == 2))">
                    <mat-toolbar class="package-toolbar coa-toolbar">
                      <img class="shipping-image" [src]='images.coa_small'>
                      <span>Certificate of Analysis (COA)</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateCoaPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateCoaPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleCoa()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showCoa">
                        <mat-icon class="toggle-arrow" *ngIf="!showCoa">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showCoa">
                      <div class="reports order-coa" *ngFor="let coa of CoaDetails;index as coaIndex;">
                        <table class="test-details">
                          <thead>
                            <tr>
                              <th colspan="2">certificate of analysis (COA)</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="test-product">
                                <p>
                                  <span>
                                    <b>Product Name: </b>
                                  </span>
                                  <span>{{coa.batchDt.product_name}}</span>
                                </p>
                                <p>
                                  <span>
                                    <b>Issued To: </b>
                                  </span>
                                  <span>{{coaCompanyName}}</span>
                                </p>
                              </td>
                              <td>
                                <p>
                                  <b>Stability: </b>
                                  <span>{{coa.batchReportDt.stability}}</span>
                                </p>
                                <p>
                                  <b>Country of Origin: </b>
                                  <span>{{coa.batchReportDt.country_of_origin}}</span>
                                </p>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <p>Batch No:
                                  <span>{{coa.batchDt.batch_nbr}}</span>
                                </p>
                                <p>Mfg. Date:
                                  <span>{{coa.batchDt.mfd_date  | date: 'MMM yyyy'}}</span>
                                </p>
                                <p>Exp. Date:
                                  <span>{{coa.batchDt.exp_date  | date: 'MMM yyyy'}}</span>
                                </p>
                              </td>
                              <td>
                                <p>Report No:
                                  <span>{{coa.batchReportDt.report_no}}</span>
                                </p>
                                <p>Lab Ref No:
                                  <span>{{coa.batchReportDt.lab_ref_no}}</span>
                                </p>

                              </td>
                            </tr>
                          </tbody>
                        </table>
                        <table class="test-report">
                          <thead>
                            <tr>
                              <th>No.</th>
                              <th>Tests</th>
                              <th>Result</th>
                              <th>Limits (specification)
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let coaBatches of coa.batchCoaDt;index as batchCoaIndex;">
                              <td>{{coaBatches.level}}</td>
                              <td>
                                <span>{{coaBatches.name}}</span>
                                <p class="coa-hide"
                                  *ngIf="coaBatches.name == '(withaferin A) by HPLC' && (factoryPermission && !clientPermission)"
                                  (click)="changeCoaData(coaIndex)">Hide</p>
                              </td>
                              <td [innerHtml]="coaBatches.result_label_val "
                                *ngIf="!coaBatches.flag">{{coaBatches.result_label_val}}
                              </td>
                              <td [innerHtml]="coaBatches.limits_label_val "
                                *ngIf="!coaBatches.flag">{{coaBatches.limits_label_val}}
                              </td>
                              <td [innerHtml]="coaBatches.result_label_val "
                                *ngIf="coaBatches.flag" colspan="2">
                                {{coaBatches.result_label_val}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="coa-details">

                        <p>BDL-Below detection Levels</p>
                        <p>Sample complies with the above said specifications</p>
                        <p>
                          <span>
                            <b>Storage:</b>
                          </span>
                          <span>Store in original,sealed containers at room temperature of
                            15 - 30C.Avoid light and keep away from excessive
                            humidity.</span>
                        </p>
                        <!-- *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')" -->
                        <div
                          *ngIf="blockContent && factoryPermission && !clientPermission && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')">
                          <span class="add-Line" (click)="editformCoa()">
                            <mat-icon>add</mat-icon>
                            {{ saveAddLineItem  ? "Edit Line Item" : "Add Line Item" }}
                          </span>
                        </div>
                        <div class="line-item">
                          <p *ngIf="!editable">{{orders.selectedOrder.line_item}}</p>
                          <mat-form-field class="custom-input" floatLabel="never" *ngIf="editable">
                            <input matInput min="0" max="99999999999999" oninput="validity.valid||(value='')"
                              [name]="orders.selectedOrder.line_item" placeholder="Line Item" class="price-value"
                              [(ngModel)]="orders.selectedOrder.line_item" (keyup)="onCoaLineItem($event)">
                          </mat-form-field>
                        </div>
                        <p *ngIf="conatinsMilk">
                          <b>Contains:Milk</b>
                        </p>
                        <div class="coa-sign">
                          <span>QC Analyst</span>
                          <span fxFlex></span>
                          <span>QC Manager</span>
                        </div>
                        <div class="footer-bottom fxflex save-line-item" *ngIf="coaLineItemEdit" fxLayout="row"
                          fxLayoutAlign="end center">
                          <span fxFlex></span>
                          <section class="section-right">
                            <button type="button" (click)="cancelCoaLineItem()" mat-button>Cancel</button>
                            <button type="submit" (click)="addCoaLineItem()" mat-raised-button>Save</button>
                          </section>
                          <div class="cb"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div #shipping [class]="(shipping.print?'print':'no-print')" *ngIf="factoryPermission">
                  <div class="shipping-container" [class.collapse]="!showShipping"
                    *ngIf="CoaDetails.length  && !showDrumsList && ((orders.packageOrders.invStatus=='2') && !(orders.selectedOrder.orders_types_id=='5') && (orders.selectedOrder.orders_types_id >'2') && (orders.packageStatus == 2))">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.rocket'>
                      <span>Shipping Details</span>
                      <span fxFlex></span>
                      <!-- <button mat-icon-button
                                                *ngIf="blockContent && showShipping && (orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')">
                                                <mat-icon class="edit-icon" title="Edit" mat-icon-button
                                                    (click)="editShippingDetails()">mode_edit</mat-icon>
                                            </button> -->
                      <button mat-icon-button (click)="toggleShipping()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showShipping">
                        <mat-icon class="toggle-arrow" *ngIf="!showShipping">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showShipping" >
                      <form [formGroup]="shippingForm" class="shippingForm">
                        <div fxLayout="column">
                          <div>
                            <div *ngIf="userDetails?.log_type == '2'">
                              <div class="shipping-mode">
                                <h3 class="inv-readonly">Mode Of Transport</h3>
                                <span>{{ orders.shipping_data.transport_name }}</span>
                              </div>
                              <div class="shipping-mode">
                                <h3 class="inv-readonly">Carrier</h3>
                                <span>{{ orders.shipping_data.mode_name }}</span>
                              </div>
                              <div class="shipping-mode" *ngIf="orders.shipping_data.transport_mode == 1">
                                <h3 class="inv-readonly">Airway Bill Number</h3>
                                <span>{{orders.shipping_data.shipping_id}}</span>
                              </div>
                              <div class="shipping-mode" *ngIf="orders.shipping_data.transport_mode != 1">
                                <h3 class="inv-readonly">Bill Of Lading Number</h3>
                                <span>{{orders.shipping_data.bol_id}}</span>
                              </div>
                              <div class="shipping-mode" *ngIf="orders.shipping_data.link_url">
                                <a href="{{orders.shipping_data.link_url}}" target="_blank" class="order-download">
                                  <span>Track your Order</span>
                                </a>
                              </div>
                            </div>
                          </div>
                          <div *ngIf="editShipping && blockContent" class="shipping-sec" fxLayout="row">
                            <mat-form-field class="custom-input" floatLabel="never">
                              <label class="custom-label">Mode of Transport</label>
                              <mat-select placeholder="Mode of Transport" formControlName="transport_mode"
                               [disabled]="selectedOrderStatus == 'Delivered'">
                                <mat-option (click)="selectShippingMode(transportMode)" *ngFor="let transportMode of orders.mode_of_transport"
                                  [value]="transportMode.id">
                                  {{ transportMode.name }}
                                </mat-option>
                              </mat-select>
                              <mat-error
                                *ngIf="submitShippingForm && shippingForm.controls.transport_mode.hasError('required')">
                                Please select Mode of Transport</mat-error>
                            </mat-form-field>
                            <mat-form-field class="custom-input" floatLabel="never">
                              <label class="custom-label">Carrier</label>
                              <mat-select placeholder="Carrier Type" formControlName="mode_transport_id" [disabled]="selectedOrderStatus == 'Delivered'">
                                <mat-option (click)="selectShipping()"
                                  *ngFor="let transport_id of orders.mode_transport_ids" [value]="transport_id.id">
                                  {{ transport_id.name }}
                                </mat-option>
                              </mat-select>
                              <mat-error
                                *ngIf="submitShippingForm && shippingForm.controls.mode_transport_id.hasError('required')">
                                Please select Carrier</mat-error>
                            </mat-form-field>

                          </div>
                          <div *ngIf="editShipping && blockContent" class="shipping-sec edit-section" fxLayout="row">
                            <mat-form-field *ngIf="shippingForm.controls.transport_mode.value == 1" class="custom-input"
                              floatLabel="never">
                              <label class="custom-label">Airway Bill Number</label>
                              <input matInput (keyup)="selectShipping()" maxlength="100" [readonly]="selectedOrderStatus == 'Delivered'"
                              [class.disableClass]="selectedOrderStatus == 'Delivered'"
                                placeholder="Airway Bill Number" formControlName="aws_number">
                              <mat-error
                                *ngIf="submitShippingForm && shippingForm.controls.aws_number.hasError('required')">
                                Please Enter Airway Bill Number</mat-error>
                            </mat-form-field>
                            <mat-form-field *ngIf="shippingForm.controls.transport_mode.value == 2"
                              class="custom-input mandatory" floatLabel="never">
                              <label class="custom-label mandatory">Bill Of Lading Number</label>
                              <input matInput (keyup)="selectShipping()" maxlength="100" [readonly]="selectedOrderStatus == 'Delivered'"
                              [class.disableClass]="selectedOrderStatus == 'Delivered'"
                                placeholder="Bill Of Lading Number" formControlName="bol_number">
                              <mat-error
                                *ngIf="submitShippingForm && shippingForm.controls.bol_number.hasError('required')">
                                Please Enter Bill Of Lading Number</mat-error>
                            </mat-form-field>
                            <mat-form-field *ngIf="shippingForm.controls.transport_mode.value == 15 ||
                            shippingForm.controls.transport_mode.value == 16"
                              class="custom-input mandatory" floatLabel="never">
                              <label class="custom-label mandatory">Road</label>
                              <input matInput (keyup)="selectShipping()" maxlength="100" [readonly]="selectedOrderStatus == 'Delivered'"
                              [class.disableClass]="selectedOrderStatus == 'Delivered'"
                                placeholder="Road" formControlName="road_number">
                              <mat-error
                                *ngIf="submitShippingForm && shippingForm.controls.road_number.hasError('required')">
                                Please Enter Road</mat-error>
                            </mat-form-field>
                            <div class="shipping-mode" *ngIf="orders.shipping_data.link_url && editShipping">
                              <a href="{{orders.shipping_data.link_url}}" target="_blank" class="order-download">
                                <span>Track your Order</span>
                              </a>
                            </div>
                          </div>

                          <div class="shipping-sec" fxLayout="row">
                            <div class="address-container shipping-status2">
                              <div class="image-upload" [ngClass]="{'justify': shippingAttachments.length}"
                                [class.not-allowed]="pointerEvent">
                                <div *ngIf="editShipping && blockContent" ng2FileDrop
                                  [ngClass]="{'file-over': hasDropZoneOver}" (fileOver)="fileOverBase($event)"
                                  (onFileDrop)="fileDrop($event)" [uploader]="uploader" class="file-zone"
                                  [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered'}" multiple>
                                  <input id="shippingFiles" type="file" ng2FileSelect [uploader]="uploader"
                                    (change)="fileSelected($event)" [hidden]="true" multiple />
                                  <div class="pdf-upload attachment_upload layout-column">

                                    <label for="shippingFiles">
                                      <div class="upload_post">
                                        <div class="upload_section" (click)="setAddedFilesUrl('shipping')">
                                          <mat-icon
                                            class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                            role="img" aria-hidden="true">
                                            add</mat-icon>
                                          <h3 class="contact-text">Upload</h3>
                                        </div>

                                      </div>
                                    </label>

                                  </div>
                                </div>
                                <div class="image_wrap" *ngFor="let file of shippingAttachments; let i = index">
                                  <div class="upload_post">
                                    <div class="upload_section">
                                      <a [href]="file.link_url" target="_blank">
                                        <img
                                          *ngIf="file.link_url.lastIndexOf('.pdf') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.xlsx') == -1"
                                          class="list-upload-img" [src]='file.link_url'>
                                        <div style="width: 216px; height: 200px"
                                          *ngIf="file.link_url.lastIndexOf('.pdf') > -1">
                                          <pdf-viewer [src]="file.link_url" [original-size]="false"
                                            [fit-to-page]="false" [render-text]="true" [show-all]="false" [page]="1"
                                            style="display: block; height: 200px"></pdf-viewer>
                                        </div>


                                        <ngx-doc-viewer
                                          *ngIf="file.link_url.lastIndexOf('.doc') > -1 || file.link_url.lastIndexOf('.docx') > -1 || file.link_url.lastIndexOf('.xlsx') > -1"
                                          [url]="file.link_url" viewer="google" style="width:216px;height:200px;">
                                        </ngx-doc-viewer>
                                        <div class="file-info">
                                          {{file.original_name}}
                                        </div>
                                      </a>

                                    </div>
                                    <div class="icon-section">
                                      <div class="icon-content">
                                        <span class="img-icon">
                                          <a class="click" title="Download" (click)="downloadFile(file, i, 'shipping')">
                                            <span class="material-icons">
                                              cloud_download
                                            </span>
                                          </a>
                                        </span>
                                        <span class="img-icon">
                                          <a class="click" title="Preview" (click)="openPreview(file, i, 'shipping')">
                                            <span class="material-icons">
                                              remove_red_eye
                                            </span>
                                          </a>
                                        </span>
                                        <span class="img-icon">
                                          <a class="click" title="Delete" (click)="deleteUploads(file, i, 'shipping')"
                                          [class.disableClass]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'"
                                          [class.events-none]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'">
                                            <span class="material-icons">
                                              delete_outline
                                            </span>
                                          </a>
                                        </span>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <mat-list class="footer-bottom fxflex" *ngIf="shippingActiveState && blockContent"
                            fxLayout="row" fxLayoutAlign="end center">
                            <span fxFlex></span>
                            <section class="section-right">
                              <button type="button" (click)="cancelShip()" mat-button>Cancel</button>
                              <button type="submit" (click)="saveShippingAddress(shippingForm)"
                                mat-raised-button>Save</button>
                            </section>
                            <div class="cb"></div>
                          </mat-list>

                        </div>

                      </form>
                    </div>
                  </div>
                </div>
                <!--msds form-->
                <div #msdsForm [class]="(msdsForm.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList &&  !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">

                  <div class="inner-container" [class.collapse]="!showMsds">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Original MSDS Form</span>
                      <span fxFlex></span>
                      <!--<a href="">-->
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateMSDSPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateMSDSPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printMsdsForm" (click)="printMsds()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleMsds()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showMsds">
                        <mat-icon class="toggle-arrow" *ngIf="!showMsds">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div *ngIf="showMsds" class="table-container msds-container">
                      <div class="section-1">
                        <h3 class="msds-header">Section 1: Chemical Product and Company
                          Identification</h3>
                        <p class="msds-text">Product Name:
                          {{productDetails}}</p>
                        <p class="msds-text">
                          <b>AS#:</b>
                          <span>No Data available</span>
                        </p>
                        <p class="msds-text">
                          <b>RTECS:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>TSCA:</b>
                          <span>TSCA 8(b) inventory: No products were found.</span>
                        </p>
                        <p class="msds-text">
                          <b>CI#:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Synonym: Chemical Name::
                            {{orders.productsData.data.length ? orders.productsData.data[0]?.product_name : ''}}</b>
                        </p>
                        <p class="msds-text">
                          <b>Chemical Formula:</b> N/A
                        </p>
                        <p class="msds-text">
                          <b>Chemical Family: Food Chemicals</b>
                        </p>
                        <p class="msds-text">
                          <b>Contact Information:</b>
                        </p>
                        <p class="msds-text">
                          <b>COMPANY NAME: {{compnayDetails?.name}}</b>
                        </p>
                        <p class="msds-text">
                          <b>COMPANY ADDRESS:</b>
                          <b> {{compnayDetails?.address1 != "" ? compnayDetails?.address1 + ',' : ''}}<br>
                            {{compnayDetails?.address2 != "" ? compnayDetails?.address2 + ',' : ''}}
                            <!-- <sup>rd</sup> -->
                          </b>
                        </p>
                        <p class="msds-text">
                          <b> {{compnayDetails?.city != "" ? compnayDetails?.city + ',' : ''}}</b>
                          <b> {{compnayDetails?.state != "" ? compnayDetails?.state + ',' : ''}}</b>
                        </p>
                        <p class="msds-text">
                          <b> {{compnayDetails?.country != "" ? compnayDetails?.country + ',' : ''}}</b>
                          <b> {{compnayDetails?.postal_code}}</b>
                        </p>
                      </div>
                      <div class="section-2">
                        <h3 class="msds-header">Section 2: Composition and Information on
                          Ingredients</h3>
                        <p class="msds-text">
                          <b>Composition:</b>
                        </p>
                        <p class="msds-text">
                          <span>Name</span>
                          <span>CAS#</span>
                          <span>% by Weight</span>
                        </p>
                        <p class="msds-text">
                          <b>
                            <span>{{orderFormCompanyDetails?.companyName}}</span>
                          </b>
                          <span>No Data</span>
                          <span>100</span>
                        </p>
                        <p class="msds-text">
                          <b>Toxicological Data on Ingredients:
                            {{orders.productsData.data.length ? orders.productsData.data[0]?.product_name : ''}}</b>
                        </p>
                        <p class="msds-text">LD50: N/A. LC50: N/A</p>
                      </div>

                      <div class="section-3">
                        <h3 class="msds-header">Section 3: Hazards Identification</h3>
                        <p class="msds-text">
                          <b>Potential Acute Health Effects:</b>
                          <span>Hazardous in case of eye contact (irritant) or inhalation
                            (lung irritant).</span>
                        </p>
                        <p class="msds-text">
                          <b>Potential Chronic Health Effects:</b>
                        </p>
                        <p class="msds-text">CARCINOGENIC EFFECTS: N/A</p>
                        <p class="msds-text">MUTAGENIC EFFECTS: N/A</p>
                        <p class="msds-text">TERATOGENIC EFFECTS: N/A</p>
                        <p class="msds-text">DEVELOPMENTAL TOXICITY: N/A</p>
                        <p class="msds-text">The substance is toxic to gastrointestinal tract.
                        </p>
                        <p class="msds-text">Repeated or prolonged exposure to the substance can
                          produce target organs
                          damage.
                        </p>
                      </div>

                      <div class="section-4">
                        <h3 class="msds-header">Section 4: First Aid Measures</h3>
                        <p class="msds-text">
                          <b>Eye contact:</b>
                          <span>Check for and remove any contact lenses. Do not use an eye
                            ointment.
                            Seek medical attention.</span>
                        </p>
                        <p class="msds-text">
                          <b>Skin contact: </b>
                          <span>No known effect on skin contact, rinse with water for a few
                            minutes.</span>
                        </p>
                        <p class="msds-text">
                          <b>Serious Skin contact: </b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Inhalation: </b>
                          <span>Allow the victim to rest in a well ventilated area. Seek
                            immediate medical
                            attention.
                          </span>
                        </p>
                        <p class="msds-text">
                          <b>Serious Inhalation: </b>
                          <span> N/A.</span>
                        </p>
                        <p class="msds-text">
                          <b>Ingestion: </b>
                        </p>
                        <p class="msds-text">Do not induce vomiting. Loosen tight clothing such
                          as a collar, tie, belt
                          or waistband. If the victim is not breathing, perform mouth-to-mouth
                          resuscitation. Seek immediate medical attention.</p>
                        <p class="msds-text">
                          <b>Serious Ingestion: </b>
                          <span> N/A</span>
                        </p>
                      </div>
                      <div class="section-5">
                        <h3 class="msds-header">Section 5: Fire and Explosion Data</h3>
                        <p class="msds-text">
                          <b>Flammability of the Product:</b>
                          <span>Non-flammable.</span>
                        </p>
                        <p class="msds-text">
                          <b>Auto-Ignition Temperature:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Flash Points:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Flammable Limits:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Products of Combustion:</b>
                          <span> N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Fire Hazards in Presence of Various Substances:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Explosion Hazards in Presence of Various Substances:</b>
                        </p>
                        <p class="msds-text">Risks of explosion of the product in presence of
                          mechanical impact: N/A </p>
                        <p class="msds-text">Risks of explosion of the product in presence of
                          static discharge: N/A</p>
                        <p class="msds-text">
                          <b>Fire Fighting Media and Instructions:</b>
                        </p>
                        <p class="msds-text">SMALL FIRE: Use DRY chemical powder.</p>
                        <p class="msds-text">LARGE FIRE: Use water spray, fog or foam. Do not
                          use water jet.</p>
                        <p class="msds-text">
                          <b>Special Remarks on Fire Hazards:</b>
                          <span> N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Explosion Hazards:</b>
                          <span> N/A</span>
                        </p>
                      </div>

                      <div class="section-6">

                        <h3 class="msds-header">Section 6: Accidental Release Measures</h3>
                        <p class="msds-text">
                          <b>Small Spill:</b>
                        </p>
                        <span>Use appropriate tools to put the spilled solid in a convenient
                          waste disposal
                          container. Finish cleaning by spreading water on the contaminated
                          surface
                          and dispose of according to local and regional authority
                          requirements.</span>
                        <p class="msds-text">
                          <b>Large Spill:</b>
                        </p>
                        <span>Finish cleaning by spreading water on the contaminated surface and
                          allow
                          to evacuate through the sanitary system.</span>
                      </div>

                      <div class="section-7">

                        <h3 class="msds-header">Section 7: Handling and Storage</h3>
                        <p class="msds-text">
                          <b>Precautions:</b>
                        </p>
                        <p class="msds-text">Do not breathe gas/fumes/vapour/spray. Avoid
                          contact with eyes Wear suitable
                          protective clothing. In case of insufficient ventilation, wear
                          suitable
                          respiratory equipment. If you feel unwell, seek medical attention
                          and
                          show the label when possible. Keep container tightly closed and in a
                          well-ventilated place.</p>
                        <p class="msds-text">
                          <b>Storage:</b>
                        </p>
                        <span class="msds-text">No specific storage is required.Use shelves or
                          cabinets sturdy enough to
                          bear the weight of the chemicals. Be sure that it is not necessary
                          to
                          strain to reach materials, and that shelves are not
                          overloaded.</span>
                      </div>

                      <div class="section-8">
                        <h3 class="msds-header">Section 8: Exposure Controls/Personal Protection
                        </h3>
                        <p class="msds-text">
                          <b>Engineering Controls:</b>
                          <span class="msds-text">No special ventilation requirements</span>
                        </p>
                        <p class="msds-text">
                          <b>Personal Protection:</b>
                        </p>
                        <span class="msds-text">Splash goggles. Lab coat. Vapor respirator. Be
                          sure to use an approved/certified
                          respirator or equivalent. Gloves.</span>
                        <p class="msds-text">
                          <b>Personal Protection in case of a Large Spill:</b>
                        </p>
                        <span class="msds-text">Splash goggles. Full suit. Vapor respirator.
                          Boots. Gloves. A self contained
                          breathing apparatus should be used to avoid inhalation of the
                          product.
                          Suggested protective clothing might not be sufficient; consult a
                          specialist
                          BEFORE handling this product.</span>
                        <p class="msds-text">
                          <b>Exposure Limits:</b>
                          <span class="msds-text">N/A</span>
                        </p>
                      </div>

                      <div class="section-9">
                        <h3 class="msds-header">Section 9: Physical and Chemical Properties</h3>
                        <p class="msds-text">
                          <b>Physical state and appearance:</b>
                          <span style="font-weight: normal;">Pale yellowish brown hygroscopic
                            powder</span>
                        </p>
                        <p class="msds-text">
                          <b>Odor:</b>
                          <span style="font-weight: normal;">Characteristic</span>
                        </p>
                        <p class="msds-text">
                          <b>Taste:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Molecular Weight:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Taste:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Color:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Decomposition temperature range:</b>
                          <span style="font-weight: normal;">110-120&degC</span>
                        </p>
                        <p class="msds-text">
                          <b>pH(1% soln/water):</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Boiling Point:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Melting Point:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Critical Temperature:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Specific Gravity:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Vapour Pressure:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Vapour Density:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Volatility:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Odor Threshold:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Water/Oil Dist:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Ionicity (in water):</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Dispersion Properties:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Solubility:</b>
                          <span style="font-weight: normal;">Not completely soluble in
                            water.</span>
                        </p>
                      </div>
                      <div class="section-10">
                        <h3 class="msds-header">Section 10: Stability and Reactivity Data</h3>
                        <p class="msds-text">
                          <b>Stability:</b>
                          <span style="font-weight: normal;">The product is stable.</span>
                        </p>
                        <p class="msds-text">
                          <b>Instability Temperature:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Conditions of Instability:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Incompatability with various substances:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Corrosivity:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Reactivity:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Corrosivity:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Polymerization:</b>
                          <span style="font-weight: normal;">No.</span>
                        </p>
                      </div>

                      <div class="section-11">
                        <h3 class="msds-header">Section 11: Toxicological Information</h3>
                        <p class="msds-text">
                          <b>Routes of Entry:</b>
                          <span style="font-weight: normal;">Absorbed through skin. Eye
                            contact. Inhalation.</span>
                        </p>
                        <p class="msds-text">
                          <b>Toxicity to Animals:</b>
                          <span class="msds-text">LD50:N/A</span>
                          <span class="msds-text">LC50:N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Chronic Effects on Humans:</b>
                          <span style="font-weight: normal;"> The substance is toxic to
                            gastrointestinal tract.</span>
                        </p>
                        <p class="msds-text">
                          <b>Other Toxic Effects on Humans:</b>
                          <span style="font-weight: normal;">Hazardous in case of
                            inhalation(lung irritant).</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Toxicity to Animals:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Chronic Effects on Humans:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on other Toxic Effects on Humans:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Section 12: </b>
                          <span>Ecological Information:</span>
                        </p>

                        <p class="msds-text">
                          <b>Ecotoxicity:</b>
                          <span style="font-weight: normal;">NOT APPLICABLE</span>
                        </p>
                        <p class="msds-text">
                          <b>BOD5 and COD:</b>
                          <span style="font-weight: normal;">NOT APPLICABLE</span>
                        </p>
                        <p class="msds-text">
                          <b>Products and Biodegradation:</b>
                          <span style="font-weight: normal;"> Posibly hazardous short term
                            degradation products are not likely. However,
                            long term degradation products may arise.</span>
                        </p>
                        <p class="msds-text">
                          <b>Toxicity of the Products of Biodegradation:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Remarks on Products of Biodegradation:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                      </div>

                      <div class="section-12">
                        <h3 class="msds-header">Section 13: Disposal Considerations </h3>
                        <p class="msds-text">
                          <b>Waste Disposal:</b>
                          <span style="font-weight: normal;">Land-fill</span>
                        </p>
                      </div>

                      <div class="section-13">
                        <h3 class="msds-header">Section 14: Transport Information</h3>
                        <p class="msds-text">
                          <b>DOT Classification:</b>
                          <span style="font-weight: normal;">Not a Controlled material</span>
                        </p>
                        <p class="msds-text">
                          <b>Identification:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Special Provisions for Transport:</b>
                          <span style="font-weight: normal;">N/A</span>
                        </p>
                      </div>

                      <div class="section-14">
                        <h3 class="msds-header">Section 15: Other Regulatory Information</h3>
                        <p class="msds-text">
                          <b>Federal and State Regulations:</b>
                          <span>TSCA 8(b) inventory: No products were found.</span>
                        </p>
                        <p class="msds-text">
                          <b>Other Regulations:</b>
                          <span> EINECS: This product is on the European Inventory of Existing
                            Commercial
                            Chemical Substances.</span>
                        </p>
                        <p class="msds-text">
                          <b>Other Classsifications:</b>
                        </p>
                        <p class="msds-text">
                          <b>WHIMS(Canada):</b>
                          <span> Not controlled under WHIMS(Canada).</span>
                        </p>
                        <p class="msds-text">
                          <b>DSCL (EEC)</b>
                          <br>
                          <span>R36/37-Irritating to eyes and
                            <br>respiratory system.</span>
                        </p>


                        <p class="msds-text">
                          <b>HMIS(U.S.A):</b>
                        </p>
                        <p class="msds-text">
                          <b>Health Hazard:</b>
                          <span>2</span>
                        </p>
                        <p class="msds-text">
                          <b>Fire Hazard:</b>
                          <span>1</span>
                        </p>
                        <p class="msds-text">
                          <b>Reactivity:</b>0
                        </p>
                        <p class="msds-text">
                          <b>Personal Protection:</b>
                          <span>h</span>
                        </p>
                        <p class="msds-text">
                          <b>National Fire Protection Association(U.S.A):</b>
                        </p>
                        <p class="msds-text">
                          <b>Health:</b>
                          <span>2</span>
                        </p>
                        <p class="msds-text">
                          <b>Flammability:</b>
                          <span>0</span>
                        </p>
                        <p class="msds-text">
                          <b>Reactivity:</b>
                          <span>0</span>
                        </p>
                        <p class="msds-text">
                          <b>Specific hazard:</b>
                        </p>
                        <p class="msds-text">
                          <b>Protective Equipment:</b>
                          <br>
                          <span>Gloves. Lab coat. Vapor respirator. Be sure to use an
                            approved/certified
                            respirator or equivalent. Splash goggles.</span>
                        </p>
                      </div>

                      <div class="section-15">
                        <h3 class="msds-header">Section 16: Other Information</h3>
                        <p class="msds-text">
                          <b>References:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Other Special Considerations:</b>
                          <span>N/A</span>
                        </p>
                        <p class="msds-text">
                          <b>Created:</b>
                          <span>
                            <b></b>
                          </span>
                        </p>
                        <p class="msds-text italic">The information above is believed to be
                          accurate and represents the best
                          information currently available to us. However,we make no warranty
                          of
                          merchantability or any other warranty, express or implied, with
                          respect
                          to such information, and we assume no liability resulting from its
                          use.Users
                          should make their own investigations to determine the suitability of
                          the information for theirparticular purposes.In no event shall
                          {{orderFormCompanyDetails?.shipperName}} be liable for any
                          claims,losses, or damages of any third party
                          or for lost profits or any special, indirect,
                          incidental,consequential
                          or exemplary damages, howsoever arising, even if ScienceLab.com has
                          been
                          advised of the possibility of such damages.</p>
                      </div>

                    </div>
                  </div>
                </div>
                <!--///////////////////////-->
                <!--non hazarduoud certificate-->
                <div #nonHazardous [class]="(nonHazardous.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList  && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!showNonhazardous">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Original Non Hazardous Certificate</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateHazardousPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateHazardousPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleNonHazardus()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showNonhazardous">
                        <mat-icon class="toggle-arrow" *ngIf="!showNonhazardous">
                          keyboard_arrow_down</mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showNonhazardous">
                      <table class="shippers-table-one">
                        <tr>
                          <!-- <th>AWB NO:</th> -->
                          <th>
                            {{(orders.shipping_data.transport_mode == 1) ? 'Airway Bill Number' : (orders.shipping_data.transport_mode == 15) ? 'Road'  : 'Bill Of Lading Number'}}
                          </th>
                          <th>{{(orders.shipping_data.transport_mode == 1) ? 'AIRPORT OF DEPT' : 'PORT OF DEPT'}}</th>
                          <th>{{(orders.shipping_data.transport_mode == 1) ? 'AIRPORT OF DEST' : 'PORT OF DEST'}}</th>
                        </tr>
                        <tr>
                          <!-- <td>{{orders.shipping_data.shipping_id}}</td> -->
                          <td>
                            {{(orders.shipping_data.transport_mode == 1)? orders.shipping_data.shipping_id : orders.shipping_data.bol_id}}
                          </td>
                          <!-- <td *ngIf="orders.shipping_data.transport_mode != 1">{{orders.shipping_data.bol_id}}</td> -->
                          <td>Hyderabad</td>
                          <td *ngFor="let invoice of orders.invoice">
                            {{invoice.shippingAddr.ship_countrty}}</td>
                        </tr>
                      </table>
                      <div class="certification-text">
                        <p>This is to certify that the articles/substances of this shipment are
                          properly
                          described by the name that they are not listed in the current
                          edition
                          of IATA Dangerous goods. Regulation (DGR). Alphabetical List
                          Dangerous
                          Goods. Nor do they correspond to any of the hazard classes appearing
                          in the DGR. Section 3. Classification of Dangerous. i.e. not
                          restricted.
                          Further more the shipper confirms that the goods are in proper
                          condition
                          for transportation on passenger carrying aircraft (DGR.para 8.1.23).
                        </p>
                      </div>
                      <table class="shippers-table-two" *ngIf="orders?.packageOrders?.packing?.length">
                        <tr>
                          <td>Marks & Nos/Batch No.</td>
                          <td>Proper Description of Goods(Trade name not permitted)Specify
                            each</td>
                          <td>Net quantity per</td>
                        </tr>
                        <tr *ngFor="let package of orders.packageOrders.packing; index as productIndex;">
                          <td class="shippers-table-data">
                            <p *ngFor="let batch of package.batchesData; index as batchIndex;">
                              <span>{{batch.batch_nbr}}</span>
                            </p>
                          </td>
                          <td class="shippers-table-data">
                            <p *ngFor="let batch of package.batchesData; index as batchIndex;">
                              <span>{{package.productPackage.product_name}}</span>
                            </p>
                          </td>
                          <td class="shippers-table-data">
                            <p *ngFor="let batch of package.batchesData; index as batchIndex;" class="batch-qty">
                              <span *ngFor="let container of batch.contains; index as containerIndex;">NT.WT
                                :{{container.net_wgt_total}} {{batch.uom_name}}<br> GR.WT:
                                {{container.gross_weight_total}} {{batch.uom_name}}

                              </span>
                            </p>
                          </td>
                        </tr>
                      </table>
                      <div class="shipper_address">
                        <p class="shipper-head">Packed in {{orders?.packageOrders?.container_string}}</p>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head"> Name and Address of Shipper:</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.name}}</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.address1}}</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.address2}}</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.city}}</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.state}}</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.country}}</p>
                        <p class="shipper-head-address">
                          {{compnayDetails?.postal_code}}</p>
                      </div>


                      <div class="authorized-signature">
                        <h4 class="authorized-head">{{compnayDetails?.name}}
                        </h4>
                        <h4 class="authorized-head">Authorized Signatory</h4>
                      </div>
                      <div class="certification-text">
                        <p>To be completed in duplicate</p>
                        <div class="distribution">
                          <p>Distribution:</p>
                        </div>
                        <div class="distribution">
                          <p>One copy to accompany the AWB One copy to be filed at airport of
                            departure(with AWB copy).</p>
                        </div>
                        <p>Fore 3254 Version 1987.</p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--/////////-->
                <!--form sdf-->
                <div #Formsdf [class]="(Formsdf.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!showSdf">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Original Form - SDF</span>
                      <span fxFlex></span>
                      <button mat-icon-button *ngIf="blockContent && (orders.selectedOrder.status != 'In-transit' && 
                                                orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered') &&
                                                showEditIcon">
                        <mat-icon class="edit-icon" title="Edit" mat-icon-button (click)="editformSdf()">mode_edit
                        </mat-icon>
                      </button>
                      <!--<a href="">-->
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateSdfPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateSdfPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printFormSdf" (click)="printSdf()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleSdf()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showSdf">
                        <mat-icon class="toggle-arrow" *ngIf="!showSdf">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showSdf" [formGroup]="sdfFormDates">
                      <div class="scomat-address">
                        <div class="scomat-add shipper_address">
                          <div class="shipper-head-address pos_rel">Shipping Bill No:
                            <a>{{getSdfData?.shipping_bill_no}}</a>
                            <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="editable" style="margin-top: 16px !important;
    margin-left: 4px;">
                              <input matInput min="0" max="99999999999999" oninput="validity.valid||(value='')"
                                [name]="sdfData.shipping_bill_no" placeholder="Bill No." class="price-value"
                                formControlName="shipping_bill_no">
                            </mat-form-field>
                            <!-- <p class="bill-error" *ngIf="noShippingBill && !sdfData.shipping_bill_no">Please Enter Shipping Bill No.</p> -->
                          </div>

                          <p class="shipper-head-address">Declaration under Foreign Exchange
                            Regulation Act, 1973</p>
                        </div>
                        <div class="scomat-date shipper_address">
                          <div class="shipper-head-address export-inline-check">Date:
                            <a>
                              {{getSdfData?.entry_date | date: 'MMM dd, yyyy'}}</a>
                          </div>

                          <div class="fxFlex custom-date-container pdf-date" *ngIf="editable">
                            <input class="datepicker" (focus)="openCalendar(picker1)" readonly="true"
                              (click)="openCalendar(picker1)" formControlName="entry_date" [matDatepicker]="picker1"
                              placeholder="Date">
                            <mat-datepicker-toggle matSuffix [for]="picker1">
                            </mat-datepicker-toggle>
                            <mat-datepicker #picker1 startView="year"></mat-datepicker>
                          </div>
                          <!-- <p class="date-error" *ngIf="noShippingDate && !sdfData.entry_date">Please select Entry date.</p> -->
                        </div>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address">
                          <b>1</b>
                          <span class="sdf-rule">We hereby declare that We are the SELLER of
                            the goods in respect of which
                            this declaration is made and that the particulars given in the
                            Shipping
                            Bill No. : {{getSdfData?.shipping_bill_no}} Date:{{getSdfData?.entry_date
                                                        | date: 'MMM dd, yyyy'}} are True and that </span>
                        </p>
                        <p class="shipper-head-address">
                          <b>a*</b>
                          <span class="sdf-rule">the value as contracted with the buyer is
                            same as the full export value
                            declared in the above shipping bills.</span>
                        </p>
                        <p class="shipper-head-address">
                          <b>b*</b>
                          <span class="sdf-rule">the full export value of the goods is not
                            ascertainable at the time of export and that the value declared
                            is that which We, having regard to the
                            prevailing market conditions, expect to receive on the sale of
                            goods in the overseas market.</span>
                        </p>
                        <p class="shipper-head-address">
                          <b>2</b>
                          <span class="sdf-rule">We undertake that We will deliver to the bank
                            named herein the Foreign
                            exchange representing the full export value of the goods on or
                            before
                            @ in the manner prescribed in Rule 9 of the Foreign Exchange
                            Regulation
                            Rules, 1974.</span>
                        </p>
                        <p class="shipper-head-address">
                          <b>3</b>
                          <span class="sdf-rule">We further declare that We are resident in
                            India and We have a place
                            of business in India</span>
                        </p>
                        <p class="shipper-head-address">
                          <b>4</b>
                          <span class="sdf-rule">We are not in Caution List of the Reserve
                            Bank of India.</span>
                        </p>
                      </div>

                      <div class="scomat-date shipper_address">
                        <div class="shipper-head-address export-inline-check">Date:
                          <a *ngIf="!editable">
                            {{getSdfData?.check_date | date: 'MMM dd, yyyy'}}</a>
                        </div>

                        <div class="custom-date-container pdf-date" *ngIf="editable">
                          <input class="datepicker" readonly="true" (focus)="openCalendar(picker2)"
                            (click)="openCalendar(picker2)" formControlName="check_date" [matDatepicker]="picker2"
                            placeholder="Date">
                          <mat-datepicker-toggle matSuffix [for]="picker2">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker2 startView="year"></mat-datepicker>
                        </div>
                        <!-- <p class="date-error" *ngIf="noSdfDate && !sdfData.check_date">Please Enter check date.</p> -->
                      </div>
                      <div class="authorized-signature">
                        <p class="authorized-head declaration-left">For
                          {{compnayDetails?.name}}</p>
                        <p class="authorized-head declaration-left">Authorised Signatory</p>
                      </div>
                      <div class="footer-bottom fxflex" *ngIf="editable" fxLayout="row" fxLayoutAlign="end center">
                        <span fxFlex></span>
                        <section class="section-right">
                          <button type="button" (click)="cancelsdf()" mat-button>Cancel</button>
                          <button type="submit" (click)="addSdfData()" mat-raised-button>Save</button>
                        </section>
                        <div class="cb"></div>
                      </div>

                    </div>


                  </div>

                </div>
                <!--////////////////////////////-->

                <!--Export value declaration-->
                <div #Exportvalue [class]="(Exportvalue.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!showExportvalue">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Original Export Value Declaration</span>
                      <span fxFlex></span>
                      <button mat-icon-button *ngIf="blockContent && orders.companyShpAddrDt.ksm_postal_code != 509301 && 
                                                (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && 
                                                orders.selectedOrder.status != 'Delivered') &&
                                                showEditIcon">
                        <mat-icon class="edit-icon" title="Edit" mat-icon-button (click)="editExportValue()">mode_edit
                        </mat-icon>
                      </button>
                      <!--<a href="">-->
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateOrigExportPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateOrigExportPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printExport" (click)="printExportValue()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleExportValue()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showExportvalue">
                        <mat-icon class="toggle-arrow" *ngIf="!showExportvalue">
                          keyboard_arrow_down</mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showExportvalue">
                      <div class="shipper_address">
                        <p class="shipper-head-address">(see Rule 7 of Customs Valuation
                          (Determination of Value of Export Goods)
                          Rules, 2007)
                        </p>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address">1. Shipping Bill No. & Date:-
                          {{getSdfData?.shipping_bill_no}} & {{getSdfData?.entry_date}}</p>
                        <p class="shipper-head-address" *ngFor="let invoice of orders.invoice">
                          2. Invoice No. & Date:- {{invoice.Inovice.inv_nbr}}, Dt
                          {{invoice.Inovice.date_added}}</p>
                        <p class="shipper-head-address">3. Nature of Transaction:</p>
                        <div class="export-checkbox">
                          <span class="shipper-head-address check-space">Sale </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                              checked="true">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">Sale on consignment
                            Basis </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                              [disabled]="disabled">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">Gift </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                        </div>
                        <div class="export-checkbox">
                          <span class="shipper-head-address check-space">Sample </span>
                          <span class="shipper-head-address check-space">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">Other </span>
                          <span class="shipper-head-address">
                            <!-- checked="true" -->
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                        </div>

                        <p class="shipper-head-address">4. Method of Valuation:</p>
                        <div class="export-checkbox">
                          <span class="shipper-head-address">(See Export Valuation
                            Rules)</span>
                          <span class="shipper-head-address check-space">Rule3 </span>
                          <span>
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                              checked="true">
                            </mat-checkbox>
                          </span>
                          <!--<mat-checkbox class="export-checklist" checked="true"></mat-checkbox>-->
                          <span class="shipper-head-address check-space">Rule4</span>
                          <span>
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">Rule5</span>
                          <span>
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">Rule6</span>
                          <span>
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                        </div>
                        <p class="shipper-head-address">5. Whether Seller and Buyer are related
                        </p>
                        <div class="export-checkbox">
                          <span class="shipper-head-address check-space">Yes </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">No </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" checked="true"
                              (click)="checkboxDisable($event)"></mat-checkbox>
                          </span>
                        </div>


                        <p class="shipper-head-address">6. If yes, whether relationship has
                          influenced the price </p>
                        <div class="export-checkbox">
                          <span class="shipper-head-address check-space">Yes </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                            </mat-checkbox>
                          </span>
                          <span class="shipper-head-address check-space">No </span>
                          <span class="shipper-head-address">
                            <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                              checked="true">
                            </mat-checkbox>
                          </span>
                        </div>

                        <p class="shipper-head-address">7. Terms of Payment:
                          <span class="shipper-head-address"
                            *ngFor="let invoice of orders.invoice">{{invoice.Inovice.payment_type}}</span>
                        </p>
                        <p class="shipper-head-address">8. Terms of Delivery:
                          <span class="shipper-head-address">Door to Door</span>
                        </p>
                        <p class="shipper-head-address">9. Previous exports of identical/similar
                          goods,if any</p>
                        <p class="shipper-head-address">Shipping Bill No.
                          <span>{{getExportData?.e_shipping_bill_no || ''}}</span>
                          and Date: {{getExportData?.e_entry_date || ''}}
                          <!-- <span
                                                        *ngIf="orders.companyShpAddrDt.ksm_postal_code != 509301">{{getExportData?.e_entry_date || ''}}</span> -->
                        </p>
                        <mat-form-field style="position: relative;top: 12px; margin-right: 4px;"
                          class="custom-input pdf-feild" floatLabel="never" *ngIf="editExport">
                          <input matInput min="0" max="99999999999999" oninput="validity.valid||(value='')"
                            placeholder="Bill No." class="price-value" [(ngModel)]="exportValue.e_shipping_bill_no">
                        </mat-form-field>
                        <div class="custom-date-container pdf-date" *ngIf="editExport">
                          <input class="datepicker" readonly="true" (focus)="openCalendar(picker3)"
                            (click)="openCalendar(picker3)" [(ngModel)]="exportValue.e_entry_date"
                            [matDatepicker]="picker3" placeholder="Date">
                          <mat-datepicker-toggle matSuffix [for]="picker3">
                          </mat-datepicker-toggle>
                          <mat-datepicker #picker3 startView="year"></mat-datepicker>
                        </div>
                        <p class="shipper-head-address">10. Any other relevant information
                          (Attach separate sheet, if necessary)</p>
                      </div>
                      <div class="shipper_address">
                        <h4 class="export-declaration">DECLARATION</h4>
                        <p class="shipper-head-address">1. We hereby declare that the
                          information furnished above is true, complete
                          and correct in every respect</p>
                        <p class="shipper-head-address">2. We also undertake to bring to the
                          notice of proper officer any particulars
                          which subsequently come to our knowledge which will have bearing on
                          a
                          valuation
                        </p>
                        <p class="shipper-head-address">Place :
                          <span>Hyderabad</span>
                        </p>
                        <p class="shipper-head-address">Date :
                          <span>{{getSdfData?.check_date | date: 'MMM dd, yyyy'}}</span>
                        </p>
                      </div>
                      <div class="authorized-signature">
                        <p class="authorized-head declaration-left">For
                            {{compnayDetails?.name}}</p>
                        <p class="authorized-head declaration-left">Authorized Signatory</p>
                      </div>
                      <div class="footer-bottom fxflex" *ngIf="editExport" fxLayout="row" fxLayoutAlign="end center">
                        <span fxFlex></span>
                        <section class="section-right">
                          <button type="button" (click)="cancelExport()" mat-button>Cancel</button>
                          <button type="submit" (click)="addExportValueData()" mat-raised-button>Save</button>
                        </section>
                        <div class="cb"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <!--///////////////////////////////////-->
                <!--declaration-->
                <div #Declaration [class]="(Declaration.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList  && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container declaration-section" [class.collapse]="!showDeclaration">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Declaration</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateDeclarationPdf?id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateDeclarationPdf?id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printDecl" (click)="printDeclaration()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleDeclaration()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showDeclaration">
                        <mat-icon class="toggle-arrow" *ngIf="!showDeclaration">
                          keyboard_arrow_down</mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showDeclaration">
                      <div class="shipper_address declaration-one">
                        <p class="shipper-head-address">This is to declare that this consignment
                          contains {{productDetails}}, which is
                          non-hazardous.</p>
                      </div>

                      <div class="authorized-signature">
                        <p class="authorized-head declaration-left">For
                            {{compnayDetails?.name}}</p>
                        <p class="authorized-head declaration-left">Authorized Signatory</p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--////////////////////////-->
                <!--shippers letter of instruction-->
                <div #Shippersletter [class]="(Shippersletter.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!showShippers">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Shipper's Letter of Instruction</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateShipperPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateShipperPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printShipper" (click)="printShippersLetter()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleShippers()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showShippers">
                        <mat-icon class="toggle-arrow" *ngIf="!showShippers">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showShippers">
                      <!--<div class="shipper_address">
                                        <p class="shipper-head-address">We are exporting KSM-66 ASHWAGANDHA to the <b>Throne Research</b></p>
                                    </div>-->
                      <table class="shippers-table">
                        <tr>
                          <!-- <td colspan="6" class="shippers-date">Date: {{orders.selectedOrder.date_added}} </td> -->
                          <td colspan="6" class="shippers-date">Date:
                            {{getSdfData?.check_date}} </td>


                        </tr>
                        <tr>
                          <td colspan="1" class="shippers-date">
                            <p class="shippers-text">AWB NO:
                              {{orders.shipping_data.shipping_id}}</p>
                            <p class="shippers-text">FRT.FORWARDER / CO_LOADER / COURIER:
                            </p>
                          </td>
                          <td colspan="2">
                            <p class="shippers-text" *ngFor="let invoice of orders.invoice">
                              INV.NO. {{invoice.Inovice.inv_nbr}}</p>
                            <p class="shippers-text">PAN NO.:
                              {{compnayDetails?.pan_no ? compnayDetails?.pan_no : ''}}</p>
                          </td>
                          <td colspan="3">
                            <p class="shippers-text">IEC NO.*
                                {{compnayDetails?.iec_no ? compnayDetails?.iec_no : ''}}</p>
                            <p class="shippers-text">AD CODE NO.:
                                {{compnayDetails?.add_code_no ? compnayDetails?.add_code_no : ''}}</p>
                          </td>
                        </tr>
                        <!-- <tr>
                                                <td colspan="1" style="border-right:none;"></td>
                                                <td colspan="5">
                                                    <p class="shippers-text shipper-hdng">CONTRACT TYPE* (tick one) <b>(MANDATORY FIELD)</b></p>
                                                </td>
                                            </tr> -->
                        <tr>
                          <td colspan="1">
                            <p class="shippers-text shipper-hdng">SHIPPER</p>
                            <!-- <p class="shippers-text shipper-hdng">
                              {{orderFormCompanyDetails?.shipperName}}</p>
                            <p class="shippers-text">
                              #{{orderFormCompanyDetails?.shipperAddressPart1}}</p>
                            <p class="shippers-text">
                              {{orderFormCompanyDetails?.shipperAddressPart2}}</p>
                            <p class="shippers-text">
                              {{orderFormCompanyDetails?.shipperAddressPart3}}.</p> -->
                            <!-- <p class="shippers-text">#{{orders.shippingAddr.ship_address1}}</p>
                                                        <p class="shippers-text">{{orders.shippingAddr.ship_address2}}</p>
                                                        <p class="shippers-text">{{orders.shippingAddr.ship_address3}}.</p> -->
                            <!-- <p class="shippers-text">{{orders.companyShpAddrDt.ksm_countrty}} - {{orders.companyShpAddrDt.ksm_postal_code}}</p> -->

                            <p class="shippers-text shipper-hdng">{{orders.companyShpAddrDt.ksm_address1}}</p>
                                                        <p class="shippers-text">{{orders.companyShpAddrDt.ksm_address2}},</p>
                                                        <p class="shippers-text">{{orders.companyShpAddrDt.ksm_city}},</p>
                                                        <p class="shippers-text">{{orders.companyShpAddrDt.ksm_state}},</p>
                                                        <p class="shippers-text">{{orders.companyShpAddrDt.ksm_countrty}} - {{orders.companyShpAddrDt.ksm_postal_code}}</p>

                          </td>
                          <td colspan="5" class="check-data">
                            <table class="shipper-currency">
                              <tbody>
                                <tr>
                                  <td colspan="3">
                                    <p class="shippers-text shipper-hdng">CONTRACT
                                      TYPE* (tick one)
                                      <b>(MANDATORY FIELD)</b>
                                    </p>
                                  </td>
                                </tr>
                                <tr>
                                  <td class="w_25">
                                    <p class="shippers-text shipper-hdng checkbox-input">
                                      <span>
                                        <mat-checkbox class="export-checklist uncheck"
                                          (click)="checkboxDisable($event)">
                                        </mat-checkbox>
                                      </span>
                                      <span class="check-lbl">FOB</span>
                                    </p>
                                  </td>
                                  <td>
                                    <p class="shippers-text shipper-hdng  checkbox-input">
                                      <span>
                                        <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                                          checked="true"></mat-checkbox>
                                      </span>
                                      <span class="cost-name check-lbl">C&F
                                        (breakup) COST FREIGHT </span>
                                    </p>
                                  </td>
                                  <td>
                                    <p class="shippers-text shipper-hdng checkbox-input">
                                      <span>
                                        <mat-checkbox class="export-checklist uncheck"
                                          (click)="checkboxDisable($event)">
                                        </mat-checkbox>
                                      </span>
                                      <span class="cost-name check-lbl">CIF
                                        (breakup) COST INSURANCE FREIGHT</span>
                                    </p>
                                  </td>
                                </tr>
                                <tr>
                                  <td colspan="5">
                                    <p class="shippers-text shipper-hdng p_t_40 checkbox-input">
                                      <span>Currency:</span>
                                      <span>
                                        <mat-checkbox class="export-checklist" (click)='editShippersLetter()'>
                                        </mat-checkbox>
                                      </span>
                                      <span class="check-lbl">USD/OTHER</span>
                                    </p>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                          <!-- <td colspan="2">
                                                    <p class="shippers-text shipper-hdng">
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)" checked="true"></mat-checkbox></span>
                                                        <span>FOB</span>
                                                    </p>
                                                    <p class="shippers-text shipper-hdng">
                                                        <span>Currency</span>
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"></mat-checkbox></span>
                                                        <span>USD/OTHER</span>
                                                    </p>
                                                </td>
                                                <td colspan="2">
                                                    <p class="shippers-text shipper-hdng">
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)" checked="true"></mat-checkbox></span>
                                                        <span>C&F</span>
                                                    </p>
                                                </td>
                                                <td colspan="1">
                                                    <p class="shippers-text shipper-hdng">
                                                        <span><mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"></mat-checkbox></span>
                                                        <span>CIF</span>
                                                    </p>
                                                </td> -->
                        </tr>
                        <tr>
                          <td colspan="1">
                            <p class="shippers-text shipper-hdng">CONSIGNEE</p>
                            <p class="shippers-text shipper-hdng">
                              {{orders.shippingAddr.company_name}}</p>
                            <p class="shippers-text">{{orders.shippingAddr.ship_address1}}
                            </p>
                            <p class="shippers-text">{{orders.shippingAddr.ship_address2}}
                            </p>
                            <p class="shippers-text">{{orders.shippingAddr.ship_city}}</p>
                            <p class="shippers-text">{{orders.shippingAddr.ship_state}}</p>
                            <p class="shippers-text">{{orders.shippingAddr.ship_countrty}}.
                            </p>
                            <p class="shippers-text">
                              {{orders.shippingAddr.ship_postal_code}}</p>

                          </td>
                          <td colspan="5" style="padding:0px;">

                            <table class="table-export-type">
                              <tr>
                                <td colspan="5">
                                  <p class="shippers-text shipper-hdng">TYPE OF
                                    SHIPPING BILL
                                    <b>(MANDATORY FIELD)</b>
                                  </p>
                                </td>
                              </tr>
                              <tr>
                                <td colspan="2">
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>DRAWBACK</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>NON-DRAWBACK</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>DEPB</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>DEEC</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>EPCG</span>
                                  </p>
                                </td>
                                <td colspan="3">
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>DFIA</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>NFEI</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>RE-EXPORT</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                      </mat-checkbox>
                                    </span>
                                    <span>100% EOU</span>
                                  </p>
                                  <p class="shippers-text shipper-hdng">
                                    <span>
                                      <mat-checkbox checked="true" class="export-checklist uncheck"
                                        (click)="checkboxDisable($event)" checked="true"></mat-checkbox>
                                    </span>
                                    <span>MEIS</span>
                                  </p>

                                </td>
                              </tr>
                            </table>

                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text draw-backs">Duty drawback details
                              (mandatory only for drawback shipping bill)</p>
                            <p class="shippers-text draw-backs">drawback bank-</p>
                            <p class="shippers-text draw-backs">drawback pnb ac-</p>
                            <p class="shippers-text draw-backs">drawback sr. no-</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="1" class="shipper-second-table">
                            <table class="shippers-inner-table">
                              <tr>
                                <td>
                                  <p>Destination</p>
                                  <p *ngFor="let invoice of orders.invoice">
                                    {{invoice.shippingAddr.ship_countrty}}</p>
                                </td>
                                <td>
                                  <p>No.of packages</p>
                                  <p>{{orders.packageOrders.count}}</p>
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <p>Net Weight</p>
                                  <p>{{orders.packageOrders.sum?.net_wt}}</p>
                                </td>
                                <td>
                                  <p>Gross Weight</p>
                                  <p>{{orders.packageOrders.sum?.gross_wt}}</p>
                                </td>

                              </tr>
                            </table>
                          </td>
                          <td colspan="5" class="shipper-third-table">
                            <p class="shippers-text shipper-hdng">BANK DETAILS (MANDATORY
                              FOR ALL TYPE OF SHIPPING BILL EXCEPT NFE)</p>
                            <p>
                              <span class="shippers-text shipper-hdng">BANK NAME AND
                                ADDRESS:</span>
                              <span>{{compnayDetails?.name}}</span>
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng">AD CODE:</span>
                              <span>{{compnayDetails?.add_code}}</span>
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng">EEFC Ac No:</span>
                              <span>{{compnayDetails?.eefc_ac_no}}</span>
                            </p>
                            <p>
                              <span class="shippers-text shipper-hdng">CURRENT AC
                                NO.</span>
                              <span>{{compnayDetails?.current_ac_no}}</span>
                            </p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">DESCRIPTION OF GOODS</p>
                            <p class="shippers-text">
                              {{productDetails}}</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">DOCUMENTS ENCLOSED</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <div class="shippers-list w_48">
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                                    checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">AWB (DULY COMPLETE)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                                    checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">INVOICE (3 COPIES)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                                    checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">PACKING LIST (3 COPIES)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                                    checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">BUYER ORDER</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)"
                                    checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">GSP/COF/FORM A</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">ORIGINAL, DUPLICATE VISA (WITH 2
                                  COPIES)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">EXPORT CERTIFICATES (WITH 2
                                  COPIES)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">PHOTOCOPY OF IEC</span>
                              </p>
                            </div>
                            <div class="shippers-list w_44">
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">RCMC (REGISTRATION CUM
                                  MEMBERSHIP CERTIFICATE)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">ARE-1
                                  <b>(MANDATORY FOR EOU TYPE SHIPPING BILL)</b>
                                </span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">ANY EXPORT PROMOTION COUNCIL
                                  REGN. COPY</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">US IMPORTANT CHECKLIST (FOR
                                  TEXTILE SHIPMENTS TO USA)</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">CENVAT FORM
                                  <b>(MANDATORY FOR DRAWBACK TYPE SHIPPING BILL)</b>
                                </span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" checked="true"></mat-checkbox>
                                </span>
                                <span class="check-lbl">SDF FORM</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">ADVANCE PAYMENT
                                  PROOF/FIRC</span>
                              </p>
                              <p class="shippers-text checklist-size checkbox-input">
                                <span>
                                  <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                  </mat-checkbox>
                                </span>
                                <span class="check-lbl">GR WAVIER FORM
                                  <b>(MANDATORY FOR REEXPORT TYPE SHIPPING BILL)</b>
                                </span>
                              </p>
                            </div>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text draw-backs">with pan no.</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text draw-backs">any other documents:</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">
                              <span class="shippers-text draw-backs">gsp required: </span>
                              <span class="shippers-text">(TO BE PREPARED)</span>
                              <span>
                                <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                </mat-checkbox>
                              </span>
                              <span class="check-label-pad">Yes</span>
                              <span>
                                <mat-checkbox class="export-checklist uncheck" (click)="checkboxDisable($event)">
                                </mat-checkbox>
                              </span>
                              <span class="check-label-pad">No</span>

                            </p>
                            <p class="shippers-text shipper-hdng">
                              <span class="shippers-text draw-backs">gsp registration
                                no.</span>
                              <span>----------</span>
                              <span>(MANDATORY TO PREPARE GSP)</span>
                            </p>
                            <p class="shippers-text">VISIT
                              <a href="http://www.eicindia.org/" target="_blank">www.eicindia.org</a> TO GET GSP
                              REGISTRATION NO.</p>
                            <p class="shippers-text">* Preparation of GSP / Endorsement etc.
                              are not the part of services
                              provided by FedEx, hence a cheque/DD of
                              <b>INR 350 in favour of "JEENA AND COMPANY"</b> need to be
                              enclosed
                              along with shipment documents. if preparing GSP for the
                              first
                              time than STAMP of the shipper is also required.</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text">ANY OTHER HANDLING INFORMATION</p>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <p class="shippers-text shipper-hdng">MANDATORY REQUIREMENTS FOR
                              BELOW SHIPPING TYPES</p>
                          </td>
                        </tr>
                        <tr>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">DRAWBACK</p>
                            <p class="shippers-text">CENVAT FORM</p>
                            <p class="shippers-text">(with comm. divisor)</p>
                            <p class="shippers-text">ANEX 7 (for leather)</p>
                            <p class="shippers-text">NET WT OF ITEMS</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">DEEC/DFIA</p>
                            <p class="shippers-text">ORIGINAL CONSUMER</p>
                            <p class="shippers-text">COPY OF REGISTRATION</p>
                            <p class="shippers-text">IEC Copy</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">DEP</p>
                            <p class="shippers-text">DEPB</p>
                            <p class="shippers-text">IEC Copy</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">EPCG</p>
                            <p class="shippers-text">EPCG LICENCE</p>
                            <p class="shippers-text">COPY OF REG.SHEET</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">RE-EXPORT</p>
                            <p class="shippers-text">Original Bill of Entry</p>
                            <p class="shippers-text">Original Important Invoice</p>
                            <p class="shippers-text">GR Wavier (Bank NOC)</p>
                            <p class="shippers-text">Chartered Engg. Certificate</p>
                          </td>
                          <td class="shipping-types">
                            <p class="shippers-text shipper-hdng">100% EOU</p>
                            <p class="shippers-text">Anex C1 ARE 1</p>
                            <!-- <p class="shippers-text">ARE 1</p> -->
                          </td>
                        </tr>
                        <tr>
                          <td colspan="6">
                            <div class="authorized-signature">
                              <p class="authorized-head declaration-left">For
                                {{compnayDetails?.name}}</p>
                              <p class="authorized-head declaration-left">Authorized
                                Signatory</p>
                            </div>
                          </td>
                        </tr>
                      </table>
                    </div>
                    <div class="footer-bottom fxflex" *ngIf="editable" fxLayout="row" fxLayoutAlign="end center">
                      <span fxFlex></span>
                      <section class="section-right">
                        <button type="button" (click)="cancelsdf()" mat-button>Cancel</button>
                        <button type="submit" (click)="addSdfData()" mat-raised-button>Save</button>
                      </section>
                      <div class="cb"></div>
                    </div>
                  </div>
                </div>
                <!--////////////////////////-->
                <!--adc sheet-->
                <div #Adcsheet [class]="(Adcsheet.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div id="adc-landscape" class="inner-container adc-sheet" [class.collapse]="!showAdcsheet">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>ADC Sheet</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateAdcPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateAdcPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <button mat-icon-button (click)="toggleAdcsheet()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showAdcsheet">
                        <mat-icon class="toggle-arrow" *ngIf="!showAdcsheet">keyboard_arrow_down
                        </mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showAdcsheet">
                      <div class="adc-form" *ngFor="let invoice of orders.invoice">
                        <table class="adc-table">
                          <tr>
                            <td colspan="2">Port of Loading</td>
                            <td colspan="2">Name & address of Exporter:</td>
                            <td colspan="9"></td>
                          </tr>
                          <tr>
                            <td>ADC Entry No</td>
                            <td>Shipping Bill No & Date</td>
                            <td>Invoice No & Date</td>
                            <td>Name of the Product</td>
                            <td>Batch No</td>
                            <td>Mfg. Date</td>
                            <td>Exp. Date</td>
                            <td>Total Export Qty</td>
                            <td>ADC Sample Qty</td>
                            <td>DSL/DML. No.</td>
                            <td>Name & Address of Consignee</td>
                            <td>FOB value in INR</td>
                            <td>Remarks / CHL Details</td>
                          </tr>
                          <tr *ngFor=" let product of invoice.productsData; index as productIndex ">
                            <td></td>
                            <td>
                              <p class="adc-data">{{getExportData?.e_shipping_bill_no}}</p>
                              <p class="adc-data">{{getExportData?.e_entry_date}}</p>
                              <!-- | date: 'MMM dd, yyyy' -->
                            </td>
                            <td>
                              <p class="adc-data" *ngFor="let invoice of orders.invoice">
                                {{invoice.Inovice.inv_nbr}}</p>
                              <p class="adc-data" *ngFor="let invoice of orders.invoice">
                                {{invoice.Inovice.date_added}}</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>{{product.product_name}}</td>
                            <td>
                              <p class="adc-data">{{product.batch_nbr}}</p>
                            </td>
                            <td>
                              <p class="adc-data">{{product.mfd_date}}</p>
                            </td>
                            <td>
                              <p class="adc-data"> {{product.exp_date}}</p>
                            </td>
                            <td>
                              <p class="adc-data">{{product.product_quantity}}</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="adc-data">100gms</p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                              <p class="adc-data"></p>
                            </td>
                            <td>
                              <p class="shippers-text shipper-hdng">
                                {{orders.selectedOrder.client_name}}</p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_address1}}</p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_address2}}</p>
                              <p class="shippers-text">{{orders.shippingAddr.ship_state}}
                              </p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_countrty}}.</p>
                              <p class="shippers-text">
                                {{orders.shippingAddr.ship_postal_code}}</p>
                            </td>
                            <td class="fob_val">
                              <p *ngIf="((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3'))"
                                contenteditable="false" (keyup)="changefob(invoice.Inovice,$event)" class="adc-data">
                                {{invoice.fobCalValue}}</p>
                              <p *ngIf="!((orders.selectedOrder.orders_types_id=='4') || (orders.selectedOrder.orders_types_id=='3'))"
                                contenteditable="true" (keyup)="changefob(invoice.Inovice,$event)"
                                class="adc-data editable">{{invoice.fobCalValue}}</p>
                            </td>
                            <td>

                            </td>

                          </tr>
                        </table>
                        <div>
                          <div class="adc-enclosure shipper_address">
                            <p class="shipper-head-address">Enclosures:-</p>
                            <p class="shipper-head-address">1. Shipping Bill:</p>
                            <p class="shipper-head-address">2. Invoice:</p>
                            <p class="shipper-head-address">3. Packing List:</p>
                            <!-- <p class="shipper-head-address">Signature of the Exporter with Date & Stamp</p> -->
                            <p class="shipper-head-address">4. Certificate of Analysis:</p>
                            <p class="shipper-head-address">5. Sample:</p>
                            <p class="shipper-head-address">6. Drug Licence:</p>
                            <p class="shipper-head-address">7. If any Intermidate Please
                              Submit MSDS with</p>
                            <p class="shipper-head-address">Supporting Letter:</p>
                          </div>
                          <div class="adc-signature authorized-signature">
                            <p class="authorized-head">Signature of the Exporter with Date &
                              Stamp</p>
                            <p class="authorized-head">Signature of the CHA With Stamp</p>
                          </div>
                        </div>


                      </div>
                    </div>
                  </div>
                </div>
                <!--///////////////-->
                <!--declaration for incentive-->
                <div #Incentivedeclaration [class]="(Incentivedeclaration.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!showDeclarationIncentive">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Declaration for Incentive</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="genDeclarIncen?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="genDeclarIncen?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printInc" (click)="printIncentive()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleDeclarationIncentive()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showDeclarationIncentive">
                        <mat-icon class="toggle-arrow" *ngIf="!showDeclarationIncentive">
                          keyboard_arrow_down</mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showDeclarationIncentive">
                      <div class="shipper_address declaration-one">
                        <p class="shipper-head-address">We intend to claim rewards under
                          Merchandise Exports from India scheme.</p>
                      </div>

                      <div class="authorized-signature">
                        <p class="authorized-head">For {{compnayDetails?.name}}
                        </p>
                        <p class="authorized-head">Authorized Signatory</p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--//////////////////////////////////-->

                <!--scomat declaration-->
                <div #Scomatdeclaration [class]="(Scomatdeclaration.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!showScomatDeclaration">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Scomat Declaration</span>
                      <span fxFlex></span>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateScomatePdf?id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateScomatePdf?id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printSco" (click)="printScomat()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleScomatDeclaration()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="showScomatDeclaration">
                        <mat-icon class="toggle-arrow" *ngIf="!showScomatDeclaration">
                          keyboard_arrow_down</mat-icon>
                      </button>
                    </mat-toolbar>
                    <div class="table-container" *ngIf="showScomatDeclaration">
                      <div class="shipper_address declaration-one">
                        <div class="scomat-address">
                          <div class="scomat-add shipper_address">
                            <p class="shipper-head-address">To</p>
                            <p class="shipper-head-address">Assistant Commissioner of
                              Customs</p>
                            <p class="shipper-head-address">Air Cargo Complex,</p>
                            <p class="shipper-head-address">Shamshabad Airport, Hyd.</p>
                            <p class="shipper-head-address">Sir,</p>
                          </div>
                          <div class="scomat-date shipper_address">
                            <p class="shipper-head-address">Date: {{getSdfData?.check_date}}
                            </p>
                          </div>
                        </div>
                        <div class="scomat-detail">
                          <p>
                            The following products that we are exporting to
                            <b>{{orders.selectedOrder.client_name}}</b> do not come under
                            SCOMAT.
                          </p>
                          <div *ngFor="let invoice of orders.invoice">
                            <div *ngFor=" let product of invoice.productsData; index as productIndex ">
                              <p class="scomat-product-name">{{productIndex+1}}.
                                {{product.product_name}}</p>
                            </div>
                          </div>
                          <p>I request you to do the needful.</p>
                        </div>
                      </div>
                      <div class="authorized-signature">
                        <p>Yours Sincerely,</p>
                        <p class="authorized-head">For {{compnayDetails?.name}}
                        </p>
                        <p class="authorized-head">Authorized Signatory</p>
                      </div>
                    </div>
                  </div>
                </div>
                <!--//////////////////////-->

                <!--whom ever concern-->
                <div #Concern [class]="(Concern.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container" [class.collapse]="!concern">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Turn Over Declaration</span>
                      <span fxFlex></span>
                      <!--<a href="">-->
                      <button mat-icon-button
                        *ngIf="blockContent && (orders.selectedOrder.status != 'In-transit' && orders.selectedOrder.status != 'Cancelled' && orders.selectedOrder.status != 'Delivered')">
                        <mat-icon class="edit-icon" title="Edit" mat-icon-button (click)="editConcern()">mode_edit
                        </mat-icon>
                      </button>
                      <a *ngIf="!clientPermission" target="_blank"
                        href="generateconcernPdf?orders_id={{orders.selectedOrder.id}}&is_printable=1">
                        <button mat-icon-button>
                          <img [src]='images.printer_icon' title="Print">
                        </button>
                      </a>
                      <a href="generateconcernPdf?orders_id={{orders.selectedOrder.id}}&is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!--</a>-->
                      <!-- <button mat-icon-button *ngIf="!printCon" (click)="printConcern()">
                                                <img [src]='images.printer_icon' title="Print">
                                            </button> -->
                      <button mat-icon-button (click)="toggleConcern()">
                        <img [src]='images.grey_arrow' mat-icon-button *ngIf="concern">
                        <mat-icon class="toggle-arrow" *ngIf="!concern">keyboard_arrow_down
                        </mat-icon>
                      </button>

                    </mat-toolbar>
                    <div class="table-container" *ngIf="concern">
                      <div class="shipper_address">
                        <p class="shipper-head-address">We are exporting
                          {{productDetails}} to the
                          <b>{{orders.selectedOrder.client_name}}</b>
                        </p>
                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address">Domestic sales of our firm did not
                          exceed INR
                          <b *ngIf="!concernEditable">{{getConcernData?.concern_data.price}}</b>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput type="number" min="0" max="99999999999999"
                              oninput="validity.valid||(value='')" [name]="concernData.price" placeholder="price"
                              class="price-value" [(ngModel)]="concernData.price">
                          </mat-form-field>
                          during the Current financial Year. So, we request the concerned
                          authorities to release the Consignment for export.
                        </p>

                      </div>
                      <div class="shipper_address">
                        <p class="shipper-head-address sales-heading">Sales in the Financial
                          Year:
                          <a *ngIf="!concernEditable">{{getConcernData?.concern_data.year1 || ''}}</a>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput [name]="concernData.year1" placeholder="year" class="price-value"
                              [(ngModel)]="concernData.year1">
                          </mat-form-field>
                        </p>
                        <p class="shipper-head-address">
                          <span>EXPORT:</span>
                          <span *ngIf="!concernEditable">INR:{{getConcernData?.concern_data.export1}}</span>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput type="number" min="0" max="99999999999999"
                              oninput="validity.valid||(value='')" [name]="concernData.export1"
                              placeholder="Export Price" class="price-value" [(ngModel)]="concernData.export1">
                          </mat-form-field>
                        </p>
                        <p class="shipper-head-address">
                          <span>DOMESTIC:</span>
                          <span *ngIf="!concernEditable">INR:{{getConcernData?.concern_data.domestic1}}</span>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput type="number" min="0" max="99999999999999"
                              oninput="validity.valid||(value='')" [name]="concernData.domestic1"
                              placeholder="Domestic price" class="price-value" [(ngModel)]="concernData.domestic1">
                          </mat-form-field>
                        </p>
                      </div>

                      <div class="shipper_address">
                        <!--<p class="shipper-head-address sales-heading">Sales in the Financial Year <a *ngIf="!concernEditable">2016-2017 (Up to January)</a>                                                </p><input *ngIf="concernEditable" matInput [name]="concernData.year2" placeholder="year"
                                               <input matInput class="price-value" [(ngModel)]="concernData.year2"></p>-->
                        <p class="shipper-head-address sales-heading">Sales in the Financial
                          Year:
                          <a *ngIf="!concernEditable">{{getConcernData?.concern_data.year2}}</a>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput [name]="concernData.year2" placeholder="year" class="price-value"
                              [(ngModel)]="concernData.year2">
                          </mat-form-field>
                        </p>
                        <p class="shipper-head-address">
                          <span>EXPORT:</span>
                          <span *ngIf="!concernEditable">INR:{{getConcernData?.concern_data.export2}}</span>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput type="number" min="0" max="9999999999999999"
                              oninput="validity.valid||(value='')" *ngIf="concernEditable" [name]="concernData.export2"
                              placeholder="Export Price" class="price-value" [(ngModel)]="concernData.export2">
                          </mat-form-field>
                        </p>
                        <p class="shipper-head-address">
                          <span>DOMESTIC:</span>
                          <span *ngIf="!concernEditable">INR:{{getConcernData?.concern_data.domestic2}}</span>
                          <mat-form-field class="custom-input pdf-feild" floatLabel="never" *ngIf="concernEditable">
                            <input matInput type="number" min="0" max="9999999999999999"
                              oninput="validity.valid||(value='')" *ngIf="concernEditable"
                              [name]="concernData.domestic2" placeholder="Domestic price" class="price-value"
                              [(ngModel)]="concernData.domestic2">
                          </mat-form-field>
                        </p>
                      </div>

                      <div class="authorized-signature">
                        <p class="authorized-head">For {{compnayDetails?.name}}
                        </p>
                        <p class="authorized-head">Authorized Signatory</p>
                      </div>
                      <div class="footer-bottom fxflex" *ngIf="concernEditable" fxLayout="row"
                        fxLayoutAlign="end center">
                        <span fxFlex></span>
                        <section class="section-right">
                          <button type="button" (click)="cancelConcern()" mat-button>Cancel</button>
                          <button type="submit" (click)="addConcernData()" mat-raised-button>Save</button>
                        </section>
                        <div class="cb"></div>
                      </div>
                    </div>

                    <!--<div class="footer-bottom fxflex" *ngIf="concernEditable" fxLayout="row" fxLayoutAlign="end center">
                                        <span fxFlex></span>
                                        <section class="section-right">
                                            <button type="button" (click)="cancelConcern()" mat-button>Cancel</button>
                                            <button type="submit" (click)="addConcernData()" mat-raised-button>Save</button>
                                        </section>
                                        <div class="cb"></div>
                                    </div>-->
                  </div>
                </div>
                <!--/////////////////////-->

                <!-- {{invoice.ksmAddr.bankUrl}}{{orders.companyShpAddrDt.ksm_postal_code}} -->
                <!-- /// Adcode -->

                <div #Adcode [class]="(Adcode.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2') && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container sample-document" [class.collapse]="!showScomatDeclaration">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>AD Code</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateadCodePdf/{{orders.companyShpAddrDt.ksm_postal_code}}&is_printable=1">
                                                    <button mat-icon-button>
                                                        <img [src]='images.printer_icon' title="Print">
                                                    </button>
                                                </a> -->
                      <a href="generateadCodePdf/">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///// -->

                <!-- //LUT///////////// -->
                <div #Lut [class]="(Lut.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && showDocuments && !clientPermission">
                  <div class="inner-container sample-document" [class.collapse]="!showScomatDeclaration">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>LUT</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateLutPdf?is_printable=1">
                                                <button mat-icon-button>
                                                    <img [src]='images.printer_icon' title="Print">
                                                </button>
                                            </a> -->
                      <a href="generateLutPdf?is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printSco" (click)="printScomat()">
                                            <img [src]='images.printer_icon' title="Print">
                                        </button> -->
                      <!-- <button mat-icon-button (click)="toggleScomatDeclaration()">
                                            <img [src]='images.grey_arrow' mat-icon-button *ngIf="showScomatDeclaration">
                                            <mat-icon class="toggle-arrow" *ngIf="!showScomatDeclaration">keyboard_arrow_down</mat-icon>
                                        </button> -->
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///////////////////////////// -->
                <!-- //Iec///////////// -->
                <div #Iec [class]="(Iec.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && showDocuments && !clientPermission">
                  <div class="inner-container sample-document">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>IEC</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateSkpPdf?is_printable=1">
                                                    <button mat-icon-button>
                                                        <img [src]='images.printer_icon' title="Print">
                                                    </button>
                                                </a> -->
                      <a href="generateSkpPdf?is_printable=0">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                      <!-- <button mat-icon-button *ngIf="!printSco" (click)="printScomat()">
                                            <img [src]='images.printer_icon' title="Print">
                                        </button> -->
                      <!-- <button mat-icon-button (click)="toggleScomatDeclaration()">
                                            <img [src]='images.grey_arrow' mat-icon-button *ngIf="showScomatDeclaration">
                                            <mat-icon class="toggle-arrow" *ngIf="!showScomatDeclaration">keyboard_arrow_down</mat-icon>
                                        </button> -->
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///////////////////////////// -->
                <!-- //Ssi///////////// -->

                <div #Ssi [class]="(Ssi.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container sample-document" [class.collapse]="!showScomatDeclaration">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>SSI</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateSsiPdf?is_printable=1">
                                                    <button mat-icon-button>
                                                        <img [src]='images.printer_icon' title="Print">
                                                    </button>
                                                </a> -->
                      <a href="generateSsiPdf/">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- ///////////////////////////// -->

                <!-- Unit1 -->
                <div #Unit [class]="(Unit.print?'print':'no-print')"
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList && !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div class="inner-container sample-document" [class.collapse]="!showScomatDeclaration">
                    <mat-toolbar class="package-toolbar">
                      <img class="shipping-image" [src]='images.pdf_download'>
                      <span>Check List</span>
                      <span fxFlex></span>
                      <!-- <a *ngIf="!clientPermission" target="_blank" href="generateSsiPdf?is_printable=1">
                                                            <button mat-icon-button>
                                                                <img [src]='images.printer_icon' title="Print">
                                                            </button>
                                                        </a> -->
                      <a href="generateShipToParty?orders_id={{orders.selectedOrder.id}}">
                        <button mat-icon-button>
                          <img [src]='images.download_arrow' title="Download">
                        </button>
                      </a>
                    </mat-toolbar>
                  </div>
                </div>
                <!-- Unit1 ends  -->
                <!-- </div>
                            <div class="app-container post-shipping-view" [ngClass]="{'showView' : isPostShippingView}"> -->
                <div class="activity-container" #origin
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList &&  !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]='images.pdf_download' title="Activity">
                      <span>Country of Origin </span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <!-- <div class="img_label_type">
                                                                                    <label>Valid File Types:</label>
                                                                                    <p>jpg, jpeg, pdf, png</p>
                                                                                  </div>
                                                                                  <div class="img_label_type">
                                                                                    <label>File Size: </label>
                                                                                    <p>&nbsp;Upto 5MB</p>
                                                                                  </div> -->
                      <div class="image-upload" [ngClass]="{'justify': originFileAttachments.length}"
                        [class.not-allowed]="pointerEvent">
                        <div *ngIf="!clientPermission" ng2FileDrop [ngClass]="{'file-over': hasDropZoneOver}"
                          (fileOver)="fileOverBase($event)" (onFileDrop)="fileDrop($event)" [uploader]="uploader"
                          class="file-zone" [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered'}" multiple>
                          <input id="addedFiles" type="file" ng2FileSelect [uploader]="uploader"
                            (change)="fileSelected($event)" [hidden]="true" multiple />
                          <div class="pdf-upload attachment_upload layout-column">

                            <label for="addedFiles">
                              <div class="upload_post">
                                <div class="upload_section" (click)="setAddedFilesUrl('origin')">
                                  <mat-icon class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                    role="img" aria-hidden="true">add</mat-icon>
                                  <h3 class="contact-text">Upload</h3>


                                </div>

                              </div>


                            </label>

                          </div>

                        </div>
                        <div class="image_wrap" *ngFor="let file of originFileAttachments; let i = index">
                          <div class="upload_post">
                            <div class="upload_section">
                              <a [href]="file.link_url" target="_blank">
                                <img
                                  *ngIf="file.link_url.lastIndexOf('.pdf') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.xlsx') == -1"
                                  class="list-upload-img" [src]='file.link_url'>
                                <div style="width: 216px; height: 200px" *ngIf="file.link_url.lastIndexOf('.pdf') > -1">
                                  <pdf-viewer [src]="file.link_url" [original-size]="false" [fit-to-page]="false"
                                    [render-text]="true" [show-all]="false" [page]="1"
                                    style="display: block; height: 200px"></pdf-viewer>
                                </div>


                                <ngx-doc-viewer
                                  *ngIf="file.link_url.lastIndexOf('.doc') > -1 || file.link_url.lastIndexOf('.docx') > -1 || file.link_url.lastIndexOf('.xlsx') > -1"
                                  [url]="file.link_url" viewer="google" style="width:216px;height:200px;">
                                </ngx-doc-viewer>

                                <div class="file-info">
                                  {{file.original_name}}
                                </div>
                              </a>

                            </div>
                            <div class="icon-section">
                              <div class="icon-content">
                                <span class="img-icon">
                                  <a class="click" title="Download" (click)="downloadFile(file, i, 'origin')">
                                    <span class="material-icons">
                                      cloud_download
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a class="click" title="Preview" (click)="openPreview(file, i, 'origin')">
                                    <span class="material-icons">
                                      remove_red_eye
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a class="click" title="Delete" (click)="deleteUploads(file, i, 'origin')"
                                  [class.disableClass]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'"
                                  [class.events-none]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'">
                                    <span class="material-icons">
                                      delete_outline
                                    </span>
                                  </a>
                                </span>
                              </div>
                            </div>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <!-- Insurance  -->
                <div class="activity-container" #insurance
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList &&  !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]='images.pdf_download' title="Insurance">
                      <span>Insurance</span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <div class="image-upload" [ngClass]="{'justify': insuranceAttachments.length}"
                        [class.not-allowed]="pointerEvent">
                        <div *ngIf="!clientPermission" ng2FileDrop [ngClass]="{'file-over': hasDropZoneOver}"
                          (fileOver)="fileOverBase($event)" (onFileDrop)="fileDrop($event)" [uploader]="uploader"
                          class="file-zone" [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered'}" multiple>
                          <input id="insuranceFiles" type="file" ng2FileSelect [uploader]="uploader"
                            (change)="fileSelected($event)" [hidden]="true" multiple />
                          <div class="pdf-upload attachment_upload layout-column">

                            <label for="insuranceFiles">
                              <div class="upload_post">
                                <div class="upload_section" (click)="setAddedFilesUrl('insuranceFlag')">
                                  <mat-icon class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                    role="img" aria-hidden="true">add</mat-icon>
                                  <h3 class="contact-text">Upload</h3>
                                </div>

                              </div>

                            </label>
                          </div>

                        </div>
                        <div class="image_wrap" *ngFor="let file of insuranceAttachments; let i = index">
                          <div class="upload_post">
                            <div class="upload_section">
                              <a [href]="file.link_url" target="_blank">
                                <img
                                  *ngIf="file.link_url.lastIndexOf('.pdf') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.xlsx') == -1"
                                  class="list-upload-img" [src]='file.link_url'>
                                <div style="width: 216px; height: 200px" *ngIf="file.link_url.lastIndexOf('.pdf') > -1">
                                  <pdf-viewer [src]="file.link_url" [original-size]="false" [fit-to-page]="false"
                                    [render-text]="true" [show-all]="false" [page]="1"
                                    style="display: block; height: 200px"></pdf-viewer>
                                </div>


                                <ngx-doc-viewer
                                  *ngIf="file.link_url.lastIndexOf('.doc') > -1 || file.link_url.lastIndexOf('.docx') > -1 || file.link_url.lastIndexOf('.xlsx') > -1"
                                  [url]="file.link_url" viewer="google" style="width:216px;height:200px;">
                                </ngx-doc-viewer>
                                <div class="file-info">
                                  {{file.original_name}}
                                </div>
                              </a>

                            </div>
                            <div class="icon-section">
                              <div class="icon-content">
                                <span class="img-icon">
                                  <a class="click" title="Download" (click)="downloadFile(file, i, 'insurance')">
                                    <span class="material-icons">
                                      cloud_download
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a class="click" title="Preview" (click)="openPreview(file, i, 'insurance')">
                                    <span class="material-icons">
                                      remove_red_eye
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a class="click" title="Delete" (click)="deleteUploads(file, i, 'insurance')"
                                  [class.disableClass]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'"
                                  [class.events-none]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'">
                                    <span class="material-icons">
                                      delete_outline
                                    </span>
                                  </a>
                                </span>
                              </div>
                            </div>
                          </div>


                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Insurance ends  -->
                <!-- Airway  -->
                <div class="activity-container" #airway
                  *ngIf="(orders.selectedOrder.orders_types_id >'2')  && !showDrumsList &&  !(orders.selectedOrder.orders_types_id=='5') && (orders.packageStatus == 2) && factoryPermission && !clientPermission">
                  <div>
                    <mat-toolbar class="package-toolbar">
                      <img class="logo-img" [src]='images.pdf_download' title="Shipping Bill">
                      <span>Shipping Bill</span>
                      <span fxFlex></span>
                    </mat-toolbar>
                    <div class="address-container activity-status2">
                      <div class="image-upload" [ngClass]="{'justify': airwayAttachments.length}"
                        [class.not-allowed]="pointerEvent">
                        <div *ngIf="!clientPermission" ng2FileDrop [ngClass]="{'file-over': hasDropZoneOver}"
                          (fileOver)="fileOverBase($event)" (onFileDrop)="fileDrop($event)" [uploader]="uploader"
                          class="file-zone" [ngClass]="{'disableClass': selectedOrderStatus == 'Delivered'}" multiple>
                          <input id="airwayFiles" type="file" ng2FileSelect [uploader]="uploader"
                            (change)="fileSelected($event)" [hidden]="true" multiple />
                          <div class="pdf-upload attachment_upload layout-column">

                            <label for="airwayFiles">
                              <div class="upload_post">
                                <div class="upload_section" (click)="setAddedFilesUrl('landing')">
                                  <mat-icon class="contact-add mat-icon notranslate material-icons mat-icon-no-color"
                                    role="img" aria-hidden="true">add</mat-icon>
                                  <h3 class="contact-text">Upload</h3>
                                </div>

                              </div>
                            </label>

                          </div>
                        </div>
                        <div class="image_wrap" *ngFor="let file of airwayAttachments; let i = index">
                          <div class="upload_post">
                            <div class="upload_section">
                              <a [href]="file.link_url" target="_blank">
                                <img
                                  *ngIf="file.link_url.lastIndexOf('.pdf') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.doc') == -1 && file.link_url.lastIndexOf('.xlsx') == -1"
                                  class="list-upload-img" [src]='file.link_url'>
                                <div style="width: 216px; height: 200px" *ngIf="file.link_url.lastIndexOf('.pdf') > -1">
                                  <pdf-viewer [src]="file.link_url" [original-size]="false" [fit-to-page]="false"
                                    [render-text]="true" [show-all]="false" [page]="1"
                                    style="display: block; height: 200px"></pdf-viewer>
                                </div>


                                <ngx-doc-viewer
                                  *ngIf="file.link_url.lastIndexOf('.doc') > -1 || file.link_url.lastIndexOf('.docx') > -1 || file.link_url.lastIndexOf('.xlsx') > -1"
                                  [url]="file.link_url" viewer="google" style="width:216px;height:200px;">
                                </ngx-doc-viewer>
                                <div class="file-info">
                                  {{file.original_name}}
                                </div>
                              </a>

                            </div>
                            <div class="icon-section">
                              <div class="icon-content">
                                <span class="img-icon">
                                  <a class="click" title="Download" (click)="downloadFile(file, i, 'airway')">
                                    <span class="material-icons">
                                      cloud_download
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a class="click" title="Preview" (click)="openPreview(file, i, 'airway')">
                                    <span class="material-icons">
                                      remove_red_eye
                                    </span>
                                  </a>
                                </span>
                                <span class="img-icon">
                                  <a class="click" title="Delete" (click)="deleteUploads(file, i, 'airway')"
                                  [class.disableClass]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'"
                                  [class.events-none]="selectedOrderStatus == 'Delivered' || selectedOrderStatus == 'Cancelled'">
                                    <span class="material-icons">
                                      delete_outline
                                    </span>
                                  </a>
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Airway ends  -->
              </div>
            </div>
          </div>
        </div>
        <div class=" container-ui new-center-empty-ui" *ngIf="showNoDatFound" >
          <mat-card class="no-results">                            
              <div class="empty-img-holder">
                  <!-- <img [src]='images.ordersIcon_o'> -->
                  <span class="material-icons">
                      info
                      </span>
              </div>
              <p class="no-result-text">No Data Found</p>
          </mat-card>
      </div>

      </mat-step>

    </mat-horizontal-stepper>
    <div *ngIf="totalSpinner">
      <mat-spinner class="medium-spinner"></mat-spinner>
    </div>


  </div>
</div>