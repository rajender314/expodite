<div label="Details" class="details-tab " style="border-left: solid 1px #d6d9dc;" >
    <div class="center-section-scroll vh-100 d-flex body-white ">

    
    <div class="page-header-ui">
        <div class="flex-fixed-header page-title  max-container-ui">
            <h1>Company</h1>
        </div>
       
    </div>
    <perfect-scrollbar class=" padding-16">

        <div class="max-container-ui" style="padding-bottom: 20px;">
            <form [formGroup]="detailsForm" class="organisation-details compny-form">
                <!--<button class="add-address-link" mat-button (click)="updateAddress()">
                <mat-icon class="material-icons">add</mat-icon> {{language.defaults.addAddress}}
            </button>-->

                <mat-list fxLayout="row" class="ex-row" >
                 
                        <div fxLayout="column" class="grid-ten" >
                            <div class="page-sub-heading" style="margin-top: 16px;"><h3>Company Details <small> These details will be used in Order and Shipping Documents.</small></h3></div>
                            <div class="ex-row">
                                <mat-form-field class="custom-input mandatory compny-sub-flx grid-six" floatLabel="never">
                                    <label class="custom-label mandatory">{{language.defaults.organisationName}}</label>
                                    <input matInput placeholder={{language.defaults.organisationName}} maxlength=150 (keyup)="selectDetail()" formControlName="name">
                                    <mat-error *ngIf="detailsForm.controls.name.hasError('required') || detailsForm.controls.name.hasError('whitespace')">{{language.validations.organisationName}}</mat-error>
                                </mat-form-field>
                                <mat-form-field class="custom-input compny-sub-flx  grid-six"  floatLabel="never">
                                    <label class="custom-label">Tag Line</label>
                                    <input matInput placeholder=" Tag Line" maxlength=150 (keyup)="selectDetail()" formControlName="tag_line">
                                    <!-- <mat-error *ngIf="detailsForm.controls.company_name.hasError('required') || detailsForm.controls.name.hasError('whitespace')">{{language.validations.organisationName}}</mat-error> -->
                                </mat-form-field>
                            </div>
                            <div class="compny-flx ex-row ">
                                <mat-form-field class="custom-input compny-sub-flx grid-full" floatLabel="never">
                                    <label class="custom-label">Description</label>
                                    <textarea maxlength="250" matInput placeholder=" Description" formControlName="description"></textarea>
                                    <!-- <mat-error *ngIf="detailsForm.controls.company_name.hasError('required') || detailsForm.controls.company_name.hasError('whitespace')">{{language.validations.organisationName}}</mat-error> -->
                                </mat-form-field>
                             </div>
                            
                            <div class="compny-flx ex-row ">
                                <mat-form-field class="custom-input  compny-sub-flx  grid-six" floatLabel="never">
                                    <label class="custom-label ">{{language.defaults.website}}</label>
                                    <input matInput placeholder={{language.defaults.website}} (keyup)="selectDetail()" maxlength=150 formControlName="url">
                                    <mat-error *ngIf="detailsForm.controls.url.hasError('required')">{{language.validations.website}}</mat-error>
                                    <mat-error *ngIf="!detailsForm.controls.url.hasError('required') && detailsForm.controls.url.hasError('pattern')">{{language.validations.validURl}}</mat-error>
                                </mat-form-field>
                            <mat-form-field class="custom-input  compny-sub-flx  grid-six" floatLabel="never" *ngIf="adminUser">
                                <label class="custom-label ">Currency</label>
                                <mat-select placeholder=" Currency" (click)="selectDetail()" formControlName="currency_id">
                                    <mat-option *ngFor="let cur of currencyX" [value]="cur.id">{{cur.name}} ({{cur.type}})</mat-option>
                                </mat-select>
                            </mat-form-field>
                            
                           
    
                                <!-- <mat-form-field fxFlex="80" class="custom-input mandatory compny-sub-flx" floatLabel="never">
                                    <label class="custom-label mandatory">Bank Details</label>
                                    <textarea matInput placeholder="Bank Details" formControlName="bank_details" id="bank_details"></textarea>
                                    <mat-error *ngIf=" !detailsForm.controls.bank_details.pristine && detailsForm.controls.bank_details.hasError('required')">Please Enter Bank Details</mat-error>
                                </mat-form-field> -->
                                </div>
                                <div class="ex-row">
                                    <mat-form-field class="custom-input mandatory grid-six" floatLabel="never" >
                                        <label class="custom-label mandatory">{{language.defaults.emailAddress}}</label>
                                        <input matInput type="email" maxlength=100 placeholder="Email Address" formControlName="email" 
                                        
                                        >
                                        <mat-error *ngIf="detailsForm.controls.email.hasError('pattern')">{{language.validations.emailValidation}}</mat-error>
                                        <mat-error *ngIf="!detailsForm.controls.email.hasError('required')  && detailsForm.controls.email.hasError('required')">{{language.validations.email}}</mat-error>
                                    </mat-form-field>
                                </div>
                <div class="page-sub-heading"><h3>Bank Details <small> These details will be used in Bank Details Documents.</small></h3></div>
    
                                <div class="compny-flx ex-row">
                                    <mat-form-field   class="custom-input  grid-six" floatLabel="never">
                                        <label class="custom-label ">Bank Name</label>
                                        <input matInput placeholder="Bank Name"  maxlength=150  formControlName="bank_name">
                                        <mat-error *ngIf=" !detailsForm.controls.bank_name.pristine && detailsForm.controls.bank_name.hasError('required')">Please Enter Bank Name</mat-error>
                                    </mat-form-field>
                                    <mat-form-field   class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label">Ad Code</label>
                                        <input type="text" matInput #myInput placeholder="Ad Code" formControlName="add_code" id="add_code" />
                                        <mat-error *ngIf="detailsForm.controls.add_code.hasError('pattern')">Please Enter Valid Ad Code</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.add_code.pristine && detailsForm.controls.add_code.hasError('required')">Please Enter Ad Code</mat-error>
                                    </mat-form-field>  
                                </div>
                                
                                <div class="compny-flx ex-row">
                                    <mat-form-field   class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label"> EEFC Account Number </label>
                                        <input type="text" matInput #myInput placeholder="EEFC Account Number" formControlName="eefc_ac_no" id="eefc_ac_no" />
                                        <mat-error *ngIf="detailsForm.controls.eefc_ac_no.hasError('pattern')">Please Enter Valid EEFC Account Number</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.eefc_ac_no.pristine && detailsForm.controls.eefc_ac_no.hasError('required')">Please Enter EEFC Account Number</mat-error>
                                    </mat-form-field>
                                    <mat-form-field   class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label">Current Account Number</label>
                                        <input type="text" matInput #myInput placeholder="Current Account Number" formControlName="current_ac_no" id="current_ac_no" />
                                        <mat-error *ngIf="detailsForm.controls.current_ac_no.hasError('pattern')">Please Enter Valid Current Account Number</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.current_ac_no.pristine && detailsForm.controls.current_ac_no.hasError('required')">Please Enter Current Account Number</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="compny-flx ex-row">
                                    <mat-form-field  class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label">PAN Number</label>
                                        <input   matInput #myInput placeholder="PAN Number" formControlName="pan_no" id="pan_no" />
                                        <mat-error *ngIf="detailsForm.controls.pan_no.hasError('pattern')">Please Enter Valid PAN Number</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.pan_no.pristine && detailsForm.controls.pan_no.hasError('required')">Please Enter PAN Number</mat-error>
                                    </mat-form-field>
                                    
                                    <mat-form-field   class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label">IEC Number</label>
                                        <input type="text" matInput #myInput placeholder="IEC Number" formControlName="iec_no" id="iec_no" />
                                        <mat-error *ngIf="detailsForm.controls.iec_no.hasError('pattern')">Please Enter Valid IEC Number</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.iec_no.pristine && detailsForm.controls.iec_no.hasError('required')">Please Enter IEC Number</mat-error>
                                    </mat-form-field>
                                </div>
                              
                                <div class="compny-flx ex-row">
                                    <mat-form-field  class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label">AD Code Number</label>
                                        <input type="text"  matInput #myInput placeholder="AD Code Number" formControlName="add_code_no" id="add_code_no" />
                                        <mat-error *ngIf="detailsForm.controls.add_code_no.hasError('pattern')">Please Enter Valid AD Code Number</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.add_code_no.pristine && detailsForm.controls.add_code_no.hasError('required')">Please Enter AD Code Number</mat-error>
                                    </mat-form-field>
                                    <mat-form-field  class="custom-input grid-six" floatLabel="never">
                                        <label class="custom-label">END USE</label>
                                        <input  matInput #myInput placeholder="END USE" formControlName="end_use" id="end_use" />
                                        <mat-error *ngIf="detailsForm.controls.end_use.hasError('pattern')">Please Enter Valid END USE</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.end_use.pristine && detailsForm.controls.end_use.hasError('required')">Please Enter END USE</mat-error>
                                    </mat-form-field>
                                </div>
                                <div class="compny-flx  ex-row">
                                    <mat-form-field  class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">GSTIN Type</label>
                                        <input  matInput #myInput placeholder="GSTIN TYPE" formControlName="gstin_type" id="gstn_type" />
                                        <mat-error *ngIf="detailsForm.controls.gstin_type.hasError('pattern')">Please Enter Valid GSTIN Type</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.gstin_type.pristine && detailsForm.controls.gstin_type.hasError('required')">Please Enter GSTIN TYPE</mat-error>
                                    </mat-form-field>
                                    <mat-form-field   class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">Phone Number</label>
                                        <input matInput   maxlength="15" placeholder="Phone Number" type="text" formControlName="phone_number" id="phone" />
                                        <mat-error *ngIf="detailsForm.controls.phone_number.hasError('pattern')">Please Enter Valid Phone Number</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.phone_number.pristine &&  detailsForm.controls.phone_number.hasError('required')">Please Enter valid Phone Number</mat-error>
                                    </mat-form-field>
                                
                                </div>
                                <div class="compny-flx  ex-row">
                                    <mat-form-field   class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">Drug License No</label>
                                        <input matInput   maxlength=50 placeholder="Drug License No"  formControlName="drug_license_no" id="phone" />
                                        <mat-error *ngIf="detailsForm.controls.drug_license_no.hasError('pattern')">Please Enter Valid Drug License No</mat-error>
                                        <!-- <mat-error *ngIf=" !detailsForm.controls.phone_number.pristine &&  detailsForm.controls.phone_number.hasError('required')">Please Enter valid Phone Number</mat-error> -->
                                    </mat-form-field>
                                </div>
                                
                <div class="page-sub-heading"><h3>Company Address <small> These details will be used in footer section in Order Documents.</small></h3></div>
    
                               
                                <div class="compny-flx ex-row">
                                    <mat-form-field  fxFlex="50"  class="custom-input compny-sub-flx grid-six"  floatLabel="never">
                                        <label class="custom-label">Address 1</label>
                                        <input matInput #myInput placeholder="Address 1"  maxlength=100 formControlName="address1" id="address1" />
                                        
                                        <mat-error *ngIf=" !detailsForm.controls.address1.pristine && detailsForm.controls.address1.hasError('required')">Please Enter Address 1</mat-error>
                                    </mat-form-field>
                                
                               
                                    <mat-form-field fxFlex="50" class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">Address 2</label>
                                        <input matInput placeholder="Address 2" formControlName="address2" maxlength=100 id="address2" />
                                        <mat-error *ngIf=" !detailsForm.controls.address2.pristine && detailsForm.controls.address2.hasError('required')">Please Enter Address 2</mat-error>
                                    </mat-form-field>
                                </div>
                                
                            
                           
                            
    
                                <div class="compny-flx ex-row">
                                    <mat-form-field  class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">{{language.defaults.city}}</label>
                                        <input matInput maxlength="30" placeholder="City" formControlName="city" id="city" />
                                        <mat-error *ngIf=" !detailsForm.controls.city.pristine && detailsForm.controls.city.hasError('required')">{{language.validations.city}}</mat-error>
                                    </mat-form-field>
                               
                
                                
                                    <mat-form-field class="custom-input compny-sub-flx grid-six" floatLabel="never" >
                                        <label class="custom-label">Country</label>
                                        <mat-select placeholder={{language.defaults.selectCountry}} (selectionChange)="onCountryChange($event)" formControlName="country_id"
                                        id="country_id">
                                            <!-- <mat-option [value]="Addcontry">Add Country</mat-option> -->
                                            <mat-option *ngFor="let country of countries" [value]="country.id">{{country.name}}</mat-option>
                                        </mat-select>
                                        <mat-error *ngIf=" !detailsForm.controls.country_id.pristine && detailsForm.controls.country_id.hasError('required')">Please Select Country</mat-error>
                                    </mat-form-field>
                               
                                </div>
                               
            
                            
            
                                <div class="compny-flx ex-row">
                                    <mat-form-field   class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">{{language.defaults.selectState}}</label>
                                        <mat-select placeholder={{language.defaults.selectState}} formControlName="state_province_id" id="state_province_id">
                                                <!-- <mat-option [value]="">No State</mat-option> -->
                                            <mat-option *ngFor="let state of states" [value]="state.id">{{state.name}}</mat-option>
                                        </mat-select>
                                        <mat-error *ngIf=" !detailsForm.controls.state_province_id.pristine && detailsForm.controls.state_province_id.hasError('required')">Please Select State</mat-error>
                                    </mat-form-field>
                                
                
                                <!-- <div class="add-new-address" *ngIf="!detailsForm.get('state_province_id').value">
                                    <mat-form-field fxFlex="80" class="custom-input mandatory" floatLabel="never">
                                        <label class="custom-label">Add State</label>
                                        <input matInput maxlength=100 placeholder="Add State" formControlName="addState">
                                    </mat-form-field>
                                    <span  class="add-new" (click)="addState(detailsForm)">Add State</span>
                                </div> -->
                                
                                
                                
                                
                                    <mat-form-field  class="custom-input compny-sub-flx grid-six" floatLabel="never">
                                        <label class="custom-label">Postal Code</label>
                                        <input type="text" matInput maxlength="10" placeholder="Postal Code" formControlName="postal_code" id="postal_code" />
                                        <mat-error *ngIf="detailsForm.controls.postal_code.hasError('pattern')">Please Enter Valid Postal Code</mat-error>
                                        <mat-error *ngIf=" !detailsForm.controls.postal_code.pristine && detailsForm.controls.postal_code.hasError('required')">{{language.validations.postalCode}}</mat-error>
                                    </mat-form-field>
                                </div>
                            
                                
                           
                            <div class="cb"></div>
                            
    
    
                        </div>
                        <div class="grid-two">
                            <div style="padding-top: 18px;">
                                <div class="page-sub-heading"><h4>Company Logo<mat-icon title="This Logo will be used Order, Shipping and Invoice Documents.">info</mat-icon></h4> </div>
                            
                            
                                                    <div fxLayout="column" (click)="setParameter('company')"class="image-upload org-upload compny-upload" [class.not-allowed]="pointerEvent">
                                                        <div  ng2FileDrop [ngClass]="{'file-over': hasDropZoneOver}" (fileOver)="fileOverBase($event)" (onFileDrop)="fileDrop($event)" [uploader]="uploader" class="file-drop-zone">
                                                            <input id="edit-org-logo" type="file" ng2FileSelect [uploader]="uploader"
                                                              [hidden]="true" />
                                                            <label for="edit-org-logo" class="browse-file" *ngIf="!uploads.length">
                                                                <a>Upload Logo</a>
                                                            </label>
                                                            <!-- <label for="edit-org-logo" class="change-file" *ngIf="uploads.length">
                                                                <a>{{language.defaults.changeFile}}</a>
                                                            </label> -->
                                                            <label for="edit-org-logo" class="image-edit-delete" *ngIf="uploads.length">
                                                                <a class="upload-open">{{language.defaults.changeFile}}</a>
                                                                <!-- <mat-icon>mode_edit</mat-icon> -->
                                                            </label>
                                                        </div>
                                                        <div class="change-user-file">
                                                            <span *ngIf="uploadError" class="error-msg error-strip">*You have selected an invalid file type. Only jpg, jpeg, png files are allowed.</span>
                                                        </div>
                                                        <div class="change-user-file">
                                                            <span *ngIf="sizeError" class="error-msg error-strip">*File more than 5MB is not allowed.</span>
                                                        </div>
                                                        <div class="images">
                                                            <ul *ngIf="uploads.length">
                                                                <li *ngFor="let file of uploads; let i = index">
                                                                    <img [src]="file.source_path" alt="file.filename">
                                                                    <div class="overlay"></div>
                                                                    <mat-icon class="delete" title="Delete" (click)="deleteItem(i)">delete</mat-icon>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div style="padding-top: 24px;">
                                                    <div class="page-sub-heading"><h4>Signature stamp <mat-icon title="This Signature stamp will be used in Invoice Documents.">info</mat-icon> </h4></div>
                                                    <div fxLayout="column" (click)="setParameter('stamp')" class="image-upload org-upload compny-upload" [class.not-allowed]="pointerEvent">
                                        
                                                       
                                                        <div ng2FileDrop [ngClass]="{'file-over': hasDropZoneOver}" 
                                                        (fileOver)="fileOverBase($event)" (onFileDrop)="fileDrop($event)" 
                                                        [uploader]="uploader" class="file-drop-zone">
                                                            <input id="edit-org-logo2" type="file" ng2FileSelect [uploader]="uploader" 
                                                            [hidden]="true" />
                                                            <label for="edit-org-logo2" class="browse-file" *ngIf="!uploads1.length">
                                                                <a>Upload Stamp</a>
                                                            </label>
                                                            <!-- <label for="edit-org-logo" class="change-file" *ngIf="uploads.length">
                                                                <a>{{language.defaults.changeFile}}</a>
                                                            </label> -->
                                                            <label for="edit-org-logo2" class="image-edit-delete" *ngIf="uploads1.length">
                                                                <a class="upload-open">{{language.defaults.changeFile}}</a>
                                                                <!-- <mat-icon>mode_edit</mat-icon> -->
                                                            </label>
                                                        </div>
                                                        <div class="change-user-file">
                                                            <span *ngIf="uploadError1" class="error-msg error-strip">*You have selected an invalid file type. Only jpg, jpeg, png files are allowed.</span>
                                                        </div>
                                                        <div class="change-user-file">
                                                            <span *ngIf="sizeError1" class="error-msg error-strip">*File more than 5MB is not allowed.</span>
                                                        </div>
                                                        <div class="images">
                                                            <ul *ngIf="uploads1.length">
                                                                <li *ngFor="let file of uploads1; let i = index">
                                                                    <img [src]="file.source_path" alt="file.filename">
                                                                    <div class="overlay"></div>
                                                                    <mat-icon class="delete" title="Delete" (click)="deleteItem1(i)">delete</mat-icon>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                        </div>
                   
                    
                   
                    
                </mat-list>
                <div class="cb"></div>
                
              
            </form>
        </div>

    
    </perfect-scrollbar>

    <div class="document-footer " fxLayout="row" fxLayoutAlign="end center" *ngIf="detailsForm.dirty || showSavePanel" >
        <div class="w-100  max-container-ui justify-content-end d-flex">
        <button type="button" mat-button (click)="cancel(detailsForm)">{{language.defaults.cancel}}</button>
        <button type="submit" mat-raised-button (click)="updateOrganization(detailsForm)" [disabled]="detailsForm.invalid">{{language.defaults.save}}</button>
    </div>
    </div>
</div>
    <div >
       
        <!-- <mat-toolbar class="detail-toolbar">
            <span class="title">Address Details</span>
        </mat-toolbar>
        <div class="contacts-billable">
            <mat-card class="contacts-card add-address" (click)="updateAddress()">
                <mat-card-content>
                    <mat-icon class="contact-add">add</mat-icon>
                    <h3 class="contact-text">{{language.defaults.addAddress}}</h3>
                </mat-card-content>
            </mat-card>
            <mat-card class="contacts-card title-card" *ngFor="let org of organizationDetails; let i = index">
                <mat-card-title class="address-title">Address {{i+1}}</mat-card-title>
                <div class="contact-details">
                    <h3 class="contact-name">
                        {{org.address_type}}
                    </h3>
                    <p class="contact-address" title="{{org.company_name}}">{{org.company_name}}</p>
                    <p class="contact-address" title="{{org.address1}}">{{org.address1}}</p>
                    <p class="contact-address" *ngIf="org.address2" title="{{org.address2}}">{{org.address2}}</p>
                    <p class="contact-address" *ngIf="org.city" title="{{org.city}}">{{org.city}}</p>
                    <p class="contact-address" title="{{org.state}}">{{org.state}}</p>
                    <p class="contact-address" title="{{org.country_name}}">{{org.country_name}}</p>
                </div>
                <div class="contact-editDelete">
                    <div class="contact-edit" (click)="updateAddress(org, i)">
                        <span>edit</span>
                        <span class="divider-one"></span>
                    </div>
                    <div class="contact-delete" (click)="deleteOrganizationAddress(org, i)">
                        <span>delete</span>
                    </div>
                </div>
                <div class="cb"></div>
            </mat-card>
        </div>
        <div *ngIf="!myProfile">
            <mat-toolbar class="detail-toolbar">
                <span class="title">My Version of {{companyDetails.companyName}}</span>
            </mat-toolbar>
            <div class="version-products">
                <mat-card class="client-documents-card product-card" *ngIf="!noProducts">
                    <mat-list class="product">
                        <mat-list-item class="products-list product-divider">
                            <h4 mat-header class="product-header">{{language.defaults.productName}}</h4>
                        </mat-list-item>
                        <mat-accordion class="product-accordion">
                            <mat-expansion-panel *ngFor="let product of productsList">
                                <mat-expansion-panel-header [expandedHeight]="'48px'">
                                    <mat-panel-title>
                                        <span class="prod-name">{{product.name}}</span>
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <ng-template matExpansionPanelContent>
                                    <div>
                                        <mat-card class="client-documents-card product-card">
                                            <mat-list class="product">
                                                <mat-list-item class="products-list product-divider">
                                                    <h4 mat-header class="product-header">Price Range</h4>
                                                    <h4 mat-header class="price-header">Default Price ({{clientCurrency}})</h4>
                                                </mat-list-item>
                                                <mat-list-item class="products-list" *ngFor="let range of product.priceRange">
                                                    <span mat-header class="prod-name">{{range.range_name}}</span>
                                                    <span>{{range.range_price}}</span>
                                                </mat-list-item>
                                            </mat-list>
                                        </mat-card>
                                    </div>
                                </ng-template>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </mat-list>
                </mat-card>
            </div>
        </div> -->
    </div>
    <div class="no-record no-clients" *ngIf="!fetchingData && emptyAddressData">
        <p>No Details Found</p>
    </div>
</div>