<div
  class="center-section-scroll vh-100 d-flex media-list-data holy-grail body-white"
>
  <div class="flex-fixed-header menu-title">
    <h2 style="font-weight: 400">Document Templates ({{ totalCount }})</h2>
    <span class="add-link custom-tooltip import-img" (click)="getTemplate()" *ngIf="isAddPerm">
      <img [src]="images.add" />
      <span class="tooltiptext">Add</span>
    </span>
  </div>
  <div class="app-search-container search-small">
    <mat-form-field class="search" floatLabel="never">
      <input
        matInput
        placeholder="{{ language.defaults.search }}"
        #search
        (keyup)="searchTemplate(search.value, $event)"
        (blur)="!search.value.length ? (open = false) : (open = true)"
      />
      <mat-icon matPrefix class="org-search">search</mat-icon>
      <mat-icon matSuffix *ngIf="searching" class="spinner">
        <mat-spinner class="small-spinner"></mat-spinner>
      </mat-icon>
      <mat-icon
        matSuffix
        *ngIf="!searching && search.value.length"
        (click)="search.value = ''; searchTemplate(search.value)"
        >close</mat-icon
      >
    </mat-form-field>
  </div>
  <perfect-scrollbar class="p-l-8 p-r-8">
    <div
      class="list-items"
      infiniteScroll
      [infiniteScrollDistance]="1"
      [infiniteScrollThrottle]="50"
      (scrolled)="onScroll()"
      [scrollWindow]="false"
    >
      <mat-spinner class="medium-spinner" *ngIf="fetchingData"></mat-spinner>
      <mat-list *ngIf="!fetchingData" class="media-list">
        <!-- <div>
          <mat-expansion-panel class="shipment_panel">
            <mat-expansion-panel-header
              [collapsedHeight]="'40px'"
              [expandedHeight]="'40px'"
            >
              <mat-list-item class="inactive-tab shipping_item inv_hover">
                <h4 mat-line class="shipment_title">Documents</h4>
              </mat-list-item>
            </mat-expansion-panel-header>
            <ng-container *ngFor="let list of categoryType">
              <mat-list-item
                (click)="getTemplate(list)"
                class="inactive-tab"
                title="Export Invoice"
              >
                <h4 mat-line>{{ list.name }}</h4>
              </mat-list-item>
            </ng-container>
          </mat-expansion-panel>
        </div> -->
        <div>
          <ng-container *ngFor="let item of docMapArray">
            <mat-expansion-panel class="shipment_panel" >
              <mat-expansion-panel-header
                [collapsedHeight]="'40px'"
                [expandedHeight]="'40px'"
              >
                <mat-list-item class="inactive-tab shipping_item" >
                  <h4 mat-line class="shipment_title font-600">
                    {{ getDocTempTypeName(item.key) }}
                  </h4>
                </mat-list-item>
              </mat-expansion-panel-header>

              <ng-container *ngFor="let list of item.value">
                <mat-list-item
                  [class.active]="list.id === documentData.id"
                  (click)="getTemplate(list)"
                  class="inactive-tab"
                  title="{{ list.name }}"
                  class="admin-internal-menu-list"
                >
                  <h4 mat-line>{{ list.name }}</h4>
                </mat-list-item>
              </ng-container>
            </mat-expansion-panel>
          </ng-container>
        </div>
        <!-- <mat-list-item
          @AdminListAnimate
          *ngFor="let list of categoryType"
          (click)="getTemplate(list)"
          [class.active]="list.id === documentData.id"
        >
          <div class="media d-flex align-items-center">
            <div class="media-body" style="padding-left: 2px">
              <h1
                class="font-weight-bold d-block text-nowrap single"
                title="{{ list.name }}"
              >
                {{ list.name }}
              </h1>
            </div>
          </div>
        </mat-list-item> -->
        <mat-list-item *ngIf="paginationScroll">{{
          language.defaults.loading
        }}</mat-list-item>
      </mat-list>
      <div
        class="search-empty admin-search"
        *ngIf="noDocuTemplate && !fetchingData"
      >
        No Templates Found
      </div>
    </div>
  </perfect-scrollbar>
  <app-pagination
    *ngIf="totalCount != 0"
    [pageLimit]="totalCount"
    (pageloadMore)="loadMore($event)"
  ></app-pagination>
</div>
